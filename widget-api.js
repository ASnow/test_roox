gadgets=window.gadgets||{};shindig=window.shindig||{};osapi=window.osapi||{};var safeJSON=window.safeJSON,tamings___=window.tamings___||[],bridge___,caja___=window.caja___,___=window.___;
gadgets.log=function(){function b(a,b){var m=Array.prototype.slice.call(arguments,1);!(a<h)&&g&&(a===c&&g.warn?g.warn.apply?g.warn.apply(g,m):g.warn(b):a===d&&g.error?g.error.apply?g.error.apply(g,m):g.error(b):g.log&&(g.log.apply?g.log.apply(g,m):g.log(b)))}var a=function(a){var c=Array.prototype.slice.call(arguments,0);c.unshift(1);b.apply(null,c)};a.INFO=1;var c=2;a.WARNING=c;var d=3;a.ERROR=d;a.NONE=4;gadgets.warn=function(a){var e=Array.prototype.slice.call(arguments,0);e.unshift(c);b.apply(null,
e)};gadgets.error=function(a){var c=Array.prototype.slice.call(arguments,0);c.unshift(d);b.apply(null,c)};gadgets.setLogLevel=function(a){h=a};var h=1;(function(a){"true"!==function(){var b=a.localStorage,c=a.sessionStorage;return{getValue:function(a){var f;(f=c&&c.getItem(a))||(f=b&&b.getItem(a));return f}}}().getValue("com.roox.cm.Common.App.Properties.unit.IsLogEnabled")&&(h=4)})(window);var g=window.console?window.console:window.opera?window.opera.postError:void 0;return a}();
tamings___.push(function(b){caja___.whitelistFuncs([[gadgets,"log"],[gadgets,"warn"],[gadgets,"error"],[gadgets,"setLogLevel"]]);caja___.whitelistProps([[gadgets.log,"INFO"],[gadgets.log,"WARNING"],[gadgets.log,"ERROR"],[gadgets.log,"NONE"]])});
window.gadgets.config||(gadgets.config=function(){function b(a,c){for(var e in c)c.hasOwnProperty(e)&&("object"===typeof a[e]&&"object"===typeof c[e]?b(a[e],c[e]):a[e]=c[e])}function a(b){var c="";if(3==b.nodeType||4==b.nodeType)c=b.nodeValue;else if(b.innerText)c=b.innerText;else if(b.innerHTML)c=b.innerHTML;else if(b.firstChild){c=[];for(b=b.firstChild;b;b=b.nextSibling)c.push(a(b));c=c.join("")}return c}function c(c){var e;e=document.scripts||document.getElementsByTagName("script");if(!e||0==e.length)e=
null;else{var f;if(g.u)for(var d=0;!f&&d<e.length;++d){var h=e[d];h.src&&0==h.src.indexOf(g.u)&&(f=h)}f||(f=e[e.length-1]);e=!f.src?null:f}if(e){var r;e=a(e);try{r=(new Function("return ("+e+"\n)"))()}catch(C){}if("object"!==typeof r){try{r=(new Function("return ({"+e+"\n})"))()}catch(x){}r="object"===typeof r?r:{}}g.f&&1==g.f.length&&!r[g.f[0]]&&(e={},e[g.f[0]]=r,r=e);b(c,r);(r=window.___cfg)&&b(c,r)}}function d(a){for(var b in f)if(f.hasOwnProperty(b))for(var c=f[b],e=0,d=c.length;e<d;++e)a(b,c[e])}
function h(){try{for(var a=window,b=null;a!==window.top;a=a.parent)if(b=a.__getConfigHook,"function"==typeof b)return b;b=a.__getConfigHook;return"function"==typeof b?b:null}catch(c){gadgets.warn("Unexpected exception while obtaining config hook "+c)}return null}var g,f={},e={};return{register:function(a,b,c,e){var d=f[a];d||(d=[],f[a]=d);d.push({validators:b||{},callback:c,callOnUpdate:e})},get:function(a){return a?e[a]||{}:e},init:function(a,f){g=window.___jsl||{};b(e,a);c(e);b(e,window.___config||
{});var p=h();p&&b(e,p()||{});d(function(a,b){var c=e[a];if(c&&!f){var d=b.validators,g;for(g in d)if(d.hasOwnProperty(g)&&!d[g](c[g]))throw Error('Invalid config value "'+c[g]+'" for parameter "'+g+'" in component "'+a+'"');}if(b.callback)try{b.callback(e)}catch(m){gadgets.error(m)}})},update:function(a,c){var f=[];d(function(b,d){(a.hasOwnProperty(b)||c&&e&&e[b])&&d.callback&&d.callOnUpdate&&f.push(d.callback)});e=c?{}:e||{};b(e,a);for(var g=0,h=f.length;g<h;++g)f[g](e)}}}());
(function(){gadgets.config.EnumValidator=function(b){var a=[];if(1<arguments.length)for(var c=0,d;d=arguments[c];++c)a.push(d);else a=b;return function(b){for(var c=0;a[c];++c)if(b===a[c])return!0;return!1}};gadgets.config.RegExValidator=function(b){return function(a){return b.test(a)}};gadgets.config.ExistsValidator=function(b){return"undefined"!==typeof b};gadgets.config.NonEmptyStringValidator=function(b){return"string"===typeof b&&0<b.length};gadgets.config.BooleanValidator=function(b){return"boolean"===
typeof b};gadgets.config.LikeValidator=function(b){return function(a){for(var c in b)if(b.hasOwnProperty(c)&&!(0,b[c])(a[c]))return!1;return!0}}})();gadgets.util=gadgets.util||{};gadgets.util.makeClosure=function(b,a,c){for(var d=[],h=2,g=arguments.length;h<g;++h)d.push(arguments[h]);return function(){for(var c=d.slice(),e=0,g=arguments.length;e<g;++e)c.push(arguments[e]);return a.apply(b,c)}};gadgets.util.makeEnum=function(b){var a,c,d={};for(a=0;c=b[a];++a)d[c]=c;return d};
gadgets.util=gadgets.util||{};
(function(){gadgets.util.createElement=function(b){var a;if(!document.body||document.body.namespaceURI)try{a=document.createElementNS("http://www.w3.org/1999/xhtml",b)}catch(c){}return a||document.createElement(b)};gadgets.util.createIframeElement=function(b){var a=gadgets.util.createElement("iframe");try{var c,d=["\x3c","iframe"],h=b||{},g;for(g in h)h.hasOwnProperty(g)&&(d.push(" "),d.push(g),d.push('\x3d"'),d.push(gadgets.util.escapeString(h[g])),d.push('"'));d.push("\x3e\x3c/");d.push("iframe");
d.push("\x3e");c=d.join("");var f=gadgets.util.createElement(c);if(f&&(!a||f.tagName==a.tagName&&f.namespaceURI==a.namespaceURI))a=f}catch(e){}c=a;b=b||{};for(var m in b)b.hasOwnProperty(m)&&(c[m]=b[m]);return a};gadgets.util.getBodyElement=function(){if(document.body)return document.body;try{var b=document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","body");if(b&&1==b.length)return b[0]}catch(a){}return document.documentElement||document}})();gadgets.util=gadgets.util||{};
gadgets.util.attachBrowserEvent=function(b,a,c,d){"undefined"!=typeof b.addEventListener?b.addEventListener(a,c,d):"undefined"!=typeof b.attachEvent?b.attachEvent("on"+a,c):gadgets.warn("cannot attachBrowserEvent: "+a)};gadgets.util.removeBrowserEvent=function(b,a,c,d){b.removeEventListener?b.removeEventListener(a,c,d):b.detachEvent?b.detachEvent("on"+a,c):gadgets.warn("cannot removeBrowserEvent: "+a)};gadgets.util=gadgets.util||{};
(function(){var b=[];gadgets.util.registerOnLoadHandler=function(a){b.push(a)};gadgets.util.runOnLoadHandlers=function(){gadgets.util.registerOnLoadHandler=function(a){a()};for(var a=0,c=b.length;a<c;++a)b[a]();b=void 0}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.util,"registerOnLoadHandler"]])});gadgets.util=gadgets.util||{};
(function(){function b(a,b){return String.fromCharCode(b)}var a={0:!1,10:!0,13:!0,34:!0,39:!0,60:!0,62:!0,92:!0,8232:!0,8233:!0,65282:!0,65287:!0,65308:!0,65310:!0,65340:!0};gadgets.util.escape=function(a,b){if(a){if("string"===typeof a)return gadgets.util.escapeString(a);if("array"===typeof a)for(var h=0,g=a.length;h<g;++h)a[h]=gadgets.util.escape(a[h]);else if("object"===typeof a&&b){h={};for(g in a)a.hasOwnProperty(g)&&(h[gadgets.util.escapeString(g)]=gadgets.util.escape(a[g],!0));return h}}return a};
gadgets.util.escapeString=function(b){if(!b)return b;for(var d=[],h,g,f=0,e=b.length;f<e;++f)h=b.charCodeAt(f),g=a[h],!0===g?d.push("\x26#",h,";"):!1!==g&&d.push(b.charAt(f));return d.join("")};gadgets.util.unescapeString=function(a){return!a?a:a.replace(/&#([0-9]+);/g,b)}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.util,"escape"],[gadgets.util,"escapeString"],[gadgets.util,"unescapeString"]])});gadgets.util=gadgets.util||{};
(function(){var b=null;gadgets.util.getUrlParameters=function(a){var c="undefined"===typeof a;if(null!==b&&c)return b;var d={};a=a||document.location.href;var h=a.indexOf("?"),g=a.indexOf("#");a=(-1===g?a.substr(h+1):[a.substr(h+1,g-h-1),"\x26",a.substr(g+1)].join("")).split("\x26");for(var h=window.decodeURIComponent?decodeURIComponent:unescape,g=0,f=a.length;g<f;++g){var e=a[g].indexOf("\x3d");if(-1!==e){var m=a[g].substring(0,e),e=a[g].substring(e+1),e=e.replace(/\+/g," ");try{d[m]=h(e)}catch(n){}}}c&&
(b=d);return d}})();gadgets.util.getUrlParameters();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.util,"getUrlParameters"]])});gadgets.util=gadgets.util||{};(function(){function b(b){a=b["core.util"]||{}}var a={},c={};gadgets.config&&gadgets.config.register("core.util",null,b);gadgets.util.getFeatureParameters=function(b){return"undefined"===typeof a[b]?null:a[b]};gadgets.util.hasFeature=function(b){return"undefined"!==typeof a[b]};gadgets.util.getServices=function(){return c}})();
tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.util,"getFeatureParameters"],[gadgets.util,"hasFeature"]])});
window.JSON&&(window.JSON.parse&&window.JSON.stringify)&&(gadgets.json=function(){function b(a,b){return this[a]}var a=/___$/;return{parse:function(a){try{return window.JSON.parse(a)}catch(b){return!1}},stringify:function(c){function d(a){return h.call(this,a,b)}var h=window.JSON.stringify,g=Array.prototype.toJSON&&'"[{\\"x\\": 1}]"'===h([{x:1}])?d:h;try{return g(c,function(b,c){return!a.test(b)?c:void 0})}catch(f){return null}}}}());
if(!window.JSON||!window.JSON.parse||!window.JSON.stringify)gadgets.json=function(){function b(a){return 10>a?"0"+a:a}function a(b){var h,g,f;h=/[\"\\\x00-\x1f\x7f-\x9f]/g;switch(typeof b){case "string":return h.test(b)?'"'+b.replace(h,function(a){var b=c[a];if(b)return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+b+'"';case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);case "object":if(!b)return"null";h=[];
if("number"===typeof b.length&&!b.propertyIsEnumerable("length")){f=b.length;for(g=0;g<f;g+=1)h.push(a(b[g])||"null");return"["+h.join(",")+"]"}for(g in b)!/___$/.test(g)&&b.hasOwnProperty(g)&&"string"===typeof g&&(f=a(b[g]))&&h.push(a(g)+":"+f);return"{"+h.join(",")+"}"}return""}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",b(this.getUTCMonth()+1),"-",b(this.getUTCDate()),"T",b(this.getUTCHours()),":",b(this.getUTCMinutes()),":",b(this.getUTCSeconds()),"Z"].join("")};var c={"\b":"\\b",
"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return{stringify:a,parse:function(a){return/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?eval("("+a+")"):!1}}}();gadgets.json.flatten=function(b){var a={};if(null===b||void 0===b)return a;for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];null===d||void 0===d||(a[c]="string"===typeof d?d:gadgets.json.stringify(d))}return a};
tamings___.push(function(b){caja___.tamesTo(gadgets.json.stringify,caja___.getTameGlobal().safeJSON.stringify);caja___.tamesTo(gadgets.json.parse,caja___.getTameGlobal().safeJSON.parse)});
shindig.Auth=function(){function b(b){for(var c=a.split("\x26"),g=0;g<c.length;g++){var f=c[g].split("\x3d");if(2===f.length){var e=f[0],f=f[1];"$"===f&&(f=encodeURIComponent(b[e]),c[g]=e+"\x3d"+f)}}a=c.join("\x26")}var a=null,c=null;gadgets.config.register("shindig.auth",null,function(d){var h=gadgets.util.getUrlParameters();d=d["shindig.auth"]||{};d.authToken?a=d.authToken:h.st&&(a=h.st);null!==a&&b(h);d.trustedJson&&(c=eval("("+d.trustedJson+")"))});return{getSecurityToken:function(){return a},
updateSecurityToken:function(b){a=b},getTrustedData:function(){return c}}};shindig.auth=new shindig.Auth;gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.wpm||(gadgets.rpctx.wpm=function(){function b(a,b,c){"undefined"!=typeof window.addEventListener?window.addEventListener(a,b,c):"undefined"!=typeof window.attachEvent&&window.attachEvent("on"+a,b)}function a(a){var b=gadgets.json.parse(a.data);if(b&&b.f){var e=gadgets.rpc.getTargetOrigin(b.f);(!h||!("undefined"!==typeof a.origin?a.origin!==e:a.domain!==/^.+:\/\/([^:]+).*/.exec(e)[1]))&&c(b,a.origin)}}var c,d,h=!0;return{getCode:function(){return"wpm"},isParentVerifiable:function(){return!0},
init:function(g,f){gadgets.config.register("rpc",null,function(a){if("true"===String((a?a.rpc:{}).disableForceSecure))h=!1});c=g;d=f;b("message",a,!1);d("..",!0);return!0},setup:function(a,b){d(a,!0);return!0},call:function(a,b,c){var d=gadgets.rpc.getTargetOrigin(a),h=gadgets.rpc._getTargetWin(a);d?window.setTimeout(function(){h.postMessage(gadgets.json.stringify(c),d)},0):gadgets.error("No relay set (used as window.postMessage targetOrigin), cannot send cross-domain message");return!0}}}());
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.flash||(gadgets.rpctx.flash=function(){function b(a,b){G[b]=G[b]||function(){a.apply({},arguments)};return O+"."+b}function a(){if(null===r&&document.body&&n){var b=n+"?cb\x3d"+Math.random()+"\x26origin\x3d"+v+"\x26jsl\x3d1",c=document.createElement("div");c.style.height="1px";c.style.width="1px";b='\x3cobject height\x3d"1" width\x3d"1" id\x3d"'+m+'" type\x3d"application/x-shockwave-flash"\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"always"\x3e\x3c/param\x3e\x3cparam name\x3d"movie" value\x3d"'+b+
'"\x3e\x3c/param\x3e\x3cembed type\x3d"application/x-shockwave-flash" allowScriptAccess\x3d"always" src\x3d"'+b+'" height\x3d"1" width\x3d"1"\x3e\x3c/embed\x3e\x3c/object\x3e';document.body.appendChild(c);c.innerHTML=b;r=c.firstChild}++D;null!==B&&(null!==r||D>=x)?window.clearTimeout(B):B=window.setTimeout(a,C)}function c(){w[".."]||(e(".."),M++,M>=N&&null!==y?(window.clearTimeout(y),y=null):y=window.setTimeout(c,z))}function d(){if(null!==r&&r.setup)for(;0<s.length;){var a=s.shift(),b=a.targetId;
r.setup(a.token,".."===b?gadgets.rpc.RPC_ID:b,".."===b?"INNER":"OUTER")}null!==B&&window.clearTimeout(B);B=null}function h(){!w[".."]&&null===y&&(y=window.setTimeout(c,z))}function g(a,b,c){b=gadgets.rpc.getTargetOrigin(a);var e=gadgets.rpc.getAuthToken(a);r["sendMessage_"+(".."===a?gadgets.rpc.RPC_ID:a)+"_"+e+"_"+(".."===a?"INNER":"OUTER")].call(r,gadgets.json.stringify(c),b);return!0}function f(a,b,c){var f=gadgets.json.parse(a);(a=f[F])?(t(a,!0),w[a]=!0,".."!==a&&e(a,!0)):window.setTimeout(function(){q(f,
b)},0)}function e(a,b){var c=gadgets.rpc.RPC_ID,e={};e[F]=b?"..":c;e[E]=c;g(a,c,e)}var m="___xpcswf",n=null,p=!1,q=null,t=null,r=null,C=100,x=50,s=[],B=null,D=0,F="_scr",E="_pnt",z=100,N=50,M=0,y=null,w={},v=window.location.protocol+"//"+window.location.host,O,G=function(){window.___jsl=window.___jsl||{};var a=window.___jsl._fm={};O="___jsl._fm";return a}();gadgets.config.register("rpc",null,function(a){p&&(n=a.rpc.commSwf||"//xpc.googleusercontent.com/gadgets/xpc.swf")});b(d,"ready");b(h,"setupDone");
b(f,"receiveMessage");return{getCode:function(){return"flash"},isParentVerifiable:function(){return!0},init:function(a,b){q=a;t=b;return p=!0},setup:function(b,c){s.push({token:c,targetId:b});null===r&&null===B&&(B=window.setTimeout(a,C));return!0},call:g,_receiveMessage:f,_ready:d,_setupDone:h}}());gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.frameElement||(gadgets.rpctx.frameElement=function(){function b(b,f,e){try{if(".."!==f){var h=window.frameElement;if("function"===typeof h[a])return"function"!==typeof h[a][c]&&(h[a][c]=function(a){d(gadgets.json.parse(a))}),h[a](gadgets.json.stringify(e)),!0}else{var n=document.getElementById(b);if("function"===typeof n[a]&&"function"===typeof n[a][c])return n[a][c](gadgets.json.stringify(e)),!0}}catch(p){}return!1}var a="__g2c_rpc",c="__c2g_rpc",d,h;return{getCode:function(){return"fe"},
isParentVerifiable:function(){return!1},init:function(a,b){d=a;h=b;return!0},setup:function(b,c){if(".."!==b)try{document.getElementById(b)[a]=function(a){d(gadgets.json.parse(a))}}catch(e){return!1}".."===b&&(h("..",!0),gadgets.util.registerOnLoadHandler(function(){window.setTimeout(function(){gadgets.rpc.call(b,gadgets.rpc.ACK)},500)}));return!0},call:function(a,c,e){return b(a,c,e)}}}());gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.nix||(gadgets.rpctx.nix=function(){function b(){var e=h[".."];if(!e)if(++f>c)gadgets.warn("Nix transport setup failed, falling back..."),g("..",!1);else{if(!e&&(window.opener&&"GetAuthToken"in window.opener)&&(e=window.opener,e.GetAuthToken()==gadgets.rpc.getAuthToken(".."))){var m=gadgets.rpc.getAuthToken("..");e.CreateChannel(window[a]("..",m),m);h[".."]=e;window.opener=null;g("..",!0);return}window.setTimeout(function(){b()},d)}}var a="GRPC____NIXVBS_get_wrapper",c=10,d=500,h={},
g,f=0;return{getCode:function(){return"nix"},isParentVerifiable:function(){return!1},init:function(b,c){g=c;if("unknown"!==typeof window[a]){window.GRPC____NIXVBS_handle_message=function(a){window.setTimeout(function(){b(gadgets.json.parse(a))},0)};window.GRPC____NIXVBS_create_channel=function(a,b,c){gadgets.rpc.getAuthToken(a)===c&&(h[a]=b,g(a,!0))};var f="Class GRPC____NIXVBS_wrapper\n Private m_Intended\nPrivate m_Auth\nPublic Sub SetIntendedName(name)\n If isEmpty(m_Intended) Then\nm_Intended \x3d name\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\n If isEmpty(m_Auth) Then\nm_Auth \x3d auth\nEnd If\nEnd Sub\nPublic Sub SendMessage(data)\n GRPC____NIXVBS_handle_message(data)\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken \x3d m_Auth\nEnd Function\nPublic Sub CreateChannel(channel, auth)\n Call GRPC____NIXVBS_create_channel(m_Intended, channel, auth)\nEnd Sub\nEnd Class\nFunction "+
a+"(name, auth)\nDim wrap\nSet wrap \x3d New GRPC____NIXVBS_wrapper\nwrap.SetIntendedName name\nwrap.SetAuth auth\nSet "+a+" \x3d wrap\nEnd Function";try{window.execScript(f,"vbscript")}catch(d){return!1}}return!0},setup:function(c,f){if(".."===c)return b(),!0;try{var d=document.getElementById(c),g=window[a](c,f);d.contentWindow.opener=g}catch(h){return!1}return!0},call:function(a,b,c){try{h[a]&&h[a].SendMessage(gadgets.json.stringify(c))}catch(f){return!1}return!0}}}());
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.rmr||(gadgets.rpctx.rmr=function(){function b(a,b,c,e){var f=function(){document.body.appendChild(a);a.src="about:blank";e&&(a.onload=function(){h(e)});a.src=b+"#"+c};document.body?f():gadgets.util.registerOnLoadHandler(function(){f()})}function a(b){var c=null;m[b].searchCounter++;try{var d=gadgets.rpc._getTargetWin(b),c=".."===b?d.frames["rmrtransport-"+gadgets.rpc.RPC_ID]:d.frames["rmrtransport-.."]}catch(h){}d=!1;c&&(d=g(b,c));!d&&!(m[b].searchCounter>e)&&window.setTimeout(function(){a(b)},
f)}function c(a,b,c,e){var f=null;if(f=".."!==c?m[".."]:m[a]){b!==gadgets.rpc.ACK&&f.queue.push(e);if(f.waiting||0===f.queue.length&&!(b===gadgets.rpc.ACK&&e&&!0===e.ackAlone))return!0;0<f.queue.length&&(f.waiting=!0);a=f.relayUri+"#"+d(a);try{f.frame.contentWindow.location=a;var g=10==f.width?20:10;f.frame.style.width=g+"px";f.width=g}catch(h){return!1}}return!0}function d(a){a=m[a];var b={id:a.sendId};if(a){b.d=Array.prototype.slice.call(a.queue,0);var c={s:gadgets.rpc.ACK,id:a.recvId};a.originVerified||
(c.sendToken=a.verifySendToken);a.verifyRecvToken&&(c.recvToken=a.verifyRecvToken);b.d.push(c)}return gadgets.json.stringify(b)}function h(a){for(var b=m[a],e=b.receiveWindow.location.hash.substring(1),f=gadgets.json.parse(decodeURIComponent(e))||{},e=f.d||[],d=!1,g=!1,h=0,f=b.recvId-f.id,n=0;n<e.length;++n){var E=e[n];if(E.s===gadgets.rpc.ACK){q(a,!0);b.verifyRecvToken=E.sendToken;!b.originVerified&&(E.recvToken&&String(E.recvToken)==String(b.verifySendToken))&&(b.originVerified=!0);b.waiting&&(g=
!0);b.waiting=!1;var z=Math.max(0,E.id-b.sendId);b.queue.splice(0,z);b.sendId=Math.max(b.sendId,E.id||0)}else d=!0,++h<=f||(++b.recvId,p(E,b.originVerified?b.relayOrigin:void 0))}if(d||g&&0<b.queue.length)c(a,gadgets.rpc.ACK,".."===a?gadgets.rpc.RPC_ID:"..",{ackAlone:d})}function g(a,c){function e(){h(a)}var f=m[a];try{var g=!1,g="document"in c;if(!g)return!1;g="object"==typeof c.document;if(!g||"about:blank"===c.location.href)return!1}catch(n){return!1}f.receiveWindow=c;"undefined"===typeof c.attachEvent?
c.onresize=e:c.attachEvent("onresize",e);".."===a?b(f.frame,f.relayUri,d(a),a):h(a);return!0}var f=500,e=10,m={},n=gadgets.util.getUrlParameters().parent,p,q;return{getCode:function(){return"rmr"},isParentVerifiable:function(){return!0},init:function(a,b){p=a;q=b;return!0},setup:function(c,e){try{if("object"!==typeof m[c]){var f=document.createElement("iframe"),g=f.style;g.position="absolute";g.top="0px";g.border="0";g.opacity="0";g.width="10px";g.height="1px";f.id="rmrtransport-"+c;f.name=f.id;var h=
gadgets.rpc.getRelayUrl(c),q=gadgets.rpc.getOrigin(n);h||(h=q+"/robots.txt");m[c]={frame:f,receiveWindow:null,relayUri:h,relayOrigin:q,searchCounter:0,width:10,waiting:!0,queue:[],sendId:0,recvId:0,verifySendToken:String(Math.random()),verifyRecvToken:null,originVerified:!1};".."!==c&&b(f,h,d(c));a(c)}}catch(p){return gadgets.warn("Caught exception setting up RMR: "+p),!1}return!0},call:function(a,b,e){return c(a,e.s,b,e)}}}());gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.ifpc||(gadgets.rpctx.ifpc=function(){function b(a){for(var b=[],c=0,d=a.length;c<d;++c)b.push(encodeURIComponent(gadgets.json.stringify(a[c])));return b.join("\x26")}function a(a){for(var b,d=c.length-1;0<=d;--d){var g=c[d];try{if(g&&(g.recyclable||"complete"===g.readyState))if(g.parentNode.removeChild(g),window.ActiveXObject)c[d]=g=null,c.splice(d,1);else{g.recyclable=!1;b=g;break}}catch(h){}}b||(b=document.createElement("iframe"),b.style.border=b.style.width=b.style.height="0px",b.style.visibility=
"hidden",b.style.position="absolute",b.onload=function(){this.recyclable=!0},c.push(b));b.src=a;window.setTimeout(function(){document.body.appendChild(b)},0)}var c=[],d=0,h,g={};return{getCode:function(){return"ifpc"},isParentVerifiable:function(){return!0},init:function(a,b){h=b;h("..",!0);return!0},setup:function(a,b){h(a,!0);return!0},call:function(c,e,g){var h=gadgets.rpc.getRelayUrl(c);++d;if(!h)return gadgets.warn("No relay file assigned for IFPC"),!1;var p=null,q=[];if(g.l)p=[h,"#",b([e,d,
1,0,b([e,g.s,"","",e].concat(g.a))])].join(""),q.push(p);else{p=[h,"#",c,"\x26",e,"@",d,"\x26"].join("");c=encodeURIComponent(gadgets.json.stringify(g));e=2E3-p.length;g=Math.ceil(c.length/e);for(var h=0,t;0<c.length;)t=c.substring(0,e),c=c.substring(e),q.push([p,g,"\x26",h,"\x26",t].join("")),h+=1}do a(q.shift());while(0<q.length);return!0},_receiveMessage:function(a,b){var c=a[1],d=parseInt(a[2],10),h=parseInt(a[3],10),q=a[a.length-1],t=1===d;if(1<d){g[c]||(g[c]=[]);g[c][h]=q;a:{for(d-=1;0<=d;--d)if("undefined"===
typeof g[c][d]){d=!1;break a}d=!0}d&&(q=g[c].join(""),delete g[c],t=!0)}t&&b(gadgets.json.parse(decodeURIComponent(q)))}}}());
window.gadgets.rpc||(gadgets.rpc=function(){function b(a,b){if(!v[a]){var c=U;b||(c=P);v[a]=c;for(var l=O[a]||[],e=0;e<l.length;++e){var f=l[e];f.t=E[a];c.call(a,f.f,f)}O[a]=[]}}function a(){function a(){da=!0}aa||("undefined"!=typeof window.addEventListener?window.addEventListener("unload",a,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onunload",a),aa=!0)}function c(b,c,l,e,f){if(!E[c]||E[c]!==l)gadgets.error("Invalid auth token. "+E[c]+" vs "+l),J(c,L);f.onunload=function(){M[c]&&
!da&&(J(c,W),gadgets.rpc.removeReceiver(c))};a();e=gadgets.json.parse(decodeURIComponent(e))}function d(a,c){if(a&&"string"===typeof a.s&&"string"===typeof a.f&&a.a instanceof Array)if(E[a.f]&&E[a.f]!==a.t&&(gadgets.error("Invalid auth token. "+E[a.f]+" vs "+a.t),J(a.f,L)),"__ack"===a.s)window.setTimeout(function(){b(a.f,!0)},0);else{a.c&&(a.callback=function(b){gadgets.rpc.call(a.f,"__cb",null,a.c,b)});if(c){var l=h(c);a.origin=c;var e=a.r;if(!e||h(e)!=l)e=c;a[s]=e}l=(B[a.s]||B[""]).apply(a,a.a);
a.c&&"undefined"!==typeof l&&gadgets.rpc.call(a.f,"__cb",null,a.c,l)}}function h(a){if(!a)return"";if(0==a.indexOf("file:"))return"file://";a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);-1==a.indexOf("://")&&(a=window.location.protocol+"//"+a);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));var c="",l=b.indexOf(":");if(-1!=l){var e=b.substring(l+1),b=b.substring(0,l);if("http"===a&&"80"!==e||"https"===a&&"443"!==
e)c=":"+e}return a+"://"+b+c}function g(a){if("/"==a.charAt(0)){var b=a.indexOf("|"),c=0<b?a.substring(1,b):a.substring(1);a=0<b?a.substring(b+1):null;return{id:c,origin:a}}return null}function f(a){if("undefined"===typeof a||".."===a)return window.parent;var b=g(a);if(b)return window.top.frames[b.id];a=String(a);return(b=document.getElementById(a))&&b.contentWindow?b.contentWindow:(b=window.frames[a])&&!b.closed?b:null}function e(a,b){if(!0!==M[a]){"undefined"===typeof M[a]&&(M[a]=0);var c=f(a);
(".."===a||null!=c)&&!0===U.setup(a,b)?M[a]=!0:!0!==M[a]&&10>M[a]++?window.setTimeout(function(){e(a,b)},500):(v[a]=P,M[a]=!0)}}function m(a,b){var c=f(a);if(!y[a]||y[a]!==oa&&c.Function.prototype!==y[a].constructor.prototype){var l=n(a);if(h(l)!==h(window.location.href))return y[a]=oa,!1;try{y[a]=c.gadgets.rpc.receiveSameDomain}catch(e){return y[a]=oa,!1}}return y[a]&&y[a]!==oa?(y[a](b),!0):!1}function n(a){(a=D[a])&&"/"===a.substring(0,1)&&(a="/"===a.substring(1,2)?document.location.protocol+a:
document.location.protocol+"//"+document.location.host+a);return a}function p(a,b,c){/http(s)?:\/\/.+/.test(b)||(0==b.indexOf("//")?b=window.location.protocol+b:"/"==b.charAt(0)?b=window.location.protocol+"//"+window.location.host+b:-1==b.indexOf("://")&&(b=window.location.protocol+"//"+b));D[a]=b;"undefined"!==typeof c&&(F[a]=!!c)}function q(a,b){b=b||"";E[a]=String(b);e(a,b)}function t(a){a=(a.passReferrer||"").split(":",2);G=a[0]||"none";l=a[1]||"origin"}function r(a){"true"===String(a.useLegacyProtocol)&&
(U=gadgets.rpctx.ifpc,U.init(d,b))}function C(a,b){function c(l){l=l?l.rpc:{};t(l);var e=l.parentRelayUrl||"",e=h(w.parent||b)+e;p("..",e,"true"===String(l.useLegacyProtocol));r(l);q("..",a)}!w.parent&&b?c({}):gadgets.config.register("rpc",null,c)}function x(a,b,c){if(".."===a)C(c||w.rpctoken||w.ifpctok||"",b);else a:{var l=null;if("/"!=a.charAt(0)){if(!gadgets.util)break a;l=document.getElementById(a);if(!l)throw Error("Cannot set up gadgets.rpc receiver with ID: "+a+", element not found.");}l=l&&
l.src;b=b||gadgets.rpc.getOrigin(l);p(a,b);b=gadgets.util.getUrlParameters(l);q(a,c||b.rpctoken)}}var s="referer",B={},D={},F={},E={},z=0,N={},M={},y={},w={},v={},O={},G=null,l=null,K=window.top!==window.self,I=window.name,J=function(){},W=1,L=2,R=window.console,ba=R&&R.log&&function(a){R.log(a)}||function(){},P=function(){function a(b){return function(){ba(b+": call ignored")}}return{getCode:function(){return"noop"},isParentVerifiable:function(){return!0},init:a("init"),setup:a("setup"),call:a("call")}}();
gadgets.util&&(w=gadgets.util.getUrlParameters());var da=!1,aa=!1,U="flash"==w.rpctx?gadgets.rpctx.flash:"rmr"==w.rpctx?gadgets.rpctx.rmr:"function"===typeof window.postMessage?gadgets.rpctx.wpm:"object"===typeof window.postMessage?gadgets.rpctx.wpm:window.ActiveXObject?gadgets.rpctx.flash?gadgets.rpctx.flash:gadgets.rpctx.nix:0<navigator.userAgent.indexOf("WebKit")?gadgets.rpctx.rmr:"Gecko"===navigator.product?gadgets.rpctx.frameElement:gadgets.rpctx.ifpc;B[""]=function(){ba("Unknown RPC service: "+
this.s)};B.__cb=function(a,b){var c=N[a];c&&(delete N[a],c.call(this,b))};var oa={};return{config:function(a){"function"===typeof a.securityCallback&&(J=a.securityCallback)},register:function(a,b){if("__cb"===a||"__ack"===a)throw Error("Cannot overwrite callback/ack service");if(""===a)throw Error("Cannot overwrite default service: use registerDefault");B[a]=b},unregister:function(a){if("__cb"===a||"__ack"===a)throw Error("Cannot delete callback/ack service");if(""===a)throw Error("Cannot delete default service: use unregisterDefault");
delete B[a]},registerDefault:function(a){B[""]=a},unregisterDefault:function(){delete B[""]},forceParentVerifiable:function(){U.isParentVerifiable()||(U=gadgets.rpctx.ifpc)},call:function(a,b,c,e){a=a||"..";var f="..";".."===a?f=I:"/"==a.charAt(0)&&(f=gadgets.rpc.getOrigin(window.location.href),f="/"+I+(f?"|"+f:""));++z;c&&(N[z]=c);var d={s:b,f:f,c:c?z:0,a:Array.prototype.slice.call(arguments,3),t:E[a],l:!!F[a]},h;a:if("bidir"===G||"c2p"===G&&".."===a||"p2c"===G&&".."!==a){h=window.location.href;
var w="?";if("query"===l)w="#";else if("hash"===l)break a;w=h.lastIndexOf(w);w=-1===w?h.length:w;h=h.substring(0,w)}else h=null;h&&(d.r=h);!(".."!==a&&null==g(a)&&!document.getElementById(a))&&!m(a,d)&&(h=v[a],!h&&null!==g(a)&&(h=U),h?(F[a]&&(h=gadgets.rpctx.ifpc),!1===h.call(a,f,d)&&(v[a]=P,U.call(a,f,d))):O[a]?O[a].push(d):O[a]=[d])},getRelayUrl:n,setRelayUrl:p,setAuthToken:q,setupReceiver:x,getAuthToken:function(a){return E[a]},removeReceiver:function(a){delete D[a];delete F[a];delete E[a];delete M[a];
delete y[a];delete v[a]},getRelayChannel:function(){return U.getCode()},receive:function(a,b){4<a.length?U._receiveMessage(a,d):c.apply(null,a.concat(b))},receiveSameDomain:function(a){a.a=Array.prototype.slice.call(a.a);window.setTimeout(function(){d(a)},0)},getOrigin:h,getTargetOrigin:function(a){var b=null,b=n(a);b||(b=(b=g(a))?b.origin:".."==a?w.parent:document.getElementById(a).src);return h(b)},init:function(){!1===U.init(d,b)&&(U=P);K?x(".."):gadgets.config.register("rpc",null,function(a){a=
a.rpc||{};t(a);r(a)})},_getTargetWin:f,_parseSiblingId:g,ACK:"__ack",RPC_ID:I||"..",SEC_ERROR_LOAD_TIMEOUT:0,SEC_ERROR_FRAME_PHISH:W,SEC_ERROR_FORGED_MSG:L}}(),gadgets.rpc.init());gadgets.rpc.register("update_security_token",function(b){shindig.auth.updateSecurityToken(b)});
shindig.uri=function(){var b=/^(?:([^:/?#]+):)?(?:\/\/([^/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/;return function(a){function c(a){if(null===a.match(b))throw"Malformed URL: "+a;x=RegExp.$1;s=RegExp.$2;B=RegExp.$3;D=RegExp.$4;E=RegExp.$5}function d(a){for(var b=[],c=0,e=a.length;c<e;++c){var l=a[c][0],f=a[c][1];void 0!==f&&b.push(M(l)+(null!==f?"\x3d"+M(f):""))}return b.join("\x26")}function h(){F&&(D=d(F),F=null);return D}function g(){z&&(E=d(z),z=null);return E}function f(a){F=F||q(D);return t(F,
a)}function e(a){z=z||q(E);return t(z,a)}function m(a,b){F=r(F||q(D),a,b);return y}function n(a,b){z=r(z||q(E),a,b);return y}function p(){return[x,""!==x?":":"",""!==s?"//":"",s].join("")}function q(a){var b=[];a=a.split("\x26");for(var c=0,e=a.length;c<e;++c){var l=a[c].split("\x3d"),f=l.shift(),d=null;0<l.length&&(d=l.join("").replace(/\+/g," "));b.push([f,null!=d?N(d):null])}return b}function t(a,b){for(var c=0,e=a.length;c<e;++c)if(a[c][0]==b)return a[c][1]}function r(a,b,c){var e=b;"string"===
typeof b&&(e={},e[b]=c);for(var l in e){b=!1;c=0;for(var f=a.length;!b&&c<f;++c)a[c][0]==l&&(a[c][1]=e[l],b=!0);b||a.push([l,e[l]])}return a}function C(a,b){a=a||"";a[0]===b&&(a=a.substr(b.length));return a}var x="",s="",B="",D="",F=null,E="",z=null,N=window.decodeURIComponent?decodeURIComponent:unescape,M=window.encodeURIComponent?encodeURIComponent:escape,y=null;"object"===typeof a&&"function"===typeof a.toString?c(a.toString()):a&&c(a);return y={getSchema:function(){return x},getAuthority:function(){return s},
getOrigin:p,getPath:function(){return B},getQuery:h,getFragment:g,getQP:f,getFP:e,setSchema:function(a){x=a;return y},setAuthority:function(a){s=a;return y},setPath:function(a){"undefined"!==typeof a&&null!=a&&(B=("/"===a[0]?"":"/")+a);return y},setQuery:function(a){F=null;D=C(a,"?");return y},setFragment:function(a){z=null;E=C(a,"#");return y},setQP:m,setFP:n,setExistingP:function(a,b){void 0!==f(a,b)&&m(a,b);void 0!==e(a,b)&&n(a,b);return y},toString:function(){var a=h(),b=g();return[p(),B,""!==
a?"?":"",a,""!==b?"#":"",b].join("")}}}}();
gadgets.io=function(){function b(){var a;if("undefined"!=typeof shindig&&shindig.xhrwrapper&&shindig.xhrwrapper.createXHR)return shindig.xhrwrapper.createXHR();if("undefined"!=typeof ActiveXObject)return(a=new ActiveXObject("Msxml2.XMLHTTP"))||(a=new ActiveXObject("Microsoft.XMLHTTP")),a;if("undefined"!=typeof XMLHttpRequest||window.XMLHttpRequest)return new window.XMLHttpRequest;throw"no xhr available";}function a(a,b,c){if(4!==b.readyState)return!0;try{if(!(200==b.status||0==b.status)){var e=""+
b.status;b.responseText&&(e=e+" "+b.responseText);c({errors:[e],rc:b.status,text:b.responseText});return!0}}catch(f){return c({errors:[f.number+" Error not specified"],rc:f.number,text:f.description}),!0}return!1}function c(b,c,e,f){a(b,f,c)||c(h(e,{body:f.responseText}))}function d(b,c,f,d){if(!a(b,d,c)){d=d.responseText;var g=d.indexOf(m)+m.length;g<m.length||(d=d.substr(g),d=eval("("+d+")"),d=d[b],d.oauthState&&(e=d.oauthState),d.st&&shindig.auth.updateSecurityToken(d.st),c(h(f,d)))}}function h(a,
b){var c={text:b.body,rc:b.rc||200,headers:b.headers,oauthApprovalUrl:b.oauthApprovalUrl,oauthError:b.oauthError,oauthErrorText:b.oauthErrorText,errors:[]};if(200>c.rc||400<=c.rc)c.errors=[c.rc+" Error"];else if(void 0!==c.text&&null!==c.text)switch(300<=c.rc&&400>c.rc&&(a.CONTENT_TYPE="TEXT"),a.CONTENT_TYPE){case "JSON":case "FEED":c.data=gadgets.json.parse(c.text);c.data||(c.errors.push("500 Failed to parse JSON"),c.rc=500,c.data=null);break;case "DOM":var e;"undefined"!=typeof ActiveXObject?(e=
new ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.validateOnParse=!1,e.resolveExternals=!1,e.loadXML(c.text)?c.data=e:(c.errors.push("500 Failed to parse XML"),c.rc=500)):(e=(new DOMParser).parseFromString(c.text,"text/xml"),"parsererror"===e.documentElement.nodeName?(c.errors.push("500 Failed to parse XML"),c.rc=500):c.data=e);break;default:c.data=c.text}return c}function g(a,c,e,f,d,g,h,m){var B=b();0==c.indexOf("//")&&(c=document.location.protocol+c);B.open(d,c,!0);e&&(B.onreadystatechange=gadgets.util.makeClosure(null,
h,a,e,g,B));if(null!==f){a="application/x-www-form-urlencoded";"string"===typeof m&&(a=m,m={});m=m||{};m["Content-Type"]||(m["Content-Type"]=a);for(var D in m)B.setRequestHeader(D,m[D])}B.send(f)}var f={},e,m="throw 1; \x3c don't be evil' \x3e";gadgets.config.register("core.io",null,function(a){f=a["core.io"]||{}});return{makeRequest:function(a,b,c){c=c||{};var m=c.METHOD||"GET",r=c.REFRESH_INTERVAL,C,x;c.AUTHORIZATION&&"NONE"!==c.AUTHORIZATION?(C=c.AUTHORIZATION.toLowerCase(),x=shindig.auth.getSecurityToken()):
"GET"===m&&void 0===r&&(r=3600);var s=!0;"undefined"!==typeof c.OWNER_SIGNED&&(s=c.OWNER_SIGNED);var B=!0;"undefined"!==typeof c.VIEWER_SIGNED&&(B=c.VIEWER_SIGNED);var D=c.HEADERS||{};"POST"===m&&!D["Content-Type"]&&(D["Content-Type"]="application/x-www-form-urlencoded");var F=gadgets.util.getUrlParameters();x={url:a,httpMethod:m,headers:gadgets.io.encodeValues(D,!1),postData:c.POST_DATA||"",authz:C||"",st:x||"",contentType:c.CONTENT_TYPE||"TEXT",numEntries:c.NUM_ENTRIES||"3",getSummaries:!!c.GET_SUMMARIES,
signOwner:s,signViewer:B,gadget:F.url,container:F.container||F.synd||"default",bypassSpecCache:gadgets.util.getUrlParameters().nocache||"",getFullHeaders:!!c.GET_FULL_HEADERS};if("oauth"===C||"signed"===C){gadgets.io.oauthReceivedCallbackUrl_&&(x.OAUTH_RECEIVED_CALLBACK=gadgets.io.oauthReceivedCallbackUrl_,gadgets.io.oauthReceivedCallbackUrl_=null);x.oauthState=e||"";for(var E in c)c.hasOwnProperty(E)&&0===E.indexOf("OAUTH_")&&(x[E]=c[E])}C=f.jsonProxyUrl.replace("%host%",document.location.host);
a:{if(gadgets.io.preloaded_&&"GET"===x.httpMethod)for(E=0;E<gadgets.io.preloaded_.length;E++)if((s=gadgets.io.preloaded_[E])&&s.id===x.url){delete gadgets.io.preloaded_[E];200!==s.rc?b({rc:s.rc,errors:[s.rc+" Error"]}):(s.oauthState&&(e=s.oauthState),b(h(c,{body:s.body,rc:s.rc,headers:s.headers,oauthApprovalUrl:s.oauthApprovalUrl,oauthError:s.oauthError,oauthErrorText:s.oauthErrorText,errors:[]})));E=!0;break a}E=!1}E||("GET"===m&&0<r?(m="?refresh\x3d"+r+"\x26"+gadgets.io.encodeValues(x),g(a,C+m,
b,null,"GET",c,d)):g(a,C,b,gadgets.io.encodeValues(x),"POST",c,d))},makeNonProxiedRequest:function(a,b,e,f){e=e||{};g(a,a,b,e.POST_DATA,e.METHOD,e,c,f)},clearOAuthState:function(){e=void 0},encodeValues:function(a,b){var c=!b,e=[],f=!1,d;for(d in a)a.hasOwnProperty(d)&&!/___$/.test(d)&&(f?e.push("\x26"):f=!0,e.push(c?encodeURIComponent(d):d),e.push("\x3d"),e.push(c?encodeURIComponent(a[d]):a[d]));return e.join("")},getProxyUrl:function(a,b){var c=f.proxyUrl;if(!c)return c;var e=b||{},d=e.REFRESH_INTERVAL;
void 0===d&&(d="3600");var g=gadgets.util.getUrlParameters(),e=e.rewriteMime?"\x26rewriteMime\x3d"+encodeURIComponent(e.rewriteMime):"",c=c.replace("%url%",encodeURIComponent(a)).replace("%host%",document.location.host).replace("%rawurl%",a).replace("%refresh%",encodeURIComponent(d)).replace("%gadget%",encodeURIComponent(g.url)).replace("%container%",encodeURIComponent(g.container||g.synd||"default")).replace("%rewriteMime%",e);0==c.indexOf("//")&&(c=window.location.protocol+c);return c}}}();
gadgets.io.RequestParameters=gadgets.util.makeEnum("METHOD CONTENT_TYPE POST_DATA HEADERS AUTHORIZATION NUM_ENTRIES GET_SUMMARIES GET_FULL_HEADERS REFRESH_INTERVAL OAUTH_SERVICE_NAME OAUTH_USE_TOKEN OAUTH_TOKEN_NAME OAUTH_REQUEST_TOKEN OAUTH_REQUEST_TOKEN_SECRET OAUTH_RECEIVED_CALLBACK".split(" "));gadgets.io.MethodType=gadgets.util.makeEnum(["GET","POST","PUT","DELETE","HEAD"]);gadgets.io.ContentType=gadgets.util.makeEnum(["TEXT","DOM","JSON","FEED"]);
gadgets.io.AuthorizationType=gadgets.util.makeEnum(["NONE","SIGNED","OAUTH"]);tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.io,"encodeValues"],[gadgets.io,"getProxyUrl"],[gadgets.io,"makeRequest"]])});
(function(){osapi.newBatch=function(){var b={},a=[],c=function(a){var b={method:a.request.method,id:a.key};a.request.rpc&&(b.params=a.request.rpc);return b};b.execute=function(b){for(var h={},g={},f=0,e=[],m=0;m<a.length;m++){var n=a[m].request.transport;g[n.name]||(e.push(n),f++);g[n.name]=g[n.name]||[];g[n.name].push(c(a[m]))}m=function(c){c.error&&(h.error=c.error);for(var e=0;e<a.length;e++){var g=a[e].key,m=c[g];m&&(h[g]=m.error?m:m.data||m.result)}f--;0===f&&b(h)};for(n=0;n<e.length;n++)e[n].execute(g[e[n].name],
m);0==f&&window.setTimeout(function(){b(h)},0)};b.add=function(c,h){h&&c&&a.push({key:c,request:h});return b};return b}})();
osapi._registerMethod=function(b,a){if("newBatch"!==b){for(var c=b.split("."),d=osapi,h=0;h<c.length-1;h++)d[c[h]]=d[c[h]]||{},d=d[c[h]];var g=c[c.length-1],f;d[g]&&(f=d[g]);d[g]=function(c){c=c||{};c.userId=c.userId||"@viewer";c.groupId=c.groupId||"@self";return new osapi._BoundCall(b,a,c)};"undefined"!==typeof tamings___&&(c=function(){caja___.markTameAsFunction(d[g],b)},f&&f.__taming_index?(d[g].__taming_index=f.__taming_index,tamings___[f.__taming_index]=c):(d[g].__taming_index=tamings___.length,
tamings___.push(c)))}};osapi._BoundCall=function(b,a,c){this.method=b;this.transport=a;this.rpc=c};osapi._BoundCall.prototype.execute=function(b){var a="undefined"!==typeof caja___&&caja___.getUseless&&caja___.getUseless(),c=a?caja___.getUseless():this,d=a?caja___.untame(b):b;b=osapi.newBatch();b.add(this.method,this);b.execute(function(a){a.error?d.call(c,a.error):d.call(c,a[c.method])})};
tamings___.push(function(b){function a(){var a=osapi.newBatch();caja___.whitelistFuncs([[a,"add"],[a,"execute"]]);return caja___.tame(a)}caja___.markTameAsFunction(a,"newBatch");caja___.tamesTo(osapi.newBatch,a);caja___.whitelistCtors([[osapi,"_BoundCall",Object]]);caja___.whitelistMeths([[osapi._BoundCall,"execute"]])});var opensocial=opensocial||{};opensocial.requestSendMessage=function(b,a,c,d){return opensocial.Container.get().requestSendMessage(b,a,c,d)};
opensocial.requestShareApp=function(b,a,c,d){opensocial.Container.get().requestShareApp(b,a,c,d)};opensocial.requestCreateActivity=function(b,a,c){!b||!b.getField(opensocial.Activity.Field.TITLE)&&!b.getField(opensocial.Activity.Field.TITLE_ID)?c&&window.setTimeout(function(){c(new opensocial.ResponseItem(null,null,opensocial.ResponseItem.Error.BAD_REQUEST,"You must pass in an activity with a title or title id."))},0):opensocial.Container.get().requestCreateActivity(b,a,c)};
opensocial.CreateActivityPriority={HIGH:"HIGH",LOW:"LOW"};opensocial.hasPermission=function(b){return opensocial.Container.get().hasPermission(b)};opensocial.requestPermission=function(b,a,c){opensocial.Container.get().requestPermission(b,a,c)};opensocial.Permission={VIEWER:"viewer"};opensocial.getEnvironment=function(){return opensocial.Container.get().getEnvironment()};opensocial.newDataRequest=function(){return opensocial.Container.get().newDataRequest()};opensocial.newActivity=function(b){return opensocial.Container.get().newActivity(b)};
opensocial.newAlbum=function(b){return opensocial.Container.get().newAlbum(b)};opensocial.newMediaItem=function(b,a,c){return opensocial.Container.get().newMediaItem(b,a,c)};opensocial.newMessage=function(b,a){return opensocial.Container.get().newMessage(b,a)};opensocial.EscapeType={HTML_ESCAPE:"htmlEscape",NONE:"none"};opensocial.newIdSpec=function(b){return opensocial.Container.get().newIdSpec(b)};opensocial.newNavigationParameters=function(b){return opensocial.Container.get().newNavigationParameters(b)};
opensocial.invalidateCache=function(){opensocial.Container.get().invalidateCache()};Function.prototype.inherits=function(b){function a(){}this.superClass_=a.prototype=b.prototype;this.prototype=new a;this.prototype.constructor=this};opensocial.Activity=function(b){this.fields_=b};
opensocial.Activity.Field={TITLE_ID:"titleId",TITLE:"title",TEMPLATE_PARAMS:"templateParams",URL:"url",MEDIA_ITEMS:"mediaItems",BODY_ID:"bodyId",BODY:"body",EXTERNAL_ID:"externalId",STREAM_TITLE:"streamTitle",STREAM_URL:"streamUrl",STREAM_SOURCE_URL:"streamSourceUrl",STREAM_FAVICON_URL:"streamFaviconUrl",PRIORITY:"priority",ID:"id",USER_ID:"userId",APP_ID:"appId",POSTED_TIME:"postedTime"};opensocial.Activity.prototype.getId=function(){return this.getField(opensocial.Activity.Field.ID)};
opensocial.Activity.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.Activity.prototype.setField=function(b,a){return this.fields_[b]=a};opensocial.Address=function(b){this.fields_=b||{}};opensocial.Address.Field={TYPE:"type",UNSTRUCTURED_ADDRESS:"unstructuredAddress",PO_BOX:"poBox",STREET_ADDRESS:"streetAddress",EXTENDED_ADDRESS:"extendedAddress",REGION:"region",LOCALITY:"locality",POSTAL_CODE:"postalCode",COUNTRY:"country",LATITUDE:"latitude",LONGITUDE:"longitude"};
opensocial.Address.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.Album=function(b){this.fields_=b||{}};opensocial.Album.Field={DESCRIPTION:"description",ID:"id",LOCATION:"location",MEDIA_ITEM_COUNT:"mediaItemCount",MEDIA_MIME_TYPE:"mediaMimeType",MEDIA_TYPE:"mediaType",OWNER_ID:"ownerId",THUMBNAIL_URL:"thumbnailUrl",TITLE:"title"};opensocial.Album.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};
opensocial.Album.prototype.setField=function(b,a){return this.fields_[b]=a};opensocial.BodyType=function(b){this.fields_=b||{}};opensocial.BodyType.Field={BUILD:"build",HEIGHT:"height",WEIGHT:"weight",EYE_COLOR:"eyeColor",HAIR_COLOR:"hairColor"};opensocial.BodyType.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.Collection=function(b,a,c){this.array_=b||[];this.offset_=a||0;this.totalSize_=c||this.array_.length};
opensocial.Collection.prototype.getById=function(b){for(var a=0;a<this.size();a++){var c=this.array_[a];if(c.getId()===b)return c}return null};opensocial.Collection.prototype.size=function(){return this.array_.length};opensocial.Collection.prototype.each=function(b){for(var a=0;a<this.size();a++)b(this.array_[a])};opensocial.Collection.prototype.asArray=function(){return this.array_};opensocial.Collection.prototype.getTotalSize=function(){return this.totalSize_};
opensocial.Collection.prototype.getOffset=function(){return this.offset_};opensocial.Container=function(){};opensocial.Container.container_=null;opensocial.Container.setContainer=function(b){opensocial.Container.container_=b};opensocial.Container.get=function(){return opensocial.Container.container_};opensocial.Container.prototype.getEnvironment=function(){};opensocial.Container.prototype.requestSendMessage=function(b,a,c,d){gadgets.rpc.call(null,"requestSendMessage",c,b,a,c,d)};
opensocial.Container.prototype.requestShareApp=function(b,a,c,d){c&&window.setTimeout(function(){c(new opensocial.ResponseItem(null,null,opensocial.ResponseItem.Error.NOT_IMPLEMENTED,null))},0)};opensocial.Container.prototype.requestCreateActivity=function(b,a,c){c&&window.setTimeout(function(){c(new opensocial.ResponseItem(null,null,opensocial.ResponseItem.Error.NOT_IMPLEMENTED,null))},0)};opensocial.Container.prototype.hasPermission=function(b){return!1};
opensocial.Container.prototype.requestPermission=function(b,a,c){c&&window.setTimeout(function(){c(new opensocial.ResponseItem(null,null,opensocial.ResponseItem.Error.NOT_IMPLEMENTED,null))},0)};opensocial.Container.prototype.requestData=function(b,a){};opensocial.Container.prototype.newCreateAlbumRequest=function(b,a){};opensocial.Container.prototype.newCreateMediaItemRequest=function(b,a,c){};opensocial.Container.prototype.newDeleteAlbumRequest=function(b,a){};
opensocial.Container.prototype.newFetchPersonRequest=function(b,a){};opensocial.Container.prototype.newFetchPeopleRequest=function(b,a){};opensocial.Container.prototype.newFetchPersonAppDataRequest=function(b,a,c){};opensocial.Container.prototype.newUpdatePersonAppDataRequest=function(b,a){};opensocial.Container.prototype.newRemovePersonAppDataRequest=function(b){};opensocial.Container.prototype.newUpdateAlbumRequest=function(b,a,c){};
opensocial.Container.prototype.newUpdateMediaItemRequest=function(b,a,c,d){};opensocial.Container.prototype.newFetchActivitiesRequest=function(b,a){};opensocial.Container.prototype.newFetchAlbumsRequest=function(b,a){};opensocial.Container.prototype.newFetchMediaItemsRequest=function(b,a){};opensocial.Container.prototype.newFetchMessageCollectionsRequest=function(b,a){};opensocial.Container.prototype.newFetchMessagesRequest=function(b,a,c){};
opensocial.Container.prototype.newCollection=function(b,a,c){return new opensocial.Collection(b,a,c)};opensocial.Container.prototype.newPerson=function(b,a,c){return new opensocial.Person(b,a,c)};opensocial.Container.prototype.newActivity=function(b){return new opensocial.Activity(b)};opensocial.Container.prototype.newAlbum=function(b){return new opensocial.Album(b)};opensocial.Container.prototype.newMediaItem=function(b,a,c){return new opensocial.MediaItem(b,a,c)};
opensocial.Container.prototype.newMessage=function(b,a){return new opensocial.Message(b,a)};opensocial.Container.prototype.newIdSpec=function(b){return new opensocial.IdSpec(b)};opensocial.Container.prototype.newNavigationParameters=function(b){return new opensocial.NavigationParameters(b)};opensocial.Container.prototype.newResponseItem=function(b,a,c,d){return new opensocial.ResponseItem(b,a,c,d)};opensocial.Container.prototype.newDataResponse=function(b,a){return new opensocial.DataResponse(b,a)};
opensocial.Container.prototype.newDataRequest=function(){return new opensocial.DataRequest};opensocial.Container.prototype.newEnvironment=function(b,a){return new opensocial.Environment(b,a)};opensocial.Container.prototype.invalidateCache=function(){};opensocial.Container.isArray=function(b){return b instanceof Array};opensocial.Container.getField=function(b,a,c){return opensocial.Container.escape(b[a],c,!1)};
opensocial.Container.escape=function(b,a,c){return a&&a[opensocial.DataRequest.DataRequestFields.ESCAPE_TYPE]==opensocial.EscapeType.NONE?b:gadgets.util.escape(b,c)};opensocial.DataRequest=function(){this.requestObjects_=[]};opensocial.DataRequest.prototype.requestObjects_=null;opensocial.DataRequest.prototype.getRequestObjects=function(){return this.requestObjects_};opensocial.DataRequest.prototype.add=function(b,a){return this.requestObjects_.push({key:a,request:b})};
opensocial.DataRequest.prototype.send=function(b){opensocial.Container.get().requestData(this,b||function(){})};opensocial.DataRequest.SortOrder={TOP_FRIENDS:"topFriends",NAME:"name"};opensocial.DataRequest.FilterType={ALL:"all",HAS_APP:"hasApp",TOP_FRIENDS:"topFriends",IS_FRIENDS_WITH:"isFriendsWith"};opensocial.DataRequest.PeopleRequestFields={PROFILE_DETAILS:"profileDetail",SORT_ORDER:"sortOrder",FILTER:"filter",FILTER_OPTIONS:"filterOptions",FIRST:"first",MAX:"max",APP_DATA:"appData",ESCAPE_TYPE:"escapeType"};
opensocial.DataRequest.prototype.addDefaultParam=function(b,a,c){b[a]=b[a]||c};opensocial.DataRequest.prototype.addDefaultProfileFields=function(b){var a=opensocial.DataRequest.PeopleRequestFields;b[a.PROFILE_DETAILS]=(b[a.PROFILE_DETAILS]||[]).concat([opensocial.Person.Field.ID,opensocial.Person.Field.NAME,opensocial.Person.Field.THUMBNAIL_URL])};opensocial.DataRequest.prototype.asArray=function(b){return opensocial.Container.isArray(b)?b:[b]};
opensocial.DataRequest.prototype.newCreateAlbumRequest=function(b,a){return opensocial.Container.get().newCreateAlbumRequest(b,a)};opensocial.DataRequest.prototype.newCreateMediaItemRequest=function(b,a,c){return opensocial.Container.get().newCreateMediaItemRequest(b,a,c)};opensocial.DataRequest.prototype.newDeleteAlbumRequest=function(b,a){return opensocial.Container.get().newDeleteAlbumRequest(b,a)};
opensocial.DataRequest.prototype.newFetchPersonRequest=function(b,a){a=a||{};this.addDefaultProfileFields(a);return opensocial.Container.get().newFetchPersonRequest(b,a)};
opensocial.DataRequest.prototype.newFetchPeopleRequest=function(b,a){a=a||{};var c=opensocial.DataRequest.PeopleRequestFields;this.addDefaultProfileFields(a);this.addDefaultParam(a,c.SORT_ORDER,opensocial.DataRequest.SortOrder.TOP_FRIENDS);this.addDefaultParam(a,c.FILTER,opensocial.DataRequest.FilterType.ALL);this.addDefaultParam(a,c.FIRST,0);this.addDefaultParam(a,c.MAX,20);return opensocial.Container.get().newFetchPeopleRequest(b,a)};opensocial.DataRequest.AlbumRequestFields={FIRST:"first",MAX:"max"};
opensocial.DataRequest.MediaItemRequestFields={FIRST:"first",MAX:"max"};opensocial.DataRequest.DataRequestFields={ESCAPE_TYPE:"escapeType"};opensocial.DataRequest.prototype.newFetchPersonAppDataRequest=function(b,a,c){return opensocial.Container.get().newFetchPersonAppDataRequest(b,this.asArray(a),c)};opensocial.DataRequest.prototype.newUpdateAlbumRequest=function(b,a,c){return opensocial.Container.get().newUpdateAlbumRequest(b,a,c)};
opensocial.DataRequest.prototype.newUpdateMediaItemRequest=function(b,a,c,d){return opensocial.Container.get().newUpdateMediaItemRequest(b,a,c,d)};opensocial.DataRequest.prototype.newUpdatePersonAppDataRequest=function(b,a){return opensocial.Container.get().newUpdatePersonAppDataRequest(b,a)};opensocial.DataRequest.prototype.newRemovePersonAppDataRequest=function(b){return opensocial.Container.get().newRemovePersonAppDataRequest(b)};
opensocial.DataRequest.ActivityRequestFields={APP_ID:"appId",FIRST:"first",MAX:"max"};opensocial.DataRequest.prototype.newFetchActivitiesRequest=function(b,a){a=a||{};var c=opensocial.DataRequest.ActivityRequestFields;this.addDefaultParam(a,c.FIRST,0);this.addDefaultParam(a,c.MAX,20);return opensocial.Container.get().newFetchActivitiesRequest(b,a)};
opensocial.DataRequest.prototype.newFetchAlbumsRequest=function(b,a){a=a||{};var c=opensocial.DataRequest.AlbumRequestFields;this.addDefaultParam(a,c.FIRST,0);this.addDefaultParam(a,c.MAX,20);return opensocial.Container.get().newFetchAlbumsRequest(b,a)};
opensocial.DataRequest.prototype.newFetchMediaItemsRequest=function(b,a,c){c=c||{};var d=opensocial.DataRequest.MediaItemRequestFields;this.addDefaultParam(c,d.FIRST,0);this.addDefaultParam(c,d.MAX,20);return opensocial.Container.get().newFetchMediaItemsRequest(b,a,c)};opensocial.DataRequest.prototype.newFetchMessageCollectionsRequest=function(b,a){a=a||{};return opensocial.Container.get().newFetchMessageCollectionsRequest(b,a)};
opensocial.DataRequest.prototype.newFetchMessagesRequest=function(b,a,c){c=c||{};return opensocial.Container.get().newFetchMessagesRequest(b,a,c)};opensocial.DataResponse=function(b,a,c){this.responseItems_=b;this.globalError_=a;this.errorMessage_=c};opensocial.DataResponse.prototype.hadError=function(){return!!this.globalError_};opensocial.DataResponse.prototype.getErrorMessage=function(){return this.errorMessage_};opensocial.DataResponse.prototype.get=function(b){return this.responseItems_[b]};
opensocial.Email=function(b){this.fields_=b||{}};opensocial.Email.Field={TYPE:"type",ADDRESS:"address"};opensocial.Email.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.Enum=function(b,a){this.key=b;this.displayValue=a};opensocial.Enum.prototype.getKey=function(){return gadgets.util.escape(this.key)};opensocial.Enum.prototype.getDisplayValue=function(){return gadgets.util.escape(this.displayValue)};
opensocial.Enum.Smoker={NO:"NO",YES:"YES",SOCIALLY:"SOCIALLY",OCCASIONALLY:"OCCASIONALLY",REGULARLY:"REGULARLY",HEAVILY:"HEAVILY",QUITTING:"QUITTING",QUIT:"QUIT"};opensocial.Enum.Drinker={NO:"NO",YES:"YES",SOCIALLY:"SOCIALLY",OCCASIONALLY:"OCCASIONALLY",REGULARLY:"REGULARLY",HEAVILY:"HEAVILY",QUITTING:"QUITTING",QUIT:"QUIT"};opensocial.Enum.Gender={MALE:"MALE",FEMALE:"FEMALE"};
opensocial.Enum.LookingFor={DATING:"DATING",FRIENDS:"FRIENDS",RELATIONSHIP:"RELATIONSHIP",NETWORKING:"NETWORKING",ACTIVITY_PARTNERS:"ACTIVITY_PARTNERS",RANDOM:"RANDOM"};opensocial.Enum.Presence={AWAY:"AWAY",CHAT:"CHAT",DND:"DND",OFFLINE:"OFFLINE",ONLINE:"ONLINE",XA:"XA"};opensocial.Environment=function(b,a){this.domain=b;this.supportedFields=a};opensocial.Environment.prototype.getDomain=function(){return this.domain};
opensocial.Environment.ObjectType={PERSON:"person",ADDRESS:"address",BODY_TYPE:"bodyType",EMAIL:"email",NAME:"name",ORGANIZATION:"organization",PHONE:"phone",URL:"url",ACTIVITY:"activity",MEDIA_ITEM:"mediaItem",MESSAGE:"message",MESSAGE_TYPE:"messageType",SORT_ORDER:"sortOrder",FILTER_TYPE:"filterType"};opensocial.Environment.prototype.supportsField=function(b,a){return!!(this.supportedFields[b]||[])[a]};opensocial.IdSpec=function(b){this.fields_=b||{}};
opensocial.IdSpec.Field={USER_ID:"userId",GROUP_ID:"groupId",NETWORK_DISTANCE:"networkDistance"};opensocial.IdSpec.PersonId={OWNER:"OWNER",VIEWER:"VIEWER"};opensocial.IdSpec.GroupId={SELF:"SELF",FRIENDS:"FRIENDS",ALL:"ALL"};opensocial.IdSpec.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.IdSpec.prototype.setField=function(b,a){return this.fields_[b]=a};
opensocial.MediaItem=function(b,a,c){this.fields_={};if(c)for(var d in c)c.hasOwnProperty(d)&&(this.fields_[d]=c[d]);this.fields_[opensocial.MediaItem.Field.MIME_TYPE]=b;this.fields_[opensocial.MediaItem.Field.URL]=a};opensocial.MediaItem.Type={IMAGE:"image",VIDEO:"video",AUDIO:"audio"};
opensocial.MediaItem.Field={ALBUM_ID:"albumId",CREATED:"created",DESCRIPTION:"description",DURATION:"duration",FILE_SIZE:"fileSize",ID:"id",LANGUAGE:"language",LAST_UPDATED:"lastUpdated",LOCATION:"location",MIME_TYPE:"mimeType",NUM_COMMENTS:"numComments",NUM_VIEWS:"numViews",NUM_VOTES:"numVotes",RATING:"rating",START_TIME:"startTime",TAGGED_PEOPLE:"taggedPeople",TAGS:"tags",THUMBNAIL_URL:"thumbnailUrl",TITLE:"title",TYPE:"type",URL:"url"};
opensocial.MediaItem.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.MediaItem.prototype.setField=function(b,a){return this.fields_[b]=a};opensocial.MessageCollection=function(b){this.fields_=b||{}};opensocial.MessageCollection.Field={ID:"id",TITLE:"title",TOTAL:"total",UNREAD:"unread",UPDATED:"updated",URLS:"urls"};opensocial.MessageCollection.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};
opensocial.MessageCollection.prototype.setField=function(b,a){return this.fields_[b]=a};opensocial.Message=function(b,a){"string"==typeof b?(this.fields_=a||{},this.fields_[opensocial.Message.Field.BODY]=b):this.fields_=b||{}};
opensocial.Message.Field={APP_URL:"appUrl",BODY:"body",BODY_ID:"bodyId",COLLECTION_IDS:"collectionIds",ID:"id",PARENT_ID:"parentId",RECIPIENTS:"recipients",SENDER_ID:"senderId",STATUS:"status",TIME_SENT:"timeSent",TITLE:"title",TITLE_ID:"titleId",TYPE:"type",UPDATED:"updated",URLS:"urls"};opensocial.Message.Type={EMAIL:"email",NOTIFICATION:"notification",PRIVATE_MESSAGE:"privateMessage",PUBLIC_MESSAGE:"publicMessage"};opensocial.Message.Status={NEW:"new",DELETED:"deleted",FLAGGED:"flagged"};
opensocial.Message.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.Message.prototype.setField=function(b,a){return this.fields_[b]=a};opensocial.Name=function(b){this.fields_=b||{}};opensocial.Name.Field={FAMILY_NAME:"familyName",GIVEN_NAME:"givenName",ADDITIONAL_NAME:"additionalName",HONORIFIC_PREFIX:"honorificPrefix",HONORIFIC_SUFFIX:"honorificSuffix",UNSTRUCTURED:"unstructured"};
opensocial.Name.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.NavigationParameters=function(b){this.fields_=b||{}};opensocial.NavigationParameters.Field={VIEW:"view",OWNER:"owner",PARAMETERS:"parameters"};opensocial.NavigationParameters.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.NavigationParameters.prototype.setField=function(b,a){return this.fields_[b]=a};
opensocial.NavigationParameters.DestinationType={VIEWER_DESTINATION:"viewerDestination",RECIPIENT_DESTINATION:"recipientDestination"};opensocial.Organization=function(b){this.fields_=b||{}};opensocial.Organization.Field={NAME:"name",TITLE:"title",DESCRIPTION:"description",FIELD:"field",SUB_FIELD:"subField",START_DATE:"startDate",END_DATE:"endDate",SALARY:"salary",ADDRESS:"address",WEBPAGE:"webpage"};
opensocial.Organization.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};opensocial.Person=function(b,a,c){this.fields_=b||{};this.isOwner_=a;this.isViewer_=c};
opensocial.Person.Field={ID:"id",NAME:"name",NICKNAME:"nickname",THUMBNAIL_URL:"thumbnailUrl",PROFILE_URL:"profileUrl",CURRENT_LOCATION:"currentLocation",ADDRESSES:"addresses",EMAILS:"emails",PHONE_NUMBERS:"phoneNumbers",ABOUT_ME:"aboutMe",STATUS:"status",PROFILE_SONG:"profileSong",PROFILE_VIDEO:"profileVideo",GENDER:"gender",SEXUAL_ORIENTATION:"sexualOrientation",RELATIONSHIP_STATUS:"relationshipStatus",AGE:"age",DATE_OF_BIRTH:"dateOfBirth",BODY_TYPE:"bodyType",ETHNICITY:"ethnicity",SMOKER:"smoker",
DRINKER:"drinker",CHILDREN:"children",PETS:"pets",LIVING_ARRANGEMENT:"livingArrangement",TIME_ZONE:"timeZone",LANGUAGES_SPOKEN:"languagesSpoken",JOBS:"jobs",JOB_INTERESTS:"jobInterests",SCHOOLS:"schools",INTERESTS:"interests",URLS:"urls",MUSIC:"music",MOVIES:"movies",TV_SHOWS:"tvShows",BOOKS:"books",ACTIVITIES:"activities",SPORTS:"sports",HEROES:"heroes",QUOTES:"quotes",CARS:"cars",FOOD:"food",TURN_ONS:"turnOns",TURN_OFFS:"turnOffs",TAGS:"tags",ROMANCE:"romance",SCARED_OF:"scaredOf",HAPPIEST_WHEN:"happiestWhen",
FASHION:"fashion",HUMOR:"humor",LOOKING_FOR:"lookingFor",RELIGION:"religion",POLITICAL_VIEWS:"politicalViews",HAS_APP:"hasApp",NETWORK_PRESENCE:"networkPresence"};opensocial.Person.prototype.getId=function(){return this.getField(opensocial.Person.Field.ID)};var ORDERED_NAME_FIELDS_=[opensocial.Name.Field.HONORIFIC_PREFIX,opensocial.Name.Field.GIVEN_NAME,opensocial.Name.Field.FAMILY_NAME,opensocial.Name.Field.HONORIFIC_SUFFIX,opensocial.Name.Field.ADDITIONAL_NAME];
opensocial.Person.prototype.getDisplayName=function(){var b=this.getField(opensocial.Person.Field.NAME);if(b){var a=b.getField(opensocial.Name.Field.UNSTRUCTURED);if(a)return a;for(var a="",c=0;c<ORDERED_NAME_FIELDS_.length;c++){var d=b.getField(ORDERED_NAME_FIELDS_[c]);d&&(a+=d+" ")}return a.replace(/^\s+|\s+$/g,"")}return this.getField(opensocial.Person.Field.NICKNAME)};opensocial.Person.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};
opensocial.Person.prototype.getAppData=function(b){};opensocial.Person.prototype.isViewer=function(){return!!this.isViewer_};opensocial.Person.prototype.isOwner=function(){return!!this.isOwner_};opensocial.Phone=function(b){this.fields_=b||{}};opensocial.Phone.Field={TYPE:"type",NUMBER:"number"};opensocial.Phone.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};
opensocial.ResponseItem=function(b,a,c,d){this.originalDataRequest_=b;this.data_=a;this.errorCode_=c;this.errorMessage_=d};opensocial.ResponseItem.prototype.hadError=function(){return!!this.errorCode_};opensocial.ResponseItem.Error={NOT_IMPLEMENTED:"notImplemented",UNAUTHORIZED:"unauthorized",FORBIDDEN:"forbidden",BAD_REQUEST:"badRequest",INTERNAL_ERROR:"internalError",LIMIT_EXCEEDED:"limitExceeded"};opensocial.ResponseItem.prototype.getErrorCode=function(){return this.errorCode_};
opensocial.ResponseItem.prototype.getErrorMessage=function(){return this.errorMessage_};opensocial.ResponseItem.prototype.getOriginalDataRequest=function(){return this.originalDataRequest_};opensocial.ResponseItem.prototype.getData=function(){return this.data_};opensocial.Url=function(b){this.fields_=b||{}};opensocial.Url.Field={TYPE:"type",LINK_TEXT:"linkText",ADDRESS:"address"};opensocial.Url.prototype.getField=function(b,a){return opensocial.Container.getField(this.fields_,b,a)};
tamings___.push(function(b){caja___.whitelistCtors([[window,"JsonRpcRequestItem",Object],[opensocial,"Activity",Object],[opensocial,"Address",Object],[opensocial,"Album",Object],[opensocial,"BodyType",Object],[opensocial,"Container",Object],[opensocial,"Collection",Object],[opensocial,"DataRequest",Object],[opensocial,"DataResponse",Object],[opensocial,"Email",Object],[opensocial,"Enum",Object],[opensocial,"Environment",Object],[opensocial,"IdSpec",Object],[opensocial,"MediaItem",Object],[opensocial,
"Message",Object],[opensocial,"MessageCollection",Object],[opensocial,"Name",Object],[opensocial,"NavigationParameters",Object],[opensocial,"Organization",Object],[opensocial,"Person",Object],[opensocial,"Phone",Object],[opensocial,"ResponseItem",Object],[opensocial,"Url",Object]]);caja___.whitelistMeths([[opensocial.Activity,"getField"],[opensocial.Activity,"getId"],[opensocial.Activity,"setField"],[opensocial.Address,"getField"],[opensocial.Album,"getField"],[opensocial.Album,"setField"],[opensocial.BodyType,
"getField"],[opensocial.Container,"getEnvironment"],[opensocial.Container,"requestSendMessage"],[opensocial.Container,"requestShareApp"],[opensocial.Container,"requestCreateActivity"],[opensocial.Container,"hasPermission"],[opensocial.Container,"requestPermission"],[opensocial.Container,"requestData"],[opensocial.Container,"newCreateAlbumRequest"],[opensocial.Container,"newCreateMediaItemRequest"],[opensocial.Container,"newDeleteAlbumRequest"],[opensocial.Container,"newFetchPersonRequest"],[opensocial.Container,
"newFetchPeopleRequest"],[opensocial.Container,"newFetchPersonAppDataRequest"],[opensocial.Container,"newUpdatePersonAppDataRequest"],[opensocial.Container,"newRemovePersonAppDataRequest"],[opensocial.Container,"newUpdateAlbumRequest"],[opensocial.Container,"newUpdateMediaItemRequest"],[opensocial.Container,"newFetchActivitiesRequest"],[opensocial.Container,"newFetchAlbumsRequest"],[opensocial.Container,"newFetchMediaItemsRequest"],[opensocial.Container,"newFetchMessageCollectionsRequest"],[opensocial.Container,
"newFetchMessagesRequest"],[opensocial.Container,"newCollection"],[opensocial.Container,"newPerson"],[opensocial.Container,"newActivity"],[opensocial.Container,"newAlbum"],[opensocial.Container,"newMediaItem"],[opensocial.Container,"newMessage"],[opensocial.Container,"newIdSpec"],[opensocial.Container,"newNavigationParameters"],[opensocial.Container,"newResponseItem"],[opensocial.Container,"newDataResponse"],[opensocial.Container,"newDataRequest"],[opensocial.Container,"newEnvironment"],[opensocial.Container,
"invalidateCache"],[opensocial.Collection,"asArray"],[opensocial.Collection,"each"],[opensocial.Collection,"getById"],[opensocial.Collection,"getOffset"],[opensocial.Collection,"getTotalSize"],[opensocial.Collection,"size"],[opensocial.DataRequest,"add"],[opensocial.DataRequest,"newCreateAlbumRequest"],[opensocial.DataRequest,"newCreateMediaItemRequest"],[opensocial.DataRequest,"newDeleteAlbumRequest"],[opensocial.DataRequest,"newFetchActivitiesRequest"],[opensocial.DataRequest,"newFetchAlbumsRequest"],
[opensocial.DataRequest,"newFetchMediaItemsRequest"],[opensocial.DataRequest,"newFetchPeopleRequest"],[opensocial.DataRequest,"newFetchPersonAppDataRequest"],[opensocial.DataRequest,"newUpdateAlbumRequest"],[opensocial.DataRequest,"newUpdateMediaItemRequest"],[opensocial.DataRequest,"newFetchPersonRequest"],[opensocial.DataRequest,"newRemovePersonAppDataRequest"],[opensocial.DataRequest,"newUpdatePersonAppDataRequest"],[opensocial.DataRequest,"send"],[opensocial.DataResponse,"get"],[opensocial.DataResponse,
"getErrorMessage"],[opensocial.DataResponse,"hadError"],[opensocial.Email,"getField"],[opensocial.Enum,"getDisplayValue"],[opensocial.Enum,"getKey"],[opensocial.Environment,"getDomain"],[opensocial.Environment,"supportsField"],[opensocial.IdSpec,"getField"],[opensocial.IdSpec,"setField"],[opensocial.MediaItem,"getField"],[opensocial.MediaItem,"setField"],[opensocial.Message,"getField"],[opensocial.Message,"setField"],[opensocial.Name,"getField"],[opensocial.NavigationParameters,"getField"],[opensocial.NavigationParameters,
"setField"],[opensocial.Organization,"getField"],[opensocial.Person,"getDisplayName"],[opensocial.Person,"getField"],[opensocial.Person,"getId"],[opensocial.Person,"isOwner"],[opensocial.Person,"isViewer"],[opensocial.Phone,"getField"],[opensocial.ResponseItem,"getData"],[opensocial.ResponseItem,"getErrorCode"],[opensocial.ResponseItem,"getErrorMessage"],[opensocial.ResponseItem,"getOriginalDataRequest"],[opensocial.ResponseItem,"hadError"],[opensocial.Url,"getField"]]);caja___.whitelistFuncs([[opensocial.Container,
"setContainer"],[opensocial.Container,"get"],[opensocial.Container,"getField"],[opensocial,"getEnvironment"],[opensocial,"hasPermission"],[opensocial,"newActivity"],[opensocial,"newAlbum"],[opensocial,"newDataRequest"],[opensocial,"newIdSpec"],[opensocial,"newMediaItem"],[opensocial,"newMessage"],[opensocial,"newNavigationParameters"],[opensocial,"requestCreateActivity"],[opensocial,"requestPermission"],[opensocial,"requestSendMessage"],[opensocial,"requestShareApp"]]);caja___.whitelistProps([[opensocial,
"CreateActivityPriority"],[opensocial,"EscapeType"],[opensocial.Activity,"Field"],[opensocial.Address,"Field"],[opensocial.Album,"Field"],[opensocial.BodyType,"Field"],[opensocial.DataRequest,"ActivityRequestFields"],[opensocial.DataRequest,"DataRequestFields"],[opensocial.DataRequest,"FilterType"],[opensocial.DataRequest,"Group"],[opensocial.DataRequest,"PeopleRequestFields"],[opensocial.DataRequest,"SortOrder"],[opensocial.Email,"Field"],[opensocial.Enum,"Smoker"],[opensocial.Enum,"Drinker"],[opensocial.Enum,
"Gender"],[opensocial.Enum,"LookingFor"],[opensocial.Enum,"Presence"],[opensocial.Environment,"ObjectType"],[opensocial.IdSpec,"Field"],[opensocial.IdSpec,"GroupId"],[opensocial.IdSpec,"PersonId"],[opensocial.MediaItem,"Field"],[opensocial.MediaItem,"Type"],[opensocial.Message,"Field"],[opensocial.Message,"Type"],[opensocial.MessageCollection,"Field"],[opensocial.Name,"Field"],[opensocial.NavigationParameters,"DestinationType"],[opensocial.NavigationParameters,"Field"],[opensocial.Organization,"Field"],
[opensocial.Person,"Field"],[opensocial.Phone,"Field"],[opensocial.ResponseItem,"Error"],[opensocial.Url,"Field"]]);caja___.whitelistProps([[JsonRpcRequestItem,"rpc"],[JsonRpcRequestItem,"processData"],[JsonRpcRequestItem,"processResponse"],[JsonRpcRequestItem,"errors"]])});shindig._uri=shindig.uri;
shindig.uri=function(){var b=shindig._uri;shindig._uri=null;return function(a){var c=b(a);c.hasSameOrigin=function(a){return c.getOrigin()==a.getOrigin()};c.resolve=function(a){""==c.getSchema()&&c.setSchema(a.getSchema());""==c.getAuthority()&&c.setAuthority(a.getAuthority());var b=c.getPath();if(""==b||"/"!=b.charAt(0)){var g=a.getPath(),f=g.lastIndexOf("/");-1!=f&&g.substring(0,f+1);c.setPath(a.getPath()+b)}};return c}}();
(function(){function b(a,b){var g={POST_DATA:gadgets.json.stringify(a),CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"SIGNED"},f={"Content-Type":"application/json"},e=this.name,m=shindig.auth.getSecurityToken();m&&(c?f.Authorization="OAuth2 "+m:e=e+"?st\x3d"+encodeURIComponent(m));gadgets.io.makeNonProxiedRequest(e,function(a){if(a.errors[0])b({error:{code:a.rc,message:a.text}});else if(a=a.result||a.data,a.error)b(a);else{for(var c={},e=0;e<a.length;e++)c[a[e].id]=a[e];b(c)}},g,f)}function a(a){var h=
a["osapi.services"];c=a["osapi.useOAuth2"];if(h)for(var g in h)if(h.hasOwnProperty(g)&&(0==g.indexOf("http")||0==g.indexOf("//"))){a={name:g.replace("%host%",document.location.host),execute:b};for(var f=h[g],e=0;e<f.length;e++)osapi._registerMethod(f[e],a)}}var c;gadgets.config&&gadgets.config.register("osapi.services",null,a)})();
gadgets&&gadgets.rpc&&function(){function b(a,b){gadgets.rpc.call("..","osapi._handleGadgetRpcMethod",function(a){if(a)if(a.error)b(a);else{for(var c={},f=0;f<a.length;f++)c[a[f].id]=a[f];b(c)}else b({code:500,message:"Container refused the request"})},a)}function a(a){var d={name:"gadgets.rpc",execute:b};if(a=a["osapi.services"])for(var h in a)if(a.hasOwnProperty(h)&&"gadgets.rpc"===h)for(var g=a[h],f=0;f<g.length;f++)osapi._registerMethod(g[f],d);if(osapi.container&&osapi.container.listMethods){var e=
gadgets.util.runOnLoadHandlers,m=!1,n=!1,p=!1,q=function(){!p&&(m&&n)&&(p=!0,e())};gadgets.util.runOnLoadHandlers=function(){m=!0;q()};osapi.container.listMethods({}).execute(function(a){if(!a.error)for(var b=0;b<a.length;b++)"container.listMethods"!=a[b]&&osapi._registerMethod(a[b],d);n=!0;q()});window.setTimeout(function(){n=!0;q()},500)}}gadgets.config&&gadgets.config.register("osapi.services",null,a)}();
gadgets.util.registerOnLoadHandler(function(){osapi&&(osapi.people&&osapi.people.get)&&(osapi.people.getViewer=function(b){b=b||{};b.userId="@viewer";b.groupId="@self";return osapi.people.get(b)},osapi.people.getViewerFriends=function(b){b=b||{};b.userId="@viewer";b.groupId="@friends";return osapi.people.get(b)},osapi.people.getOwner=function(b){b=b||{};b.userId="@owner";b.groupId="@self";return osapi.people.get(b)},osapi.people.getOwnerFriends=function(b){b=b||{};b.userId="@owner";b.groupId="@friends";
return osapi.people.get(b)})});tamings___.push(function(b){gadgets.util.registerOnLoadHandler(function(){osapi&&(osapi.people&&osapi.people.get)&&caja___.whitelistFuncs([[osapi.people,"getViewer"],[osapi.people,"getViewerFriends"],[osapi.people,"getOwner"],[osapi.people,"getOwnerFriends"]])})});
(function(){var b=null,a={},c=gadgets.util.escapeString,d={},h={},g="en",f="US",e=0;gadgets.Prefs=function(){if(!b){var c=gadgets.util.getUrlParameters(),d;for(d in c)c.hasOwnProperty(d)&&(0===d.indexOf("up_")&&3<d.length?a[d.substr(3)]=String(c[d]):"country"===d?f=c[d]:"lang"===d?g=c[d]:"mid"===d&&(e=c[d]));for(var p in h)"undefined"===typeof a[p]&&(a[p]=h[p]);b=this}return b};gadgets.Prefs.setInternal_=function(b,c){var e=!1;if("string"===typeof b){if(!a.hasOwnProperty(b)||a[b]!==c)e=!0;a[b]=c}else for(var f in b)if(b.hasOwnProperty(f)){var d=
b[f];if(!a.hasOwnProperty(f)||a[f]!==d)e=!0;a[f]=d}return e};gadgets.Prefs.setMessages_=function(a){d=a};gadgets.Prefs.setDefaultPrefs_=function(a){h=a};gadgets.Prefs.prototype.getString=function(b){".lang"===b&&(b="lang");return a[b]?c(a[b]):""};gadgets.Prefs.prototype.setDontEscape_=function(){c=function(a){return a}};gadgets.Prefs.prototype.getInt=function(b){b=parseInt(a[b],10);return isNaN(b)?0:b};gadgets.Prefs.prototype.getFloat=function(b){b=parseFloat(a[b]);return isNaN(b)?0:b};gadgets.Prefs.prototype.getBool=
function(b){return(b=a[b])?"true"===b||!0===b||!!parseInt(b,10):!1};gadgets.Prefs.prototype.set=function(a,b){throw Error("setprefs feature required to make this call.");};gadgets.Prefs.prototype.getArray=function(b){if(b=a[b]){b=b.split("|");for(var e=0,f=b.length;e<f;++e)b[e]=c(b[e].replace(/%7C/g,"|"));return b}return[]};gadgets.Prefs.prototype.setArray=function(a,b){throw Error("setprefs feature required to make this call.");};gadgets.Prefs.prototype.getMsg=function(a){return d[a]||""};gadgets.Prefs.prototype.getCountry=
function(){return f};gadgets.Prefs.prototype.getLang=function(){return g};gadgets.Prefs.prototype.getModuleId=function(){return e}})();tamings___.push(function(b){caja___.whitelistCtors([[gadgets,"Prefs",Object]]);caja___.whitelistMeths([[gadgets.Prefs,"getArray"],[gadgets.Prefs,"getBool"],[gadgets.Prefs,"getCountry"],[gadgets.Prefs,"getFloat"],[gadgets.Prefs,"getInt"],[gadgets.Prefs,"getLang"],[gadgets.Prefs,"getMsg"],[gadgets.Prefs,"getString"],[gadgets.Prefs,"set"],[gadgets.Prefs,"setArray"]])});
window.FieldTranslations=function(){function b(a){a&&(a.key=a.value)}function a(a){a&&(a.address=a.value)}return{translateEnumJson:b,translateUrlJson:a,translateServerPersonToJsPerson:function(c,d){if(c.emails)for(var h=0;h<c.emails.length;h++)c.emails[h].address=c.emails[h].value;if(c.phoneNumbers)for(h=0;h<c.phoneNumbers.length;h++)c.phoneNumbers[h].number=c.phoneNumbers[h].value;c.birthday&&(c.dateOfBirth=c.birthday);c.utcOffset&&(c.timeZone=c.utcOffset);if(c.addresses)for(h=0;h<c.addresses.length;h++)c.addresses[h].unstructuredAddress=
c.addresses[h].formatted;c.gender&&(c.gender={key:"male"==c.gender?"MALE":"female"==c.gender?"FEMALE":null,displayValue:c.gender});a(c.profileSong);a(c.profileVideo);if(c.urls)for(h=0;h<c.urls.length;h++)a(c.urls[h]);b(c.drinker);b(c.lookingFor);b(c.networkPresence);b(c.smoker);if(c.organizations){c.jobs=[];c.schools=[];for(h=0;h<c.organizations.length;h++){var g=c.organizations[h];"job"==g.type?c.jobs.push(g):"school"==g.type&&c.schools.push(g)}}c.name&&(c.name.unstructured=c.name.formatted);c.appData&&
(c.appData=opensocial.Container.escape(c.appData,d,!0))},translateJsPersonFieldsToServerFields:function(a){for(var b=0;b<a.length;b++)"dateOfBirth"==a[b]?a[b]="birthday":"timeZone"==a[b]?a[b]="utcOffset":"jobs"==a[b]?a[b]="organizations":"schools"==a[b]&&(a[b]="organizations");a.push("id");a.push("displayName")},translateIsoStringToDate:function(a){a=a.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?"));var b=
0,h=new Date(a[1],0,1);a[3]&&h.setMonth(a[3]-1);a[5]&&h.setDate(a[5]);a[7]&&h.setHours(a[7]);a[8]&&h.setMinutes(a[8]);a[10]&&h.setSeconds(a[10]);a[12]&&h.setMilliseconds(1E3*Number("0."+a[12]));a[14]&&(b=60*Number(a[16])+Number(a[17]),b*="-"==a[15]?1:-1);b-=h.getTimezoneOffset();return new Date(Number(Number(h)+6E4*b))},addAppDataAsProfileFields:function(a){if(a&&a.appData){var b=a.appData;"string"===typeof b&&(b=[b]);for(var h=a.profileDetail||[],g=0;g<b.length;g++)"*"===b[g]?h.push("appData"):h.push("appData."+
b[g]);a.appData=b}},translateStandardArguments:function(a,b){a.first&&(b.startIndex=a.first);a.max&&(b.count=a.max);a.sortOrder&&(b.sortBy=a.sortOrder);a.filter&&(b.filterBy=a.filter);a.filterOp&&(b.filterOp=a.filterOp);a.filterValue&&(b.filterValue=a.filterValue);a.fields&&(b.fields=a.fields)},translateNetworkDistance:function(a,b){a.getField("networkDistance")&&(b.networkDistance=a.getField("networkDistance"))}}}();
var JsonMediaItem=function(b){b=b||{};opensocial.MediaItem.call(this,b.mimeType,b.url,b)};JsonMediaItem.inherits(opensocial.MediaItem);JsonMediaItem.prototype.toJsonObject=function(){return JsonMediaItem.copyFields(this.fields_)};JsonMediaItem.copyFields=function(b){var a={},c;for(c in b)a[c]=b[c];return a};var JsonAlbum=function(b){b=b||{};JsonAlbum.constructObject(b,"location",opensocial.Address);opensocial.Album.call(this,b)};JsonAlbum.inherits(opensocial.Album);
JsonAlbum.prototype.toJsonObject=function(){return JsonAlbum.copyFields(this.fields_)};JsonAlbum.constructObject=function(b,a,c){var d=b[a];d&&(b[a]=new c(d))};JsonAlbum.copyFields=function(b){var a={},c;for(c in b)a[c]=b[c];return a};var JsonActivity=function(b,a){b=b||{};a||JsonActivity.constructArrayObject(b,"mediaItems",JsonMediaItem);opensocial.Activity.call(this,b)};JsonActivity.inherits(opensocial.Activity);
JsonActivity.prototype.toJsonObject=function(){for(var b=JsonActivity.copyFields(this.fields_),a=b.mediaItems||[],c=[],d=0;d<a.length;d++)c[d]=a[d].toJsonObject();b.mediaItems=c;return b};JsonActivity.constructArrayObject=function(b,a,c){if(b=b[a])for(a=0;a<b.length;a++)b[a]=new c(b[a])};JsonActivity.copyFields=function(b){var a={},c;for(c in b)a[c]=b[c];return a};
var JsonPerson=function(b){b=b||{};JsonPerson.constructObject(b,"bodyType",opensocial.BodyType);JsonPerson.constructObject(b,"currentLocation",opensocial.Address);JsonPerson.constructObject(b,"name",opensocial.Name);JsonPerson.constructObject(b,"profileSong",opensocial.Url);JsonPerson.constructObject(b,"profileVideo",opensocial.Url);JsonPerson.constructDate(b,"dateOfBirth");JsonPerson.constructArrayObject(b,"addresses",opensocial.Address);JsonPerson.constructArrayObject(b,"emails",opensocial.Email);
JsonPerson.constructArrayObject(b,"jobs",opensocial.Organization);JsonPerson.constructArrayObject(b,"phoneNumbers",opensocial.Phone);JsonPerson.constructArrayObject(b,"schools",opensocial.Organization);JsonPerson.constructArrayObject(b,"urls",opensocial.Url);JsonPerson.constructEnum(b,"gender");JsonPerson.constructEnum(b,"smoker");JsonPerson.constructEnum(b,"drinker");JsonPerson.constructEnum(b,"networkPresence");JsonPerson.constructEnumArray(b,"lookingFor");opensocial.Person.call(this,b,b.isOwner,
b.isViewer)};JsonPerson.inherits(opensocial.Person);JsonPerson.constructEnum=function(b,a){var c=b[a];c&&(b[a]=new opensocial.Enum(c.key,c.displayValue))};JsonPerson.constructEnumArray=function(b,a){var c=b[a];if(c)for(var d=0;d<c.length;d++)c[d]=new opensocial.Enum(c[d].key,c[d].displayValue)};JsonPerson.constructObject=function(b,a,c){var d=b[a];d&&(b[a]=new c(d))};JsonPerson.constructDate=function(b,a){var c=b[a];c&&(b[a]=FieldTranslations.translateIsoStringToDate(c))};
JsonPerson.constructArrayObject=function(b,a,c){if(b=b[a])for(a=0;a<b.length;a++)b[a]=new c(b[a])};JsonPerson.prototype.getDisplayName=function(){return this.getField("displayName")};JsonPerson.prototype.getAppData=function(b){var a=this.getField("appData");return a&&a[b]};var JsonMessageCollection=function(b){b=b||{};opensocial.MessageCollection.call(this,b)};JsonMessageCollection.inherits(opensocial.MessageCollection);JsonMessageCollection.prototype.toJsonObject=function(){return JsonMessageCollection.copyFields(this.fields_)};
JsonMessageCollection.copyFields=function(b){var a={},c;for(c in b)a[c]=b[c];return a};var JsonMessage=function(b,a){a=a||{};opensocial.Message.call(this,b,a)};JsonMessage.inherits(opensocial.Message);JsonMessage.prototype.toJsonObject=function(){return JsonMessage.copyFields(this.fields_)};JsonMessage.copyFields=function(b){var a={},c;for(c in b)a[c]=b[c];return a};
tamings___.push(function(b){caja___.whitelistCtors([[window,"JsonActivity",opensocial.Activity],[window,"JsonAlbum",opensocial.Album],[window,"JsonMediaItem",opensocial.MediaItem],[window,"JsonMessage",opensocial.Message],[window,"JsonMessageCollection",opensocial.MessageCollection],[window,"JsonPerson",opensocial.Person]]);caja___.whitelistMeths([[JsonPerson,"getDisplayName"],[JsonPerson,"getAppData"]])});
var JsonRpcContainer=function(b){opensocial.Container.call(this);this.path_=b.path.replace("%host%",document.location.host);this.invalidatePath_=b.invalidatePath.replace("%host%",document.location.host);var a=b.supportedFields,c={},d;for(d in a)if(a.hasOwnProperty(d)){c[d]={};for(var h=0;h<a[d].length;h++)c[d][a[d][h]]=!0}this.environment_=new opensocial.Environment(b.domain,c);this.useOAuth2=b.useOAuth2;this.securityToken_=shindig.auth.getSecurityToken();gadgets.rpc.register("shindig.requestShareApp_callback",
JsonRpcContainer.requestShareAppCallback_)},JsonRpcRequestItem=function(b,a){this.rpc=b;this.processData=a||function(a){return a};this.processResponse=function(a,b,h,g){var f=h?JsonRpcContainer.translateHttpError(h.code):null;return new opensocial.ResponseItem(a,h?null:this.processData(b),f,g)}};
(function(){var b={};JsonRpcContainer.inherits(opensocial.Container);JsonRpcContainer.prototype.getEnvironment=function(){return this.environment_};JsonRpcContainer.prototype.requestShareApp=function(a,c,d,h){h="cId_"+Math.random();b[h]=d;d=gadgets.util.unescapeString(c.getField(opensocial.Message.Field.BODY));if(!d||0===d.length)c=gadgets.util.unescapeString(c.getField(opensocial.Message.Field.BODY_ID)),d=gadgets.Prefs.getMsg(c);gadgets.rpc.call("..","shindig.requestShareApp",null,h,a,d)};JsonRpcContainer.requestShareAppCallback_=
function(a,c,d,h){if(callback=b[a])a=b[a]=null,h&&(a={recipientIds:h}),d=new opensocial.ResponseItem(null,a,d),callback(d)};JsonRpcContainer.prototype.requestCreateActivity=function(a,b,d){d=d||function(){};b=opensocial.newDataRequest();var h=opensocial.newIdSpec({userId:"VIEWER"});b.add(this.newCreateActivityRequest(h,a),"key");b.send(function(a){d(a.get("key"))})};JsonRpcContainer.prototype.requestData=function(a,b){b=b||function(){};var d=a.getRequestObjects(),h=d.length;if(0===h)window.setTimeout(function(){b(new opensocial.DataResponse({},
!0))},0);else{for(var g=Array(h),f=0;f<h;f++){var e=d[f];g[f]=e.request.rpc;e.key&&(g[f].id=e.key)}h={CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"SIGNED",POST_DATA:gadgets.json.stringify(g)};g={"Content-Type":"application/json"};f=[this.path_];(e=shindig.auth.getSecurityToken())&&(this.useOAuth2?g.Authorization="OAuth2 "+e:f.push("?st\x3d",encodeURIComponent(e)));this.sendRequest(f.join(""),function(a){if(a.errors[0])JsonRpcContainer.generateErrorResponse(a,d,b);else{a=a.result||a.data;for(var e=
!1,f={},g=0;g<a.length;g++)a[a[g].id]=a[g];for(g=0;g<d.length;g++){var h=d[g],r=a[g];if(h.key&&r.id!==h.key)throw"Request key("+h.key+") and response id("+r.id+") do not match";var C=r.result||r.data,r=r.error,x="";r&&(x=r.message);C=h.request.processResponse(h.request,C,r,x);e=e||C.hadError();h.key&&(f[h.key]=C)}a=new opensocial.DataResponse(f,e);b(a)}},h,g)}};JsonRpcContainer.prototype.sendRequest=function(a,b,d,h){gadgets.io.makeNonProxiedRequest(a,b,d,h)};JsonRpcContainer.generateErrorResponse=
function(a,b,d){a=JsonRpcContainer.translateHttpError(a.rc||a.result.error||a.data.error)||opensocial.ResponseItem.Error.INTERNAL_ERROR;for(var h={},g=0;g<b.length;g++)h[b[g].key]=new opensocial.ResponseItem(b[g].request,null,a);d(new opensocial.DataResponse(h,!0))};JsonRpcContainer.translateHttpError=function(a){if(501==a)return opensocial.ResponseItem.Error.NOT_IMPLEMENTED;if(401==a)return opensocial.ResponseItem.Error.UNAUTHORIZED;if(403==a)return opensocial.ResponseItem.Error.FORBIDDEN;if(400==
a)return opensocial.ResponseItem.Error.BAD_REQUEST;if(500==a)return opensocial.ResponseItem.Error.INTERNAL_ERROR;if(404==a)return opensocial.ResponseItem.Error.BAD_REQUEST;if(417==a)return opensocial.ResponseItem.Error.LIMIT_EXCEEDED};JsonRpcContainer.prototype.makeIdSpec=function(a){return opensocial.newIdSpec({userId:a})};JsonRpcContainer.prototype.translateIdSpec=function(a){var b=a.getField("userId");a=a.getField("groupId");opensocial.Container.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)"OWNER"===
b[d]?b[d]="@owner":"VIEWER"===b[d]&&(b[d]="@viewer");if("FRIENDS"===a)a="@friends";else if("ALL"==a)a="@all";else if("SELF"===a||!a)a="@self";return{userId:b,groupId:a}};JsonRpcContainer.prototype.newFetchPersonRequest=function(a,b){var d=this.newFetchPeopleRequest(this.makeIdSpec(a),b),h=this;return new JsonRpcRequestItem(d.rpc,function(a){return h.createPersonFromJson(a,b)})};JsonRpcContainer.prototype.newFetchPeopleRequest=function(a,b){var d={method:"people.get"};d.params=this.translateIdSpec(a);
FieldTranslations.addAppDataAsProfileFields(b);FieldTranslations.translateStandardArguments(b,d.params);FieldTranslations.translateNetworkDistance(a,d.params);b.profileDetail&&(FieldTranslations.translateJsPersonFieldsToServerFields(b.profileDetail),d.params.fields=b.profileDetail);var h=this;return new JsonRpcRequestItem(d,function(a){var f;f=a.list?a.list:[a];for(var e=[],d=0;d<f.length;d++)e.push(h.createPersonFromJson(f[d],b));return new opensocial.Collection(e,a.startIndex,a.totalResults)})};
JsonRpcContainer.prototype.createPersonFromJson=function(a,b){FieldTranslations.translateServerPersonToJsPerson(a,b);return new JsonPerson(a)};JsonRpcContainer.prototype.getFieldsList=function(a){return this.hasNoKeys(a)||this.isWildcardKey(a[0])?[]:a};JsonRpcContainer.prototype.hasNoKeys=function(a){return!a||0===a.length};JsonRpcContainer.prototype.isWildcardKey=function(a){return"*"===a};JsonRpcContainer.prototype.newFetchPersonAppDataRequest=function(a,b,d){var h={method:"appdata.get"};h.params=
this.translateIdSpec(a);h.params.appId="@app";h.params.fields=this.getFieldsList(b);FieldTranslations.translateNetworkDistance(a,h.params);return new JsonRpcRequestItem(h,function(a){return opensocial.Container.escape(a,d,!0)})};JsonRpcContainer.prototype.newUpdatePersonAppDataRequest=function(a,b){var d={method:"appdata.update",params:{userId:["@viewer"],groupId:"@self"}};d.params.appId="@app";d.params.data={};d.params.data[a]=b;d.params.fields=a;return new JsonRpcRequestItem(d)};JsonRpcContainer.prototype.newRemovePersonAppDataRequest=
function(a){var b={method:"appdata.delete",params:{userId:["@viewer"],groupId:"@self"}};b.params.appId="@app";b.params.fields=this.getFieldsList(a);return new JsonRpcRequestItem(b)};JsonRpcContainer.prototype.newFetchActivitiesRequest=function(a,b){var d={method:"activities.get"};d.params=this.translateIdSpec(a);d.params.appId="@app";FieldTranslations.translateStandardArguments(b,d.params);FieldTranslations.translateNetworkDistance(a,d.params);return new JsonRpcRequestItem(d,function(a){a=a.list;
for(var b=[],c=0;c<a.length;c++)b.push(new JsonActivity(a[c]));return new opensocial.Collection(b)})};JsonRpcContainer.prototype.newActivity=function(a){return new JsonActivity(a,!0)};JsonRpcContainer.prototype.newAlbum=function(a){return new JsonAlbum(a)};JsonRpcContainer.prototype.newMediaItem=function(a,b,d){d=d||{};d.mimeType=a;d.url=b;return new JsonMediaItem(d)};JsonRpcContainer.prototype.newCreateActivityRequest=function(a,b){var d={method:"activities.create"};d.params=this.translateIdSpec(a);
d.params.appId="@app";FieldTranslations.translateNetworkDistance(a,d.params);d.params.activity=b.toJsonObject();return new JsonRpcRequestItem(d)};JsonRpcContainer.prototype.invalidateCache=function(){var a={CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"SIGNED",POST_DATA:gadgets.json.stringify({method:"cache.invalidate",params:{invalidationKeys:["@viewer"]}})},b={"Content-Type":"application/json"},d=[this.invalidatePath_],h=shindig.auth.getSecurityToken();h&&(this.useOAuth2?b.Authorization="OAuth2 "+
h:d.push("?st\x3d",encodeURIComponent(h)));this.sendRequest(d.join(""),null,a,b)}})();JsonRpcContainer.prototype.newMessage=function(b,a){return new JsonMessage(b,a)};JsonRpcContainer.prototype.newMessageCollection=function(b){return new JsonMessageCollection(b)};
JsonRpcContainer.prototype.newFetchMessageCollectionsRequest=function(b,a){var c={method:"messages.get"};c.params=this.translateIdSpec(b);FieldTranslations.translateStandardArguments(a,c.params);return new JsonRpcRequestItem(c,function(a){a=a.list;for(var b=[],c=0;c<a.length;c++)b.push(new JsonMessageCollection(a[c]));return new opensocial.Collection(b)})};
JsonRpcContainer.prototype.newFetchMessagesRequest=function(b,a,c){var d={method:"messages.get"};d.params=this.translateIdSpec(b);d.params.msgCollId=a;FieldTranslations.translateStandardArguments(c,d.params);return new JsonRpcRequestItem(d,function(a){a=a.list;for(var b=[],c=0;c<a.length;c++)b.push(new JsonMessage(a[c]));return new opensocial.Collection(b)})};
JsonRpcContainer.prototype.newCreateAlbumRequest=function(b,a){var c={method:"albums.create"};c.params=this.translateIdSpec(b);c.params.appId="@app";c.params.album=a.toJsonObject();return new JsonRpcRequestItem(c)};JsonRpcContainer.prototype.newDeleteAlbumRequest=function(b,a){var c={method:"albums.delete"};c.params=this.translateIdSpec(b);c.params.appId="@app";c.params.albumId=a;return new JsonRpcRequestItem(c)};
JsonRpcContainer.prototype.newFetchAlbumsRequest=function(b,a){var c={method:"albums.get"};c.params=this.translateIdSpec(b);c.params.appId="@app";FieldTranslations.translateStandardArguments(a,c.params);return new JsonRpcRequestItem(c,function(a){a=a.list;for(var b=[],c=0;c<a.length;c++)b.push(new JsonAlbum(a[c]));return new opensocial.Collection(b)})};
JsonRpcContainer.prototype.newCreateMediaItemRequest=function(b,a,c){var d={method:"mediaItems.create"};d.params=this.translateIdSpec(b);d.params.appId="@app";d.params.albumId=a;d.params.mediaItem=c.toJsonObject();return new JsonRpcRequestItem(d)};
JsonRpcContainer.prototype.newFetchMediaItemsRequest=function(b,a,c){var d={method:"mediaItems.get"};d.params=this.translateIdSpec(b);d.params.appId="@app";d.params.albumId=a;FieldTranslations.translateStandardArguments(c,d.params);return new JsonRpcRequestItem(d,function(a){a=a.list;for(var b=[],c=0;c<a.length;c++)b.push(new JsonMediaItem(a[c]));return new opensocial.Collection(b)})};opensocial=opensocial||{};opensocial.data=opensocial.data||{};
opensocial.data.DataContext=function(){var b=[],a={},c=function(b,c,d){"undefined"===typeof c||null===c||(a[b]=c,!1!==d&&f(b))},d=function(a,c,f,d){var q={keys:{},callback:c,oneTime:!!f};if("string"===typeof a)q.keys[a]=!0,"*"!=a&&(a=[a]);else for(c=0;c<a.length;c++)q.keys[a[c]]=!0;b.push(q);d&&("*"!==a&&h(q.keys))&&window.setTimeout(function(){g(q,a)},1)},h=function(b){if(b["*"])return!0;for(var c in b)if("undefined"===typeof a[c])return!1;return!0},g=function(a,c){if(h(a.keys)&&(a.callback(c),a.oneTime))a:for(var f=
0;f<b.length;++f)if(b[f]==a){b.splice(f,1);break a}},f=function(a){"string"==typeof a&&(a=[a]);for(var c=0;c<b.length;++c)for(var f=b[c],d=0;d<a.length;d++)if(f.keys[a[d]]||f.keys["*"]){g(f,a);break}};return{getData:function(){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},registerListener:function(a,b){d(a,b,!1,!0)},registerOneTimeListener_:function(a,b){d(a,b,!0,!0)},registerDeferredListener_:function(a,b){d(a,b,!1,!1)},getDataSet:function(b){return a[b]},putDataSet:function(a,
b){c(a,b,!0)},putDataSets:function(a){var b=[],d;for(d in a)b.push(d),c(d,a[d],!1);f(b)}}}();opensocial.data.getDataContext=function(){return opensocial.data.DataContext};tamings___.push(function(b){caja___.whitelistFuncs([[opensocial.data,"getDataContext"],[opensocial.data.DataContext,"putDataSet"]])});
var requiredConfig={path:gadgets.config.NonEmptyStringValidator,invalidatePath:gadgets.config.NonEmptyStringValidator,domain:gadgets.config.NonEmptyStringValidator,enableCaja:gadgets.config.BooleanValidator,supportedFields:gadgets.config.ExistsValidator};gadgets.config.register("opensocial",requiredConfig,function(b){ShindigContainer=function(){JsonRpcContainer.call(this,b.opensocial)};ShindigContainer.inherits(JsonRpcContainer);opensocial.Container.setContainer(new ShindigContainer)});
gadgets.views=function(){function b(a){a||(a=window.event);var b;a.target?b=a.target:a.srcElement&&(b=a.srcElement);3===b.nodeType&&(b=b.parentNode);if("a"===b.nodeName.toLowerCase()&&(b=b.getAttribute("href"))&&"#"!==b[0]&&-1===b.indexOf("://"))gadgets.views.requestNavigateTo(c,b),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1,a.cancelBubble=!0;return!1}var a={},c=null,d={},h={};gadgets.config.register("views",null,function(g){g=g.views||{};for(var f in g)if(g.hasOwnProperty(f)&&
"rewriteLinks"!=f){var e=g[f],m=f.toUpperCase();a[m]=m;if(e){d[f]=new gadgets.views.View(f,e.isOnlyVisible);for(var m=e.aliases||[],n=0,p;p=m[n];++n)d[p]=new gadgets.views.View(f,e.isOnlyVisible)}}f=gadgets.util.getUrlParameters();f["view-params"]&&(h=gadgets.json.parse(f["view-params"])||h);c=d[f.view]||d["default"];g.rewriteLinks&&gadgets.util.attachBrowserEvent(document,"click",b,!1)});return{bind:function(a,b){function c(a,e){return b.hasOwnProperty(a)?b[a]:e}function d(a){if(!(s=a.match(p)))throw Error("Invalid variable : "+
a);}function h(a,b,f){var g=a.split(",");for(a=0;a<g.length&&!(d(g[a]),f(b,c(s[1]),s[1]));++a);return b}if("string"!==typeof a)throw Error("Invalid urlTemplate");if("object"!==typeof b)throw Error("Invalid environment");for(var p=/^([a-zA-Z0-9][a-zA-Z0-9_\.\-]*)(=([a-zA-Z0-9\-\._~]|(%[0-9a-fA-F]{2}))*)?$/,q=/\{([^}]*)\}/g,t=/^-([a-zA-Z]+)\|([^|]*)\|(.+)$/,r=[],C=0,x,s,B,D,F;x=q.exec(a);)if(r.push(a.substring(C,x.index)),C=q.lastIndex,s=x[1].match(p))x=s[1],B=s[2]?s[2].substr(1):"",r.push(c(x,B));
else if(s=x[1].match(t))switch(D=s[1],x=s[2],F=s[3],B=0,D){case "neg":B=1;case "opt":h(F,{flag:B},function(a,b){var c;if(c="undefined"!==typeof b){a:if("object"===typeof b||"function"===typeof b){for(var e in b)if(b.hasOwnProperty(e)){c=!1;break a}c=!0}else c=!1;c=!c}return c?(a.flag=!a.flag,1):0}).flag&&r.push(x);break;case "join":r.push(h(F,[],function(a,b,c){if("string"===typeof b)a.push(c+"\x3d"+b);else if("object"===typeof b)for(var e in b)b.hasOwnProperty(e)&&a.push(e+"\x3d"+b[e])}).join(x));
break;case "list":d(F);D=c(s[1]);"object"===typeof D&&"function"===typeof D.join&&r.push(D.join(x));break;case "prefix":B=1;case "suffix":d(F);D=c(s[1],s[2]&&s[2].substr(1));"string"===typeof D?r.push(B?x+D:D+x):"object"===typeof D&&"function"===typeof D.join&&r.push(B?x+D.join(x):D.join(x)+x);break;default:throw Error("Invalid operator : "+D);}else throw Error("Invalid syntax : "+x[0]);r.push(a.substr(C));return r.join("")},requestNavigateTo:function(a,b,c){"string"!==typeof a&&(a=a.getName());gadgets.rpc.call(null,
"requestNavigateTo",null,a,b,c)},getCurrentView:function(){return c},getSupportedViews:function(){return d},getParams:function(){return h},ViewType:a}}();gadgets.views.View=function(b,a){this.name_=b;this.isOnlyVisible_=!!a};gadgets.views.View.prototype.getName=function(){return this.name_};gadgets.views.View.prototype.getUrlTemplate=function(){return gadgets.config&&gadgets.config.views&&gadgets.config.views[this.name_]&&gadgets.config.views[this.name_].urlTemplate};
gadgets.views.View.prototype.bind=function(b){return gadgets.views.bind(this.getUrlTemplate(),b)};gadgets.views.View.prototype.isOnlyVisibleGadget=function(){return this.isOnlyVisible_};
tamings___.push(function(b){caja___.whitelistCtors([[gadgets.views,"View",Object]]);caja___.whitelistMeths([[gadgets.views.View,"bind"],[gadgets.views.View,"getUrlTemplate"],[gadgets.views.View,"isOnlyVisibleGadget"],[gadgets.views.View,"getName"]]);caja___.whitelistFuncs([[gadgets.views,"getCurrentView"],[gadgets.views,"getParams"],[gadgets.views,"requestNavigateTo"]])});gadgets.embeddedExperiences=gadgets.embeddedExperiences||{};
(function(){function b(a){opensocial.data.DataContext.putDataSet("org.opensocial.ee.context",a)}function a(a){gadgets.rpc.call(null,"ee_gadget_rendered",b,{});gadgets.rpc.register("ee_set_context",b)}gadgets.config&&gadgets.config.register("embedded-experiences",null,a)})();gadgets.window=gadgets.window||{};
(function(){gadgets.views.openGadget=function(b,a,c){gadgets.rpc.call("..","gadgets.views.openGadget",null,b,a,c)};gadgets.views.openEmbeddedExperience=function(b,a,c,d){gadgets.rpc.call("..","gadgets.views.openEmbeddedExperience",null,b,a,c,d)};gadgets.views.openUrl=function(b,a,c){gadgets.rpc.call("..","gadgets.views.openUrl",null,b,a,c)};gadgets.views.close=function(b){gadgets.rpc.call("..","gadgets.views.close",null,b)};gadgets.views.setReturnValue=function(b){gadgets.rpc.call("..","gadgets.views.setReturnValue",
null,b)};gadgets.window.getContainerDimensions=function(b){gadgets.rpc.call("..","gadgets.window.getContainerDimensions",null,b)}})();var com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.sharedcontext=com.rooxteam.sharedcontext||{};
(function(){function b(a){var b=[],d=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},h=d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d(),g;g=a?window.localStorage||window.sessionStorage:window.sessionStorage||window.localStorage;var f=function(b,c,e,f){"undefined"===typeof c&&(c=null);if(g)if(null===c){if(null===g.getItem(b))return;g.removeItem(b)}else{var d=JSON.stringify(c);if(g.getItem(b)===d)return;g.setItem(b,d)}if(!a&&!1!==f){c=JSON.stringify({id:"__storageEvent",key:b,
value:c,__messageSource:h});if(window.top==window){if((f=window.frames)&&f.length)for(d=0;d<f.length;d++)f[d].postMessage(c,"*");"undefined"!==typeof Host&&Host.processMessageEvent(c)}window.top.postMessage(c,"*")}!1!==e&&n(b)},e=function(a,e,f,d){var g={keys:{},callback:e,oneTime:!!f};if("string"===typeof a)g.keys[a]=!0,"*"!=a&&(a=[a]);else for(e=0;e<a.length;e++)g.keys[a[e]]=!0;b.push(g);d&&"*"!==a&&window.setTimeout(function(){m(g,a)},1)},m=function(a,e){a.callback(e);if(a.oneTime)a:for(var f=
0;f<b.length;++f)if(b[f]==a){b.splice(f,1);break a}},n=function(a){"string"==typeof a&&(a=[a]);for(var e=0;e<b.length;++e)for(var f=b[e],d=0;d<a.length;d++)if(f.keys[a[d]]||f.keys["*"]){m(f,a);break}};if(!a){if("undefined"!==typeof Host){var d=Host.getSessionStorageData(),p;for(p in d)try{f(p,JSON.parse(d[p]),!0,!1)}catch(q){}}gadgets.util.attachBrowserEvent(window,"message",function(a){if(a.data){var b=null;try{b=JSON.parse(a.data)}catch(c){return}if(b&&b.__messageSource!==h){"__storageEvent"===
b.id&&f(b.key,b.value,!0,!1);var e=window.frames;if(e&&e.length)for(var d=0;d<e.length;d++)e[d].postMessage(a.data,"*");"Host"!==b.__messageSource&&(window==window.top&&a.source!=window&&"undefined"!==typeof Host)&&(b.__messageSource=h,Host.processMessageEvent(JSON.stringify(b)))}}},!1)}return{getData:function(){if(!g)return{};for(var a={},b=0;b<g.length;b++)a[b]=g.getItem(g.key(b));return a},getDataKeys:function(){if(!g)return[];for(var a=[],b=0;b<g.length;b++)a.push(g.key(b));return a},registerListener:function(a,
b){e(a,b,!1,!0)},registerOneTimeListener_:function(a,b){e(a,b,!0,!0)},registerDeferredListener_:function(a,b){e(a,b,!1,!1)},getDataSet:function(a){if(!g)return null;a=g.getItem(a);return"undefined"===typeof a||null===a?a:JSON.parse(a)},putDataSet:function(a,b){f(a,b,!0)},removeDataSet:function(a){f(a,null,!0,void 0)},putDataSets:function(a){var b=[],c;for(c in a)b.push(c),f(c,a[c],!1);n(b)}}}com.rooxteam.sharedcontext.DataContext=b(!1);com.rooxteam.sharedcontext.PersistentDataContext=b(!0)})();
com.rooxteam.sharedcontext.getDataContext=function(){return com.rooxteam.sharedcontext.DataContext};com.rooxteam.sharedcontext.getPersistentDataContext=function(){return com.rooxteam.sharedcontext.PersistentDataContext};
(function(b,a){function c(a){var b=K[a]={},c,l;a=a.split(/\s+/);c=0;for(l=a.length;c<l;c++)b[a[c]]=!0;return b}function d(b,c,e){if(e===a&&1===b.nodeType)if(e="data-"+c.replace(W,"-$1").toLowerCase(),e=b.getAttribute(e),"string"===typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:l.isNumeric(e)?+e:J.test(e)?l.parseJSON(e):e}catch(f){}l.data(b,c,e)}else e=a;return e}function h(a){for(var b in a)if(!("data"===b&&l.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function g(a,b,c){var e=
b+"defer",f=b+"queue",d=b+"mark",g=l._data(a,e);g&&(("queue"===c||!l._data(a,f))&&("mark"===c||!l._data(a,d)))&&setTimeout(function(){!l._data(a,f)&&!l._data(a,d)&&(l.removeData(a,e,!0),g.fire())},0)}function f(){return!1}function e(){return!0}function m(a,b,c){b=b||0;if(l.isFunction(b))return l.grep(a,function(a,l){return!!b.call(a,l,a)===c});if(b.nodeType)return l.grep(a,function(a,l){return a===b===c});if("string"===typeof b){var e=l.grep(a,function(a){return 1===a.nodeType});if(ca.test(b))return l.filter(b,
e,!c);b=l.filter(b,e)}return l.grep(a,function(a,e){return 0<=l.inArray(a,b)===c})}function n(a){var b=Fa.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function p(a,b){if(1===b.nodeType&&l.hasData(a)){var c,e,f;e=l._data(a);var d=l._data(b,e),g=e.events;if(g)for(c in delete d.handle,d.events={},g){e=0;for(f=g[c].length;e<f;e++)l.event.add(b,c,g[c][e])}d.data&&(d.data=l.extend({},d.data))}}function q(a,b){var c;1===b.nodeType&&(b.clearAttributes&&
b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"===c&&("checkbox"===a.type||"radio"===a.type)?(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(l.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}
function t(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function r(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function C(a){var b=(a.nodeName||"").toLowerCase();"input"===b?r(a):"script"!==b&&"undefined"!==typeof a.getElementsByTagName&&l.grep(a.getElementsByTagName("input"),r)}function x(a,b,c){var e="width"===b?a.offsetWidth:a.offsetHeight,f="width"===b?1:0;if(0<e){if("border"!==
c)for(;4>f;f+=2)c||(e-=parseFloat(l.css(a,"padding"+ra[f]))||0),e="margin"===c?e+(parseFloat(l.css(a,c+ra[f]))||0):e-(parseFloat(l.css(a,"border"+ra[f]+"Width"))||0);return e+"px"}e=ua(a,b);if(0>e||null==e)e=a.style[b];if(ya.test(e))return e;e=parseFloat(e)||0;if(c)for(;4>f;f+=2)e+=parseFloat(l.css(a,"padding"+ra[f]))||0,"padding"!==c&&(e+=parseFloat(l.css(a,"border"+ra[f]+"Width"))||0),"margin"===c&&(e+=parseFloat(l.css(a,c+ra[f]))||0);return e+"px"}function s(a){return function(b,c){"string"!==
typeof b&&(c=b,b="*");if(l.isFunction(c))for(var e=b.toLowerCase().split(jb),f=0,d=e.length,g,h;f<d;f++)g=e[f],(h=/^\+/.test(g))&&(g=g.substr(1)||"*"),g=a[g]=a[g]||[],g[h?"unshift":"push"](c)}}function B(b,c,l,e,f,d){f=f||c.dataTypes[0];d=d||{};d[f]=!0;f=b[f];for(var g=0,h=f?f.length:0,m=b===Za,u;g<h&&(m||!u);g++)u=f[g](c,l,e),"string"===typeof u&&(!m||d[u]?u=a:(c.dataTypes.unshift(u),u=B(b,c,l,e,u,d)));if((m||!u)&&!d["*"])u=B(b,c,l,e,"*",d);return u}function D(b,c){var e,f,d=l.ajaxSettings.flatOptions||
{};for(e in c)c[e]!==a&&((d[e]?b:f||(f={}))[e]=c[e]);f&&l.extend(!0,b,f)}function F(a,b,c,e){if(l.isArray(b))l.each(b,function(b,l){c||u.test(a)?e(a,l):F(a+"["+("object"===typeof l?b:"")+"]",l,c,e)});else if(!c&&"object"===l.type(b))for(var f in b)F(a+"["+f+"]",b[f],c,e);else e(a,b)}function E(){try{return new b.XMLHttpRequest}catch(a){}}function z(){setTimeout(N,0);return Qa=l.now()}function N(){Qa=a}function M(a,b){var c={};l.each(Ra.concat.apply([],Ra.slice(0,b)),function(){c[this]=a});return c}
function y(a){if(!$a[a]){var b=v.body,c=l("\x3c"+a+"\x3e").appendTo(b),e=c.css("display");c.remove();if("none"===e||""===e){ta||(ta=v.createElement("iframe"),ta.frameBorder=ta.width=ta.height=0);b.appendChild(ta);if(!Ca||!ta.createElement)Ca=(ta.contentWindow||ta.contentDocument).document,Ca.write((l.support.boxModel?"\x3c!doctype html\x3e":"")+"\x3chtml\x3e\x3cbody\x3e"),Ca.close();c=Ca.createElement(a);Ca.body.appendChild(c);e=l.css(c,"display");b.removeChild(ta)}$a[a]=e}return $a[a]}function w(a){return l.isWindow(a)?
a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var v=b.document,O=b.navigator,G=b.location,l=function(){function c(){if(!l.isReady){try{v.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}l.ready()}}var l=function(a,b){return new l.fn.init(a,b,d)},e=b.jQuery,f=b.$,d,g=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=/\S/,m=/^\s+/,u=/\s+$/,w=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,r=/^[\],:{}\s]*$/,y=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,n=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
q=/(?:^|:|,)(?:\s*\[)+/g,p=/(webkit)[ \/]([\w.]+)/,G=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,K=/(mozilla)(?:.*? rv:([\w.]+))?/,s=/-([a-z]|[0-9])/ig,I=/^-ms-/,na=function(a,b){return(b+"").toUpperCase()},C=O.userAgent,Sa,V,t=Object.prototype.toString,J=Object.prototype.hasOwnProperty,la=Array.prototype.push,U=Array.prototype.slice,B=String.prototype.trim,ka=Array.prototype.indexOf,va={};l.fn=l.prototype={constructor:l,init:function(b,c,e){var f;if(!b)return this;if(b.nodeType)return this.context=
this[0]=b,this.length=1,this;if("body"===b&&!c&&v.body)return this.context=v,this[0]=v.body,this.selector=b,this.length=1,this;if("string"===typeof b){if((f="\x3c"===b.charAt(0)&&"\x3e"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:g.exec(b))&&(f[1]||!c)){if(f[1])return e=(c=c instanceof l?c[0]:c)?c.ownerDocument||c:v,(b=w.exec(b))?l.isPlainObject(c)?(b=[v.createElement(b[1])],l.fn.attr.call(b,c,!0)):b=[e.createElement(b[1])]:(b=l.buildFragment([f[1]],[e]),b=(b.cacheable?l.clone(b.fragment):b.fragment).childNodes),
l.merge(this,b);if((c=v.getElementById(f[2]))&&c.parentNode){if(c.id!==f[2])return e.find(b);this.length=1;this[0]=c}this.context=v;this.selector=b;return this}return!c||c.jquery?(c||e).find(b):this.constructor(c).find(b)}if(l.isFunction(b))return e.ready(b);b.selector!==a&&(this.selector=b.selector,this.context=b.context);return l.makeArray(b,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return U.call(this,0)},get:function(a){return null==a?this.toArray():
0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();l.isArray(a)?la.apply(e,a):l.merge(e,a);e.prevObject=this;e.context=this.context;"find"===b?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")");return e},each:function(a,b){return l.each(this,a,b)},ready:function(a){l.bindReady();Sa.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
slice:function(){return this.pushStack(U.apply(this,arguments),"slice",U.call(arguments).join(","))},map:function(a){return this.pushStack(l.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:la,sort:[].sort,splice:[].splice};l.fn.init.prototype=l.fn;l.extend=l.fn.extend=function(){var b,c,e,f,d,g=arguments[0]||{},Y=1,h=arguments.length,m=!1;"boolean"===typeof g&&(m=g,g=arguments[1]||{},Y=2);"object"!==typeof g&&!l.isFunction(g)&&(g=
{});h===Y&&(g=this,--Y);for(;Y<h;Y++)if(null!=(b=arguments[Y]))for(c in b)e=g[c],f=b[c],g!==f&&(m&&f&&(l.isPlainObject(f)||(d=l.isArray(f)))?(d?(d=!1,e=e&&l.isArray(e)?e:[]):e=e&&l.isPlainObject(e)?e:{},g[c]=l.extend(m,e,f)):f!==a&&(g[c]=f));return g};l.extend({noConflict:function(a){b.$===l&&(b.$=f);a&&b.jQuery===l&&(b.jQuery=e);return l},isReady:!1,readyWait:1,holdReady:function(a){a?l.readyWait++:l.ready(!0)},ready:function(a){if(!0===a&&!--l.readyWait||!0!==a&&!l.isReady){if(!v.body)return setTimeout(l.ready,
1);l.isReady=!0;!0!==a&&0<--l.readyWait||(Sa.fireWith(v,[l]),l.fn.trigger&&l(v).trigger("ready").off("ready"))}},bindReady:function(){if(!Sa){Sa=l.Callbacks("once memory");if("complete"===v.readyState)return setTimeout(l.ready,1);if(v.addEventListener)v.addEventListener("DOMContentLoaded",V,!1),b.addEventListener("load",l.ready,!1);else if(v.attachEvent){v.attachEvent("onreadystatechange",V);b.attachEvent("onload",l.ready);var a=!1;try{a=null==b.frameElement}catch(e){}v.documentElement.doScroll&&
a&&c()}}},isFunction:function(a){return"function"===l.type(a)},isArray:Array.isArray||function(a){return"array"===l.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):va[t.call(a)]||"object"},isPlainObject:function(b){if(!b||"object"!==l.type(b)||b.nodeType||l.isWindow(b))return!1;try{if(b.constructor&&!J.call(b,"constructor")&&!J.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var e in b);
return e===a||J.call(b,e)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseJSON:function(a){if("string"!==typeof a||!a)return null;a=l.trim(a);if(b.JSON&&b.JSON.parse)return b.JSON.parse(a);if(r.test(a.replace(y,"@").replace(n,"]").replace(q,"")))return(new Function("return "+a))();l.error("Invalid JSON: "+a)},parseXML:function(c){if("string"!==typeof c||!c)return null;var e,f;try{b.DOMParser?(f=new DOMParser,e=f.parseFromString(c,"text/xml")):(e=
new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(c))}catch(d){e=a}(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)&&l.error("Invalid XML: "+c);return e},noop:function(){},globalEval:function(a){a&&h.test(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(I,"ms-").replace(s,na)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,c,e){var f,d=0,g=b.length,Y=g===a||l.isFunction(b);
if(e)if(Y)for(f in b){if(!1===c.apply(b[f],e))break}else for(;d<g&&!1!==c.apply(b[d++],e););else if(Y)for(f in b){if(!1===c.call(b[f],f,b[f]))break}else for(;d<g&&!1!==c.call(b[d],d,b[d++]););return b},trim:B?function(a){return null==a?"":B.call(a)}:function(a){return null==a?"":a.toString().replace(m,"").replace(u,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var e=l.type(a);null==a.length||"string"===e||"function"===e||"regexp"===e||l.isWindow(a)?la.call(c,a):l.merge(c,a)}return c},inArray:function(a,
b,c){var l;if(b){if(ka)return ka.call(b,a,c);l=b.length;for(c=c?0>c?Math.max(0,l+c):c:0;c<l;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(b,c){var l=b.length,e=0;if("number"===typeof c.length)for(var f=c.length;e<f;e++)b[l++]=c[e];else for(;c[e]!==a;)b[l++]=c[e++];b.length=l;return b},grep:function(a,b,c){var l=[],e;c=!!c;for(var f=0,d=a.length;f<d;f++)e=!!b(a[f],f),c!==e&&l.push(a[f]);return l},map:function(b,c,e){var f,d,g=[],Y=0,h=b.length;if(b instanceof l||h!==a&&"number"===typeof h&&
(0<h&&b[0]&&b[h-1]||0===h||l.isArray(b)))for(;Y<h;Y++)f=c(b[Y],Y,e),null!=f&&(g[g.length]=f);else for(d in b)f=c(b[d],d,e),null!=f&&(g[g.length]=f);return g.concat.apply([],g)},guid:1,proxy:function(b,c){if("string"===typeof c){var e=b[c];c=b;b=e}if(!l.isFunction(b))return a;var f=U.call(arguments,2),e=function(){return b.apply(c,f.concat(U.call(arguments)))};e.guid=b.guid=b.guid||e.guid||l.guid++;return e},access:function(b,c,e,f,d,g,Y){var h,m=null==e,qa=0,u=b.length;if(e&&"object"===typeof e){for(qa in e)l.access(b,
c,qa,e[qa],1,g,f);d=1}else if(f!==a){h=Y===a&&l.isFunction(f);m&&(h?(h=c,c=function(a,b,c){return h.call(l(a),c)}):(c.call(b,f),c=null));if(c)for(;qa<u;qa++)c(b[qa],e,h?f.call(b[qa],qa,c(b[qa],e)):f,Y);d=1}return d?b:m?c.call(b):u?c(b[0],e):g},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=p.exec(a)||G.exec(a)||x.exec(a)||0>a.indexOf("compatible")&&K.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}
l.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,e){e&&(e instanceof l&&!(e instanceof a))&&(e=a(e));return l.fn.init.call(this,c,e,b)};a.fn.init.prototype=a.fn;var b=a(v);return a},browser:{}});l.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){va["[object "+b+"]"]=b.toLowerCase()});C=l.uaMatch(C);C.browser&&(l.browser[C.browser]=!0,l.browser.version=C.version);l.browser.webkit&&(l.browser.safari=
!0);h.test("")&&(m=/^[\s\xA0]+/,u=/[\s\xA0]+$/);d=l(v);v.addEventListener?V=function(){v.removeEventListener("DOMContentLoaded",V,!1);l.ready()}:v.attachEvent&&(V=function(){"complete"===v.readyState&&(v.detachEvent("onreadystatechange",V),l.ready())});return l}(),K={};l.Callbacks=function(b){b=b?K[b]||c(b):{};var e=[],f=[],d,g,h,m,u,w,v=function(a){var c,f,d,g;c=0;for(f=a.length;c<f;c++)d=a[c],g=l.type(d),"array"===g?v(d):"function"===g&&(!b.unique||!y.has(d))&&e.push(d)},r=function(a,c){c=c||[];
d=!b.memory||[a,c];h=g=!0;w=m||0;m=0;for(u=e.length;e&&w<u;w++)if(!1===e[w].apply(a,c)&&b.stopOnFalse){d=!0;break}h=!1;e&&(b.once?!0===d?y.disable():e=[]:f&&f.length&&(d=f.shift(),y.fireWith(d[0],d[1])))},y={add:function(){if(e){var a=e.length;v(arguments);h?u=e.length:d&&!0!==d&&(m=a,r(d[0],d[1]))}return this},remove:function(){if(e)for(var a=arguments,c=0,l=a.length;c<l;c++)for(var f=0;f<e.length&&!(a[c]===e[f]&&(h&&f<=u&&(u--,f<=w&&w--),e.splice(f--,1),b.unique));f++);return this},has:function(a){if(e)for(var b=
0,c=e.length;b<c;b++)if(a===e[b])return!0;return!1},empty:function(){e=[];return this},disable:function(){e=f=d=a;return this},disabled:function(){return!e},lock:function(){f=a;(!d||!0===d)&&y.disable();return this},locked:function(){return!f},fireWith:function(a,c){f&&(h?b.once||f.push([a,c]):(!b.once||!d)&&r(a,c));return this},fire:function(){y.fireWith(this,arguments);return this},fired:function(){return!!g}};return y};var I=[].slice;l.extend({Deferred:function(a){var b=l.Callbacks("once memory"),
c=l.Callbacks("once memory"),e=l.Callbacks("memory"),f="pending",d={resolve:b,reject:c,notify:e},g={done:b.add,fail:c.add,progress:e.add,state:function(){return f},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){h.done(a).fail(b).progress(c);return this},always:function(){h.done.apply(h,arguments).fail.apply(h,arguments);return this},pipe:function(a,b,c){return l.Deferred(function(e){l.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],f=b[1],d;if(l.isFunction(c))h[a](function(){if((d=
c.apply(this,arguments))&&l.isFunction(d.promise))d.promise().then(e.resolve,e.reject,e.notify);else e[f+"With"](this===h?e:this,[d])});else h[a](e[f])})}).promise()},promise:function(a){if(null==a)a=g;else for(var b in g)a[b]=g[b];return a}},h=g.promise({}),m;for(m in d)h[m]=d[m].fire,h[m+"With"]=d[m].fireWith;h.done(function(){f="resolved"},c.disable,e.lock).fail(function(){f="rejected"},b.disable,e.lock);a&&a.call(h,h);return h},when:function(a){function b(a){return function(b){e[a]=1<arguments.length?
I.call(arguments,0):b;--h||m.resolveWith(m,e)}}function c(a){return function(b){g[a]=1<arguments.length?I.call(arguments,0):b;m.notifyWith(u,g)}}var e=I.call(arguments,0),f=0,d=e.length,g=Array(d),h=d,m=1>=d&&a&&l.isFunction(a.promise)?a:l.Deferred(),u=m.promise();if(1<d){for(;f<d;f++)e[f]&&e[f].promise&&l.isFunction(e[f].promise)?e[f].promise().then(b(f),m.reject,c(f)):--h;h||m.resolveWith(m,e)}else m!==a&&m.resolveWith(m,d?[a]:[]);return u}});l.support=function(){var a,c,e,f,d,g,h,m,u=v.createElement("div");
u.setAttribute("className","t");u.innerHTML="   \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a' style\x3d'top:1px;float:left;opacity:.55;'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";c=u.getElementsByTagName("*");e=u.getElementsByTagName("a")[0];if(!c||!c.length||!e)return{};f=v.createElement("select");d=f.appendChild(v.createElement("option"));c=u.getElementsByTagName("input")[0];a={leadingWhitespace:3===u.firstChild.nodeType,tbody:!u.getElementsByTagName("tbody").length,htmlSerialize:!!u.getElementsByTagName("link").length,
style:/top/.test(e.getAttribute("style")),hrefNormalized:"/a"===e.getAttribute("href"),opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:"on"===c.value,optSelected:d.selected,getSetAttribute:"t"!==u.className,enctype:!!v.createElement("form").enctype,html5Clone:"\x3c:nav\x3e\x3c/:nav\x3e"!==v.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,
pixelMargin:!0};l.boxModel=a.boxModel="CSS1Compat"===v.compatMode;c.checked=!0;a.noCloneChecked=c.cloneNode(!0).checked;f.disabled=!0;a.optDisabled=!d.disabled;try{delete u.test}catch(w){a.deleteExpando=!1}!u.addEventListener&&(u.attachEvent&&u.fireEvent)&&(u.attachEvent("onclick",function(){a.noCloneEvent=!1}),u.cloneNode(!0).fireEvent("onclick"));c=v.createElement("input");c.value="t";c.setAttribute("type","radio");a.radioValue="t"===c.value;c.setAttribute("checked","checked");c.setAttribute("name",
"t");u.appendChild(c);e=v.createDocumentFragment();e.appendChild(u.lastChild);a.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=c.checked;e.removeChild(c);e.appendChild(u);if(u.attachEvent)for(h in{submit:1,change:1,focusin:1})c="on"+h,m=c in u,m||(u.setAttribute(c,"return;"),m="function"===typeof u[c]),a[h+"Bubbles"]=m;e.removeChild(u);e=f=d=u=c=null;l(function(){var c,e,f,d,h=v.getElementsByTagName("body")[0];h&&(c=v.createElement("div"),c.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",
h.insertBefore(c,h.firstChild),u=v.createElement("div"),c.appendChild(u),u.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd style\x3d'padding:0;margin:0;border:0;display:none'\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",g=u.getElementsByTagName("td"),m=0===g[0].offsetHeight,g[0].style.display="",g[1].style.display="none",a.reliableHiddenOffsets=m&&0===g[0].offsetHeight,b.getComputedStyle&&(u.innerHTML="",e=v.createElement("div"),e.style.width="0",e.style.marginRight="0",u.style.width="2px",
u.appendChild(e),a.reliableMarginRight=0===(parseInt((b.getComputedStyle(e,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!==typeof u.style.zoom&&(u.innerHTML="",u.style.width=u.style.padding="1px",u.style.border=0,u.style.overflow="hidden",u.style.display="inline",u.style.zoom=1,a.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.style.overflow="visible",u.innerHTML="\x3cdiv style\x3d'width:5px;'\x3e\x3c/div\x3e",a.shrinkWrapBlocks=3!==u.offsetWidth),u.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",
u.innerHTML="\x3cdiv style\x3d'position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'\x3e\x3cdiv style\x3d'padding:0;margin:0;border:0;display:block;overflow:hidden;'\x3e\x3c/div\x3e\x3c/div\x3e\x3ctable style\x3d'position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding\x3d'0' cellspacing\x3d'0'\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",e=u.firstChild,f=e.firstChild,d=e.nextSibling.firstChild.firstChild,
d={doesNotAddBorder:5!==f.offsetTop,doesAddBorderForTableAndCells:5===d.offsetTop},f.style.position="fixed",f.style.top="20px",d.fixedPosition=20===f.offsetTop||15===f.offsetTop,f.style.position=f.style.top="",e.style.overflow="hidden",e.style.position="relative",d.subtractsBorderForOverflowNotVisible=-5===f.offsetTop,d.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,b.getComputedStyle&&(u.style.marginTop="1%",a.pixelMargin="1%"!==(b.getComputedStyle(u,null)||{marginTop:0}).marginTop),"undefined"!==
typeof c.style.zoom&&(c.style.zoom=1),h.removeChild(c),u=null,l.extend(a,d))});return a}();var J=/^(?:\{.*\}|\[.*\])$/,W=/([A-Z])/g;l.extend({cache:{},uuid:0,expando:"jQuery"+(l.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?l.cache[a[l.expando]]:a[l.expando];return!!a&&!h(a)},data:function(b,c,e,f){if(l.acceptData(b)){var d;d=l.expando;var g="string"===typeof c,h=b.nodeType,m=h?l.cache:b,
u=h?b[d]:b[d]&&d,w="events"===c;if(u&&m[u]&&(w||f||m[u].data)||!(g&&e===a)){u||(h?b[d]=u=++l.uuid:u=d);m[u]||(m[u]={},h||(m[u].toJSON=l.noop));if("object"===typeof c||"function"===typeof c)f?m[u]=l.extend(m[u],c):m[u].data=l.extend(m[u].data,c);d=b=m[u];f||(b.data||(b.data={}),b=b.data);e!==a&&(b[l.camelCase(c)]=e);if(w&&!b[c])return d.events;g?(e=b[c],null==e&&(e=b[l.camelCase(c)])):e=b;return e}}},removeData:function(a,b,c){if(l.acceptData(a)){var e,f,d,g=l.expando,m=a.nodeType,u=m?l.cache:a,w=
m?a[g]:g;if(u[w]){if(b&&(e=c?u[w]:u[w].data)){l.isArray(b)||(b in e?b=[b]:(b=l.camelCase(b),b=b in e?[b]:b.split(" ")));f=0;for(d=b.length;f<d;f++)delete e[b[f]];if(!(c?h:l.isEmptyObject)(e))return}if(!c&&(delete u[w].data,!h(u[w])))return;l.support.deleteExpando||!u.setInterval?delete u[w]:u[w]=null;m&&(l.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}}},_data:function(a,b,c){return l.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=l.noData[a.nodeName.toLowerCase()];
if(b)return!(!0===b||a.getAttribute("classid")!==b)}return!0}});l.fn.extend({data:function(b,c){var e,f,g,h,m,u=this[0],w=0,v=null;if(b===a){if(this.length&&(v=l.data(u),1===u.nodeType&&!l._data(u,"parsedAttrs"))){g=u.attributes;for(m=g.length;w<m;w++)h=g[w].name,0===h.indexOf("data-")&&(h=l.camelCase(h.substring(5)),d(u,h,v[h]));l._data(u,"parsedAttrs",!0)}return v}if("object"===typeof b)return this.each(function(){l.data(this,b)});e=b.split(".",2);e[1]=e[1]?"."+e[1]:"";f=e[1]+"!";return l.access(this,
function(c){if(c===a)return v=this.triggerHandler("getData"+f,[e[0]]),v===a&&u&&(v=l.data(u,b),v=d(u,b,v)),v===a&&e[1]?this.data(e[0]):v;e[1]=c;this.each(function(){var a=l(this);a.triggerHandler("setData"+f,e);l.data(this,b,c);a.triggerHandler("changeData"+f,e)})},null,c,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){l.removeData(this,a)})}});l.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",l._data(a,b,(l._data(a,b)||0)+1))},_unmark:function(a,b,c){!0!==a&&(c=
b,b=a,a=!1);if(b){c=c||"fx";var e=c+"mark";(a=a?0:(l._data(b,e)||1)-1)?l._data(b,e,a):(l.removeData(b,e,!0),g(b,c,"mark"))}},queue:function(a,b,c){var e;if(a)return b=(b||"fx")+"queue",e=l._data(a,b),c&&(!e||l.isArray(c)?e=l._data(a,b,l.makeArray(c)):e.push(c)),e||[]},dequeue:function(a,b){b=b||"fx";var c=l.queue(a,b),e=c.shift(),f={};"inprogress"===e&&(e=c.shift());e&&("fx"===b&&c.unshift("inprogress"),l._data(a,b+".run",f),e.call(a,function(){l.dequeue(a,b)},f));c.length||(l.removeData(a,b+"queue "+
b+".run",!0),g(a,b,"queue"))}});l.fn.extend({queue:function(b,c){var e=2;"string"!==typeof b&&(c=b,b="fx",e--);return arguments.length<e?l.queue(this[0],b):c===a?this:this.each(function(){var a=l.queue(this,b,c);"fx"===b&&"inprogress"!==a[0]&&l.dequeue(this,b)})},dequeue:function(a){return this.each(function(){l.dequeue(this,a)})},delay:function(a,b){a=l.fx?l.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var l=setTimeout(b,a);c.stop=function(){clearTimeout(l)}})},clearQueue:function(a){return this.queue(a||
"fx",[])},promise:function(b,c){function e(){--h||f.resolveWith(d,[d])}"string"!==typeof b&&(c=b,b=a);b=b||"fx";for(var f=l.Deferred(),d=this,g=d.length,h=1,m=b+"defer",u=b+"queue",w=b+"mark",v;g--;)if(v=l.data(d[g],m,a,!0)||(l.data(d[g],u,a,!0)||l.data(d[g],w,a,!0))&&l.data(d[g],m,l.Callbacks("once memory"),!0))h++,v.add(e);e();return f.promise(c)}});var L=/[\n\t\r]/g,R=/\s+/,ba=/\r/g,P=/^(?:button|input)$/i,da=/^(?:button|input|object|select|textarea)$/i,aa=/^a(?:rea)?$/i,U=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
oa=l.support.getSetAttribute,A,fa,ma;l.fn.extend({attr:function(a,b){return l.access(this,l.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){l.removeAttr(this,a)})},prop:function(a,b){return l.access(this,l.prop,a,b,1<arguments.length)},removeProp:function(b){b=l.propFix[b]||b;return this.each(function(){try{this[b]=a,delete this[b]}catch(c){}})},addClass:function(a){var b,c,e,f,d,g,h;if(l.isFunction(a))return this.each(function(b){l(this).addClass(a.call(this,b,this.className))});
if(a&&"string"===typeof a){b=a.split(R);c=0;for(e=this.length;c<e;c++)if(f=this[c],1===f.nodeType)if(!f.className&&1===b.length)f.className=a;else{d=" "+f.className+" ";g=0;for(h=b.length;g<h;g++)~d.indexOf(" "+b[g]+" ")||(d+=b[g]+" ");f.className=l.trim(d)}}return this},removeClass:function(b){var c,e,f,d,g,h,m;if(l.isFunction(b))return this.each(function(a){l(this).removeClass(b.call(this,a,this.className))});if(b&&"string"===typeof b||b===a){c=(b||"").split(R);e=0;for(f=this.length;e<f;e++)if(d=
this[e],1===d.nodeType&&d.className)if(b){g=(" "+d.className+" ").replace(L," ");h=0;for(m=c.length;h<m;h++)g=g.replace(" "+c[h]+" "," ");d.className=l.trim(g)}else d.className=""}return this},toggleClass:function(a,b){var c=typeof a,e="boolean"===typeof b;return l.isFunction(a)?this.each(function(c){l(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var f,d=0,g=l(this),h=b,m=a.split(R);f=m[d++];)h=e?h:!g.hasClass(f),g[h?"addClass":"removeClass"](f);
else if("undefined"===c||"boolean"===c)this.className&&l._data(this,"__className__",this.className),this.className=this.className||!1===a?"":l._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(L," ").indexOf(a))return!0;return!1},val:function(b){var c,e,f,d=this[0];if(arguments.length)return f=l.isFunction(b),this.each(function(e){var d=l(this);if(1===this.nodeType&&(e=f?b.call(this,
e,d.val()):b,null==e?e="":"number"===typeof e?e+="":l.isArray(e)&&(e=l.map(e,function(a){return null==a?"":a+""})),c=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],!c||!("set"in c)||c.set(this,e,"value")===a))this.value=e});if(d){if((c=l.valHooks[d.type]||l.valHooks[d.nodeName.toLowerCase()])&&"get"in c&&(e=c.get(d,"value"))!==a)return e;e=d.value;return"string"===typeof e?e.replace(ba,""):null==e?"":e}}});l.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||
b.specified?a.value:a.text}},select:{get:function(a){var b,c,e=a.selectedIndex,f=[],d=a.options,g="select-one"===a.type;if(0>e)return null;a=g?e:0;for(c=g?e+1:d.length;a<c;a++)if(b=d[a],b.selected&&(l.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!l.nodeName(b.parentNode,"optgroup"))){b=l(b).val();if(g)return b;f.push(b)}return g&&!f.length&&d.length?l(d[e]).val():f},set:function(a,b){var c=l.makeArray(b);l(a).find("option").each(function(){this.selected=
0<=l.inArray(l(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(b,c,e,f){var d,g,h=b.nodeType;if(b&&!(3===h||8===h||2===h)){if(f&&c in l.attrFn)return l(b)[c](e);if("undefined"===typeof b.getAttribute)return l.prop(b,c,e);if(f=1!==h||!l.isXMLDoc(b))c=c.toLowerCase(),g=l.attrHooks[c]||(U.test(c)?fa:A);if(e!==a)if(null===e)l.removeAttr(b,c);else{if(g&&"set"in g&&f&&(d=g.set(b,e,c))!==a)return d;b.setAttribute(c,
""+e);return e}else{if(g&&"get"in g&&f&&null!==(d=g.get(b,c)))return d;d=b.getAttribute(c);return null===d?a:d}}},removeAttr:function(a,b){var c,e,f,d,g,h=0;if(b&&1===a.nodeType){e=b.toLowerCase().split(R);for(d=e.length;h<d;h++)if(f=e[h])c=l.propFix[f]||f,(g=U.test(f))||l.attr(a,f,""),a.removeAttribute(oa?f:c),g&&c in a&&(a[c]=!1)}},attrHooks:{type:{set:function(a,b){if(P.test(a.nodeName)&&a.parentNode)l.error("type property can't be changed");else if(!l.support.radioValue&&"radio"===b&&l.nodeName(a,
"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}},value:{get:function(a,b){return A&&l.nodeName(a,"button")?A.get(a,b):b in a?a.value:null},set:function(a,b,c){if(A&&l.nodeName(a,"button"))return A.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
prop:function(b,c,e){var f,d,g;g=b.nodeType;if(b&&!(3===g||8===g||2===g)){if(g=1!==g||!l.isXMLDoc(b))c=l.propFix[c]||c,d=l.propHooks[c];return e!==a?d&&"set"in d&&(f=d.set(b,e,c))!==a?f:b[c]=e:d&&"get"in d&&null!==(f=d.get(b,c))?f:b[c]}},propHooks:{tabIndex:{get:function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):da.test(b.nodeName)||aa.test(b.nodeName)&&b.href?0:a}}}});l.attrHooks.tabindex=l.propHooks.tabIndex;fa={get:function(b,c){var e,f=l.prop(b,c);return!0===
f||"boolean"!==typeof f&&(e=b.getAttributeNode(c))&&!1!==e.nodeValue?c.toLowerCase():a},set:function(a,b,c){!1===b?l.removeAttr(a,c):(b=l.propFix[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}};oa||(ma={name:!0,id:!0,coords:!0},A=l.valHooks.button={get:function(b,c){var e;return(e=b.getAttributeNode(c))&&(ma[c]?""!==e.nodeValue:e.specified)?e.nodeValue:a},set:function(a,b,c){var e=a.getAttributeNode(c);e||(e=v.createAttribute(c),a.setAttributeNode(e));return e.nodeValue=b+""}},
l.attrHooks.tabindex.set=A.set,l.each(["width","height"],function(a,b){l.attrHooks[b]=l.extend(l.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),l.attrHooks.contenteditable={get:A.get,set:function(a,b,c){""===b&&(b="false");A.set(a,b,c)}});l.support.hrefNormalized||l.each(["href","src","width","height"],function(b,c){l.attrHooks[c]=l.extend(l.attrHooks[c],{get:function(b){b=b.getAttribute(c,2);return null===b?a:b}})});l.support.style||(l.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||
a},set:function(a,b){return a.style.cssText=""+b}});l.support.optSelected||(l.propHooks.selected=l.extend(l.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));l.support.enctype||(l.propFix.enctype="encoding");l.support.checkOn||l.each(["radio","checkbox"],function(){l.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});l.each(["radio","checkbox"],function(){l.valHooks[this]=l.extend(l.valHooks[this],
{set:function(a,b){if(l.isArray(b))return a.checked=0<=l.inArray(l(a).val(),b)}})});var T=/^(?:textarea|input|select)$/i,ga=/^([^\.]*)?(?:\.(.+))?$/,V=/(?:^|\s)hover(\.\S+)?\b/,ha=/^key/,X=/^(?:mouse|contextmenu)|click/,Z=/^(?:focusinfocus|focusoutblur)$/,Q=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,sa=function(a){if(a=Q.exec(a))a[1]=(a[1]||"").toLowerCase(),a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)");return a},ja=function(a){return l.event.special.hover?a:a.replace(V,"mouseenter$1 mouseleave$1")};
l.event={add:function(b,c,e,f,d){var g,h,m,u,w,v,r,y,n;if(!(3===b.nodeType||8===b.nodeType||!c||!e||!(g=l._data(b)))){e.handler&&(r=e,e=r.handler,d=r.selector);e.guid||(e.guid=l.guid++);m=g.events;m||(g.events=m={});h=g.handle;h||(g.handle=h=function(b){return"undefined"!==typeof l&&(!b||l.event.triggered!==b.type)?l.event.dispatch.apply(h.elem,arguments):a},h.elem=b);c=l.trim(ja(c)).split(" ");for(g=0;g<c.length;g++){u=ga.exec(c[g])||[];w=u[1];v=(u[2]||"").split(".").sort();n=l.event.special[w]||
{};w=(d?n.delegateType:n.bindType)||w;n=l.event.special[w]||{};u=l.extend({type:w,origType:u[1],data:f,handler:e,guid:e.guid,selector:d,quick:d&&sa(d),namespace:v.join(".")},r);y=m[w];if(!y&&(y=m[w]=[],y.delegateCount=0,!n.setup||!1===n.setup.call(b,f,v,h)))b.addEventListener?b.addEventListener(w,h,!1):b.attachEvent&&b.attachEvent("on"+w,h);n.add&&(n.add.call(b,u),u.handler.guid||(u.handler.guid=e.guid));d?y.splice(y.delegateCount++,0,u):y.push(u);l.event.global[w]=!0}b=null}},global:{},remove:function(a,
b,c,e,f){var d=l.hasData(a)&&l._data(a),g,h,m,u,w,v,r,y,n,q;if(d&&(r=d.events)){b=l.trim(ja(b||"")).split(" ");for(g=0;g<b.length;g++)if(h=ga.exec(b[g])||[],m=u=h[1],h=h[2],m){y=l.event.special[m]||{};m=(e?y.delegateType:y.bindType)||m;n=r[m]||[];w=n.length;h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(v=0;v<n.length;v++)if(q=n[v],(f||u===q.origType)&&(!c||c.guid===q.guid)&&(!h||h.test(q.namespace))&&(!e||e===q.selector||"**"===e&&q.selector))n.splice(v--,1),q.selector&&
n.delegateCount--,y.remove&&y.remove.call(a,q);0===n.length&&w!==n.length&&((!y.teardown||!1===y.teardown.call(a,h))&&l.removeEvent(a,m,d.handle),delete r[m])}else for(m in r)l.event.remove(a,m+b[g],c,e,!0);if(l.isEmptyObject(r)){if(b=d.handle)b.elem=null;l.removeData(a,["events","handle"],!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,e,f,d){if(!f||!(3===f.nodeType||8===f.nodeType)){var g=c.type||c,h=[],m,u,w,v,r;if(!Z.test(g+l.event.triggered)&&(0<=g.indexOf("!")&&(g=
g.slice(0,-1),m=!0),0<=g.indexOf(".")&&(h=g.split("."),g=h.shift(),h.sort()),f&&!l.event.customEvent[g]||l.event.global[g]))if(c="object"===typeof c?c[l.expando]?c:new l.Event(g,c):new l.Event(g),c.type=g,c.isTrigger=!0,c.exclusive=m,c.namespace=h.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,m=0>g.indexOf(":")?"on"+g:"",f){if(c.result=a,c.target||(c.target=f),e=null!=e?l.makeArray(e):[],e.unshift(c),w=l.event.special[g]||{},!(w.trigger&&!1===w.trigger.apply(f,
e))){r=[[f,w.bindType||g]];if(!d&&!w.noBubble&&!l.isWindow(f)){v=w.delegateType||g;h=Z.test(v+g)?f:f.parentNode;for(u=null;h;h=h.parentNode)r.push([h,v]),u=h;u&&u===f.ownerDocument&&r.push([u.defaultView||u.parentWindow||b,v])}for(u=0;u<r.length&&!c.isPropagationStopped();u++)h=r[u][0],c.type=r[u][1],(v=(l._data(h,"events")||{})[c.type]&&l._data(h,"handle"))&&v.apply(h,e),(v=m&&h[m])&&(l.acceptData(h)&&!1===v.apply(h,e))&&c.preventDefault();c.type=g;if(!d&&!c.isDefaultPrevented()&&(!w._default||!1===
w._default.apply(f.ownerDocument,e))&&!("click"===g&&l.nodeName(f,"a"))&&l.acceptData(f))if(m&&f[g]&&("focus"!==g&&"blur"!==g||0!==c.target.offsetWidth)&&!l.isWindow(f))(u=f[m])&&(f[m]=null),l.event.triggered=g,f[g](),l.event.triggered=a,u&&(f[m]=u);return c.result}}else for(u in f=l.cache,f)f[u].events&&f[u].events[g]&&l.event.trigger(c,e,f[u].handle.elem,!0)}},dispatch:function(c){c=l.event.fix(c||b.event);var e=(l._data(this,"events")||{})[c.type]||[],f=e.delegateCount,d=[].slice.call(arguments,
0),g=!c.exclusive&&!c.namespace,h=l.event.special[c.type]||{},m=[],u,w,v,r,y,n,q;d[0]=c;c.delegateTarget=this;if(!(h.preDispatch&&!1===h.preDispatch.call(this,c))){if(f&&!(c.button&&"click"===c.type)){v=l(this);v.context=this.ownerDocument||this;for(w=c.target;w!=this;w=w.parentNode||this)if(!0!==w.disabled){y={};n=[];v[0]=w;for(u=0;u<f;u++){r=e[u];q=r.selector;if(y[q]===a){var p=y,G=q,x;if(r.quick){x=r.quick;var K=w.attributes||{};x=(!x[1]||w.nodeName.toLowerCase()===x[1])&&(!x[2]||(K.id||{}).value===
x[2])&&(!x[3]||x[3].test((K["class"]||{}).value))}else x=v.is(q);p[G]=x}y[q]&&n.push(r)}n.length&&m.push({elem:w,matches:n})}}e.length>f&&m.push({elem:this,matches:e.slice(f)});for(u=0;u<m.length&&!c.isPropagationStopped();u++){f=m[u];c.currentTarget=f.elem;for(e=0;e<f.matches.length&&!c.isImmediatePropagationStopped();e++)if(r=f.matches[e],g||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,r=((l.event.special[r.origType]||{}).handle||r.handler).apply(f.elem,
d),r!==a&&(c.result=r,!1===r&&(c.preventDefault(),c.stopPropagation()))}h.postDispatch&&h.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(b,c){var e,l,f=c.button,d=c.fromElement;null==b.pageX&&null!=c.clientX&&(e=b.target.ownerDocument||v,l=e.documentElement,e=e.body,b.pageX=c.clientX+(l&&l.scrollLeft||e&&e.scrollLeft||0)-(l&&l.clientLeft||e&&e.clientLeft||0),b.pageY=c.clientY+(l&&l.scrollTop||e&&e.scrollTop||0)-(l&&l.clientTop||e&&e.clientTop||0));!b.relatedTarget&&d&&(b.relatedTarget=d===b.target?c.toElement:d);!b.which&&f!==a&&(b.which=f&1?1:f&2?3:f&4?2:0);return b}},fix:function(b){if(b[l.expando])return b;var c,
e,f=b,d=l.event.fixHooks[b.type]||{},g=d.props?this.props.concat(d.props):this.props;b=l.Event(f);for(c=g.length;c;)e=g[--c],b[e]=f[e];b.target||(b.target=f.srcElement||v);3===b.target.nodeType&&(b.target=b.target.parentNode);b.metaKey===a&&(b.metaKey=b.ctrlKey);return d.filter?d.filter(b,f):b},special:{ready:{setup:l.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){l.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,
b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,e){a=l.extend(new l.Event,c,{type:a,isSimulated:!0,originalEvent:{}});e?l.event.trigger(a,null,b):l.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};l.event.handle=l.event.dispatch;l.removeEvent=v.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};l.Event=function(a,b){if(!(this instanceof l.Event))return new l.Event(a,
b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?e:f):this.type=a;b&&l.extend(this,b);this.timeStamp=a&&a.timeStamp||l.now();this[l.expando]=!0};l.Event.prototype={preventDefault:function(){this.isDefaultPrevented=e;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=e;var a=this.originalEvent;a&&(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=e;this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f};l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){l.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=a.relatedTarget,e=a.handleObj,f;if(!c||c!==this&&!l.contains(this,c))a.type=e.origType,f=e.handler.apply(this,arguments),a.type=b;return f}}});l.support.submitBubbles||
(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;l.event.add(this,"click._submit keypress._submit",function(b){b=b.target;if((b=l.nodeName(b,"input")||l.nodeName(b,"button")?b.form:a)&&!b._submit_attached)l.event.add(b,"submit._submit",function(a){a._submit_bubble=!0}),b._submit_attached=!0})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&l.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(l.nodeName(this,
"form"))return!1;l.event.remove(this,"._submit")}});l.support.changeBubbles||(l.event.special.change={setup:function(){if(T.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)l.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),l.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,l.event.simulate("change",this,a,!0))});return!1}l.event.add(this,"beforeactivate._change",
function(a){a=a.target;T.test(a.nodeName)&&!a._change_attached&&(l.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&l.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){l.event.remove(this,"._change");return T.test(this.nodeName)}});l.support.focusinBubbles||
l.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,e=function(a){l.event.simulate(b,a.target,l.event.fix(a),!0)};l.event.special[b]={setup:function(){0===c++&&v.addEventListener(a,e,!0)},teardown:function(){0===--c&&v.removeEventListener(a,e,!0)}}});l.fn.extend({on:function(b,c,e,d,g){var h,m;if("object"===typeof b){"string"!==typeof c&&(e=e||c,c=a);for(m in b)this.on(m,c,e,b[m],g);return this}null==e&&null==d?(d=c,e=c=a):null==d&&("string"===typeof c?(d=e,e=a):(d=e,e=c,c=a));if(!1===
d)d=f;else if(!d)return this;1===g&&(h=d,d=function(a){l().off(a);return h.apply(this,arguments)},d.guid=h.guid||(h.guid=l.guid++));return this.each(function(){l.event.add(this,b,d,e,c)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(b,c,e){if(b&&b.preventDefault&&b.handleObj){var d=b.handleObj;l(b.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if("object"===typeof b){for(d in b)this.off(d,c,b[d]);return this}if(!1===c||"function"===
typeof c)e=c,c=a;!1===e&&(e=f);return this.each(function(){l.event.remove(this,b,e,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){l(this.context).on(a,this.selector,b,c);return this},die:function(a,b){l(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){l.event.trigger(a,
b,this)})},triggerHandler:function(a,b){if(this[0])return l.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||l.guid++,e=0,f=function(c){var f=(l._data(this,"lastToggle"+a.guid)||0)%e;l._data(this,"lastToggle"+a.guid,f+1);c.preventDefault();return b[f].apply(this,arguments)||!1};for(f.guid=c;e<b.length;)b[e++].guid=c;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){l.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};l.attrFn&&(l.attrFn[b]=!0);ha.test(b)&&(l.event.fixHooks[b]=l.event.keyHooks);X.test(b)&&(l.event.fixHooks[b]=l.event.mouseHooks)});(function(){function b(a,c,e,l,d,g){d=0;for(var h=l.length;d<h;d++){var m=l[d];if(m){for(var u=!1,m=m[a];m;){if(m[f]===e){u=l[m.sizset];break}1===m.nodeType&&!g&&(m[f]=e,m.sizset=d);if(m.nodeName.toLowerCase()===c){u=m;break}m=m[a]}l[d]=u}}}function c(a,
b,e,l,d,g){d=0;for(var h=l.length;d<h;d++){var m=l[d];if(m){for(var u=!1,m=m[a];m;){if(m[f]===e){u=l[m.sizset];break}if(1===m.nodeType)if(g||(m[f]=e,m.sizset=d),"string"!==typeof b){if(m===b){u=!0;break}}else if(0<y.filter(b,[m]).length){u=m;break}m=m[a]}l[d]=u}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,f="sizcache"+(Math.random()+"").replace(".",""),d=0,g=Object.prototype.toString,h=!1,m=!0,u=/\\/g,
w=/\r\n/g,r=/\W/;[0,0].sort(function(){m=!1;return 0});var y=function(a,b,c,l){c=c||[];var f=b=b||v;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return c;var d,h,m,u,w,Y=!0,r=y.isXML(b),n=[],G=a;do if(e.exec(""),d=e.exec(G))if(G=d[3],n.push(d[1]),d[2]){u=d[3];break}while(d);if(1<n.length&&p.exec(a))if(2===n.length&&q.relative[n[0]])h=na(n[0]+n[1],b,l);else for(h=q.relative[n[0]]?[b]:y(n.shift(),b);n.length;)a=n.shift(),q.relative[a]&&(a+=n.shift()),h=na(a,h,l);else if(!l&&
(1<n.length&&9===b.nodeType&&!r&&q.match.ID.test(n[0])&&!q.match.ID.test(n[n.length-1]))&&(d=y.find(n.shift(),b,r),b=d.expr?y.filter(d.expr,d.set)[0]:d.set[0]),b){d=l?{expr:n.pop(),set:K(l)}:y.find(n.pop(),1===n.length&&("~"===n[0]||"+"===n[0])&&b.parentNode?b.parentNode:b,r);h=d.expr?y.filter(d.expr,d.set):d.set;for(0<n.length?m=K(h):Y=!1;n.length;)d=w=n.pop(),q.relative[w]?d=n.pop():w="",null==d&&(d=b),q.relative[w](m,d,r)}else m=[];m||(m=h);m||y.error(w||a);if("[object Array]"===g.call(m))if(Y)if(b&&
1===b.nodeType)for(a=0;null!=m[a];a++)m[a]&&(!0===m[a]||1===m[a].nodeType&&y.contains(b,m[a]))&&c.push(h[a]);else for(a=0;null!=m[a];a++)m[a]&&1===m[a].nodeType&&c.push(h[a]);else c.push.apply(c,m);else K(m,c);u&&(y(u,f,c,l),y.uniqueSort(c));return c};y.uniqueSort=function(a){if(s&&(h=m,a.sort(s),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};y.matches=function(a,b){return y(a,null,null,b)};y.matchesSelector=function(a,b){return 0<y(b,null,null,[a]).length};y.find=function(a,
b,c){var e,l,f,d,g,h;if(!a)return[];l=0;for(f=q.order.length;l<f;l++)if(g=q.order[l],d=q.leftMatch[g].exec(a))if(h=d[1],d.splice(1,1),"\\"!==h.substr(h.length-1)&&(d[1]=(d[1]||"").replace(u,""),e=q.find[g](d,b,c),null!=e)){a=a.replace(q.match[g],"");break}e||(e="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:e,expr:a}};y.filter=function(b,c,e,l){for(var f,d,g,h,m,u,w,Y,v=b,r=[],n=c,p=c&&c[0]&&y.isXML(c[0]);b&&c.length;){for(g in q.filter)if(null!=(f=q.leftMatch[g].exec(b))&&
f[2])if(u=q.filter[g],m=f[1],d=!1,f.splice(1,1),"\\"!==m.substr(m.length-1)){n===r&&(r=[]);if(q.preFilter[g])if(f=q.preFilter[g](f,n,e,r,l,p)){if(!0===f)continue}else d=h=!0;if(f)for(w=0;null!=(m=n[w]);w++)m&&(h=u(m,f,w,n),Y=l^h,e&&null!=h?Y?d=!0:n[w]=!1:Y&&(r.push(m),d=!0));if(h!==a){e||(n=r);b=b.replace(q.match[g],"");if(!d)return[];break}}if(b===v)if(null==d)y.error(b);else break;v=b}return n};y.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var n=y.getText=function(a){var b,
c;b=a.nodeType;var e="";if(b)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;if("string"===typeof a.innerText)return a.innerText.replace(w,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else{if(3===b||4===b)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(e+=n(c));return e},q=y.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"===typeof b,e=c&&!r.test(b),c=c&&!e;e&&(b=b.toLowerCase());for(var e=0,l=a.length,f;e<l;e++)if(f=a[e]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[e]=c||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}c&&y.filter(b,a,!0)},"\x3e":function(a,b){var c,e="string"===typeof b,l=0,f=a.length;if(e&&!r.test(b))for(b=b.toLowerCase();l<f;l++){if(c=a[l])c=c.parentNode,a[l]=c.nodeName.toLowerCase()===b?c:!1}else{for(;l<f;l++)(c=
a[l])&&(a[l]=e?c.parentNode:c.parentNode===b);e&&y.filter(b,a,!0)}},"":function(a,e,l){var f,g=d++,h=c;"string"===typeof e&&!r.test(e)&&(f=e=e.toLowerCase(),h=b);h("parentNode",e,g,a,f,l)},"~":function(a,e,l){var f,g=d++,h=c;"string"===typeof e&&!r.test(e)&&(f=e=e.toLowerCase(),h=b);h("previousSibling",e,g,a,f,l)}},find:{ID:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=
[],e=b.getElementsByName(a[1]),l=0,f=e.length;l<f;l++)e[l].getAttribute("name")===a[1]&&c.push(e[l]);return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,e,l,f){a=" "+a[1].replace(u,"")+" ";if(f)return a;f=0;for(var d;null!=(d=b[f]);f++)d&&(l^(d.className&&0<=(" "+d.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||e.push(d):c&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(u,
"")},TAG:function(a,b){return a[1].replace(u,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||y.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&y.error(a[0]);a[0]=d++;return a},ATTR:function(a,b,c,e,l,f){b=a[1]=a[1].replace(u,"");!f&&q.attrMap[b]&&(a[1]=q.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(u,"");"~\x3d"===a[2]&&(a[4]=" "+
a[4]+" ");return a},PSEUDO:function(a,b,c,l,f){if("not"===a[1])if(1<(e.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=y(a[3],null,null,b);else return a=y.filter(a[3],b,c,1^f),c||l.push.apply(l,a),!1;else if(q.match.POS.test(a[0])||q.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!y(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===
a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,e){return b===e.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,
b,c,e){var l=b[1],f=q.filters[l];if(f)return f(a,c,b,e);if("contains"===l)return 0<=(a.textContent||a.innerText||n([a])||"").indexOf(b[3]);if("not"===l){b=b[3];c=0;for(e=b.length;c<e;c++)if(b[c]===a)return!1;return!0}y.error(l)},CHILD:function(a,b){var c,e,l,d,g,h;c=b[1];h=a;switch(c){case "only":case "first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=a;case "last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case "nth":c=b[2];e=b[3];if(1===c&&0===
e)return!0;l=b[0];if((d=a.parentNode)&&(d[f]!==l||!a.nodeIndex)){g=0;for(h=d.firstChild;h;h=h.nextSibling)1===h.nodeType&&(h.nodeIndex=++g);d[f]=l}h=a.nodeIndex-e;return 0===c?0===h:0===h%c&&0<=h/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=y.attr?y.attr(a,c):q.attrHandle[c]?
q.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=c+"",l=b[2],f=b[4];return null==c?"!\x3d"===l:!l&&y.attr?null!=c:"\x3d"===l?e===f:"*\x3d"===l?0<=e.indexOf(f):"~\x3d"===l?0<=(" "+e+" ").indexOf(f):!f?e&&!1!==c:"!\x3d"===l?e!==f:"^\x3d"===l?0===e.indexOf(f):"$\x3d"===l?e.substr(e.length-f.length)===f:"|\x3d"===l?e===f||e.substr(0,f.length+1)===f+"-":!1},POS:function(a,b,c,e){var l=q.setFilters[b[2]];if(l)return l(a,c,b,e)}}},p=q.match.POS,G=function(a,b){return"\\"+(b-0+1)},x;for(x in q.match)q.match[x]=
RegExp(q.match[x].source+/(?![^\[]*\])(?![^\(]*\))/.source),q.leftMatch[x]=RegExp(/(^(?:.|\r|\n)*?)/.source+q.match[x].source.replace(/\\(\d+)/g,G));q.match.globalPOS=p;var K=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(v.documentElement.childNodes,0)[0].nodeType}catch(O){K=function(a,b){var c=0,e=b||[];if("[object Array]"===g.call(a))Array.prototype.push.apply(e,a);else if("number"===typeof a.length)for(var l=a.length;c<l;c++)e.push(a[c]);
else for(;a[c];c++)e.push(a[c]);return e}}var s,I;v.documentElement.compareDocumentPosition?s=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(s=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,e,l=[],f=[];c=a.parentNode;e=b.parentNode;var d=c;if(c===e)return I(a,b);if(c){if(!e)return 1}else return-1;for(;d;)l.unshift(d),d=d.parentNode;
for(d=e;d;)f.unshift(d),d=d.parentNode;c=l.length;e=f.length;for(d=0;d<c&&d<e;d++)if(l[d]!==f[d])return I(l[d],f[d]);return d===c?I(a,f[d],-1):I(l[d],b,1)},I=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});(function(){var b=v.createElement("div"),c="script"+(new Date).getTime(),e=v.documentElement;b.innerHTML="\x3ca name\x3d'"+c+"'/\x3e";e.insertBefore(b,e.firstChild);v.getElementById(c)&&(q.find.ID=function(b,c,e){if("undefined"!==typeof c.getElementById&&
!e)return(c=c.getElementById(b[1]))?c.id===b[1]||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").nodeValue===b[1]?[c]:a:[]},q.filter.ID=function(a,b){var c="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});e.removeChild(b);e=b=null})();(function(){var a=v.createElement("div");a.appendChild(v.createComment(""));0<a.getElementsByTagName("*").length&&(q.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var e=
[],l=0;c[l];l++)1===c[l].nodeType&&e.push(c[l]);c=e}return c});a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";a.firstChild&&("undefined"!==typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href"))&&(q.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();v.querySelectorAll&&function(){var a=y,b=v.createElement("div");b.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e";if(!(b.querySelectorAll&&0===b.querySelectorAll(".TEST").length)){y=function(b,c,e,l){c=c||v;if(!l&&
!y.isXML(c)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(f&&(1===c.nodeType||9===c.nodeType)){if(f[1])return K(c.getElementsByTagName(b),e);if(f[2]&&q.find.CLASS&&c.getElementsByClassName)return K(c.getElementsByClassName(f[2]),e)}if(9===c.nodeType){if("body"===b&&c.body)return K([c.body],e);if(f&&f[3]){var d=c.getElementById(f[3]);if(d&&d.parentNode){if(d.id===f[3])return K([d],e)}else return K([],e)}try{return K(c.querySelectorAll(b),e)}catch(g){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var f=
c,h=(d=c.getAttribute("id"))||"__sizzle__",m=c.parentNode,u=/^\s*[+~]/.test(b);d?h=h.replace(/'/g,"\\$\x26"):c.setAttribute("id",h);u&&m&&(c=c.parentNode);try{if(!u||m)return K(c.querySelectorAll("[id\x3d'"+h+"'] "+b),e)}catch(w){}finally{d||f.removeAttribute("id")}}}return a(b,c,e,l)};for(var c in a)y[c]=a[c];b=null}}();(function(){var a=v.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(v.createElement("div"),"div"),e=!1;
try{b.call(v.documentElement,"[test!\x3d'']:sizzle")}catch(l){e=!0}y.matchesSelector=function(a,l){l=l.replace(/\=\s*([^'"\]]*)\s*\]/g,"\x3d'$1']");if(!y.isXML(a))try{if(e||!q.match.PSEUDO.test(l)&&!/!=/.test(l)){var f=b.call(a,l);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(d){}return 0<y(l,null,null,[a]).length}}})();(function(){var a=v.createElement("div");a.innerHTML="\x3cdiv class\x3d'test e'\x3e\x3c/div\x3e\x3cdiv class\x3d'test'\x3e\x3c/div\x3e";a.getElementsByClassName&&
0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(q.order.splice(1,0,"CLASS"),q.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},a=null))})();y.contains=v.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:v.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};y.isXML=function(a){return(a=
(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var na=function(a,b,c){var e,l=[],f="";for(b=b.nodeType?[b]:b;e=q.match.PSEUDO.exec(a);)f+=e[0],a=a.replace(q.match.PSEUDO,"");a=q.relative[a]?a+"*":a;e=0;for(var d=b.length;e<d;e++)y(a,b[e],l,c);return y.filter(f,l)};y.attr=l.attr;y.selectors.attrMap={};l.find=y;l.expr=y.selectors;l.expr[":"]=l.expr.filters;l.unique=y.uniqueSort;l.text=y.getText;l.isXMLDoc=y.isXML;l.contains=y.contains})();var wa=/Until$/,H=/^(?:parents|prevUntil|prevAll)/,
ea=/,/,ca=/^.[^:#\[\.,]*$/,S=Array.prototype.slice,ka=l.expr.match.globalPOS,Da={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({find:function(a){var b=this,c,e;if("string"!==typeof a)return l(a).filter(function(){c=0;for(e=b.length;c<e;c++)if(l.contains(b[c],this))return!0});var f=this.pushStack("","find",a),d,g,h;c=0;for(e=this.length;c<e;c++)if(d=f.length,l.find(a,this[c],f),0<c)for(g=d;g<f.length;g++)for(h=0;h<d;h++)if(f[h]===f[g]){f.splice(g--,1);break}return f},has:function(a){var b=l(a);
return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(l.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(m(this,a,!1),"not",a)},filter:function(a){return this.pushStack(m(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?ka.test(a)?0<=l(a,this.context).index(this[0]):0<l.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){var c=[],e,f,d=this[0];if(l.isArray(a)){for(f=1;d&&d.ownerDocument&&d!==b;){for(e=0;e<a.length;e++)l(d).is(a[e])&&
c.push({selector:a[e],elem:d,level:f});d=d.parentNode;f++}return c}var g=ka.test(a)||"string"!==typeof a?l(a,b||this.context):0;e=0;for(f=this.length;e<f;e++)for(d=this[e];d;)if(g?-1<g.index(d):l.find.matchesSelector(d,a)){c.push(d);break}else if(d=d.parentNode,!d||!d.ownerDocument||d===b||11===d.nodeType)break;c=1<c.length?l.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?l.inArray(this[0],l(a)):
l.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?l(a,b):l.makeArray(a&&a.nodeType?[a]:a),e=l.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||11===c[0].parentNode.nodeType||!e[0]||!e[0].parentNode||11===e[0].parentNode.nodeType?e:l.unique(e))},andSelf:function(){return this.add(this.prevObject)}});l.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return l.dir(a,"parentNode")},parentsUntil:function(a,b,c){return l.dir(a,
"parentNode",c)},next:function(a){return l.nth(a,2,"nextSibling")},prev:function(a){return l.nth(a,2,"previousSibling")},nextAll:function(a){return l.dir(a,"nextSibling")},prevAll:function(a){return l.dir(a,"previousSibling")},nextUntil:function(a,b,c){return l.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return l.dir(a,"previousSibling",c)},siblings:function(a){return l.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return l.sibling(a.firstChild)},contents:function(a){return l.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:l.makeArray(a.childNodes)}},function(a,b){l.fn[a]=function(c,e){var f=l.map(this,b,c);wa.test(a)||(e=c);e&&"string"===typeof e&&(f=l.filter(e,f));f=1<this.length&&!Da[a]?l.unique(f):f;if((1<this.length||ea.test(e))&&H.test(a))f=f.reverse();return this.pushStack(f,a,S.call(arguments).join(","))}});l.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?l.find.matchesSelector(b[0],a)?[b[0]]:[]:l.find.matches(a,b)},dir:function(b,
c,e){var f=[];for(b=b[c];b&&9!==b.nodeType&&(e===a||1!==b.nodeType||!l(b).is(e));)1===b.nodeType&&f.push(b),b=b[c];return f},nth:function(a,b,c,e){b=b||1;for(e=0;a&&!(1===a.nodeType&&++e===b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Fa="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ab=/ jQuery\d+="(?:\d+|null)"/g,
Ga=/^\s+/,Ta=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ua=/<([\w:]+)/,bb=/<tbody/i,Ha=/<|&#?\w+;/,cb=/<(?:script|style)/i,db=/<(?:script|object|embed|option|style)/i,Va=RegExp("\x3c(?:"+Fa+")[\\s/\x3e]","i"),Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,Ja=/\/(java|ecma)script/i,eb=/^\s*<!(?:\[CDATA\[|\-\-)/,ia={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],
tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],_default:[0,"",""]},Ka=n(v);ia.optgroup=ia.option;ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead;ia.th=ia.td;l.support.htmlSerialize||(ia._default=[1,"div\x3cdiv\x3e","\x3c/div\x3e"]);l.fn.extend({text:function(b){return l.access(this,
function(b){return b===a?l.text(this):this.empty().append((this[0]&&this[0].ownerDocument||v).createTextNode(b))},null,b,arguments.length)},wrapAll:function(a){if(l.isFunction(a))return this.each(function(b){l(this).wrapAll(a.call(this,b))});if(this[0]){var b=l(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return l.isFunction(a)?
this.each(function(b){l(this).wrapInner(a.call(this,b))}):this.each(function(){var b=l(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=l.isFunction(a);return this.each(function(c){l(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=l.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=
this.pushStack(this,"after",arguments);a.push.apply(a,l.clean(arguments));return a}},remove:function(a,b){for(var c=0,e;null!=(e=this[c]);c++)if(!a||l.filter(a,[e]).length)!b&&1===e.nodeType&&(l.cleanData(e.getElementsByTagName("*")),l.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&l.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==
a?!1:a;b=null==b?a:b;return this.map(function(){return l.clone(this,a,b)})},html:function(b){return l.access(this,function(b){var c=this[0]||{},e=0,f=this.length;if(b===a)return 1===c.nodeType?c.innerHTML.replace(ab,""):null;if("string"===typeof b&&!cb.test(b)&&(l.support.leadingWhitespace||!Ga.test(b))&&!ia[(Ua.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(Ta,"\x3c$1\x3e\x3c/$2\x3e");try{for(;e<f;e++)c=this[e]||{},1===c.nodeType&&(l.cleanData(c.getElementsByTagName("*")),c.innerHTML=b);c=0}catch(d){}}c&&
this.empty().append(b)},null,b,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(l.isFunction(a))return this.each(function(b){var c=l(this),e=c.html();c.replaceWith(a.call(this,b,e))});"string"!==typeof a&&(a=l(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;l(this).remove();b?l(b).before(a):l(c).append(a)})}return this.length?this.pushStack(l(l.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(b,
c,e){var f,d,g,h=b[0],m=[];if(!l.support.checkClone&&3===arguments.length&&"string"===typeof h&&Ia.test(h))return this.each(function(){l(this).domManip(b,c,e,!0)});if(l.isFunction(h))return this.each(function(f){var d=l(this);b[0]=h.call(this,f,c?d.html():a);d.domManip(b,c,e)});if(this[0]){f=h&&h.parentNode;f=l.support.parentNode&&f&&11===f.nodeType&&f.childNodes.length===this.length?{fragment:f}:l.buildFragment(b,this,m);g=f.fragment;if(d=1===g.childNodes.length?g=g.firstChild:g.firstChild){c=c&&
l.nodeName(d,"tr");d=0;for(var u=this.length,w=u-1;d<u;d++)e.call(c?l.nodeName(this[d],"table")?this[d].getElementsByTagName("tbody")[0]||this[d].appendChild(this[d].ownerDocument.createElement("tbody")):this[d]:this[d],f.cacheable||1<u&&d<w?l.clone(g,!0,!0):g)}m.length&&l.each(m,function(a,b){b.src?l.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):l.globalEval((b.text||b.textContent||b.innerHTML||"").replace(eb,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)})}return this}});
l.buildFragment=function(a,b,c){var e,f,d,g,h=a[0];b&&b[0]&&(g=b[0].ownerDocument||b[0]);g.createDocumentFragment||(g=v);if(1===a.length&&"string"===typeof h&&512>h.length&&g===v&&"\x3c"===h.charAt(0)&&!db.test(h)&&(l.support.checkClone||!Ia.test(h))&&(l.support.html5Clone||!Va.test(h)))f=!0,(d=l.fragments[h])&&1!==d&&(e=d);e||(e=g.createDocumentFragment(),l.clean(a,g,e,c));f&&(l.fragments[h]=d?e:1);return{fragment:e,cacheable:f}};l.fragments={};l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,b){l.fn[a]=function(c){var e=[];c=l(c);var f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===c.length)return c[b](this[0]),this;for(var f=0,d=c.length;f<d;f++){var g=(0<f?this.clone(!0):this).get();l(c[f])[b](g);e=e.concat(g)}return this.pushStack(e,a,c.selector)}});l.extend({clone:function(a,b,c){var e,f,d;l.support.html5Clone||l.isXMLDoc(a)||!Va.test("\x3c"+a.nodeName+"\x3e")?e=a.cloneNode(!0):(e=v.createElement("div"),
Ka.appendChild(e),e.innerHTML=a.outerHTML,e=e.firstChild);var g=e;if((!l.support.noCloneEvent||!l.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!l.isXMLDoc(a)){q(a,g);e=t(a);f=t(g);for(d=0;e[d];++d)f[d]&&q(e[d],f[d])}if(b&&(p(a,g),c)){e=t(a);f=t(g);for(d=0;e[d];++d)p(e[d],f[d])}return g},clean:function(a,b,c,e){var f,d=[];b=b||v;"undefined"===typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||v);for(var g=0,h;null!=(h=a[g]);g++)if("number"===typeof h&&(h+=""),h){if("string"===
typeof h)if(Ha.test(h)){h=h.replace(Ta,"\x3c$1\x3e\x3c/$2\x3e");f=(Ua.exec(h)||["",""])[1].toLowerCase();var m=ia[f]||ia._default,u=m[0],w=b.createElement("div"),y=Ka.childNodes;b===v?Ka.appendChild(w):n(b).appendChild(w);for(w.innerHTML=m[1]+h+m[2];u--;)w=w.lastChild;if(!l.support.tbody){u=bb.test(h);m="table"===f&&!u?w.firstChild&&w.firstChild.childNodes:"\x3ctable\x3e"===m[1]&&!u?w.childNodes:[];for(f=m.length-1;0<=f;--f)l.nodeName(m[f],"tbody")&&!m[f].childNodes.length&&m[f].parentNode.removeChild(m[f])}!l.support.leadingWhitespace&&
Ga.test(h)&&w.insertBefore(b.createTextNode(Ga.exec(h)[0]),w.firstChild);h=w.childNodes;w&&(w.parentNode.removeChild(w),0<y.length&&(w=y[y.length-1])&&w.parentNode&&w.parentNode.removeChild(w))}else h=b.createTextNode(h);var r;if(!l.support.appendChecked)if(h[0]&&"number"===typeof(r=h.length))for(f=0;f<r;f++)C(h[f]);else C(h);h.nodeType?d.push(h):d=l.merge(d,h)}if(c){a=function(a){return!a.type||Ja.test(a.type)};for(g=0;d[g];g++)b=d[g],e&&l.nodeName(b,"script")&&(!b.type||Ja.test(b.type))?e.push(b.parentNode?
b.parentNode.removeChild(b):b):(1===b.nodeType&&(h=l.grep(b.getElementsByTagName("script"),a),d.splice.apply(d,[g+1,0].concat(h))),c.appendChild(b))}return d},cleanData:function(a){for(var b,c,e=l.cache,f=l.event.special,d=l.support.deleteExpando,g=0,h;null!=(h=a[g]);g++)if(!h.nodeName||!l.noData[h.nodeName.toLowerCase()])if(c=h[l.expando]){if((b=e[c])&&b.events){for(var m in b.events)f[m]?l.event.remove(h,m):l.removeEvent(h,m,b.handle);b.handle&&(b.handle.elem=null)}d?delete h[l.expando]:h.removeAttribute&&
h.removeAttribute(l.expando);delete e[c]}}});var La=/alpha\([^)]*\)/i,Ma=/opacity=([^)]*)/,Na=/([A-Z]|^ms)/g,fb=/^[\-+]?(?:\d*\.)?\d+$/i,ya=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Oa=/^([\-+])=([\-+.\de]+)/,gb=/^margin/,hb={position:"absolute",visibility:"hidden",display:"block"},ra=["Top","Right","Bottom","Left"],ua,Pa,pa;l.fn.css=function(b,c){return l.access(this,function(b,c,e){return e!==a?l.style(b,c,e):l.css(b,c)},b,c,1<arguments.length)};l.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=
ua(a,"opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,c,e,f){if(b&&!(3===b.nodeType||8===b.nodeType||!b.style)){var d,g=l.camelCase(c),h=b.style,m=l.cssHooks[g];c=l.cssProps[g]||g;if(e!==a){f=typeof e;if("string"===f&&(d=Oa.exec(e)))e=+(d[1]+1)*+d[2]+parseFloat(l.css(b,c)),f="number";if(!(null==e||"number"===
f&&isNaN(e)))if("number"===f&&!l.cssNumber[g]&&(e+="px"),!m||!("set"in m)||(e=m.set(b,e))!==a)try{h[c]=e}catch(u){}}else return m&&"get"in m&&(d=m.get(b,!1,f))!==a?d:h[c]}},css:function(b,c,e){var f,d;c=l.camelCase(c);d=l.cssHooks[c];c=l.cssProps[c]||c;"cssFloat"===c&&(c="float");if(d&&"get"in d&&(f=d.get(b,!0,e))!==a)return f;if(ua)return ua(b,c)},swap:function(a,b,c){var e={},f;for(f in b)e[f]=a.style[f],a.style[f]=b[f];c=c.call(a);for(f in b)a.style[f]=e[f];return c}});l.curCSS=l.css;v.defaultView&&
v.defaultView.getComputedStyle&&(Pa=function(a,b){var c,e,f,d=a.style;b=b.replace(Na,"-$1").toLowerCase();if((e=a.ownerDocument.defaultView)&&(f=e.getComputedStyle(a,null)))c=f.getPropertyValue(b),""===c&&!l.contains(a.ownerDocument.documentElement,a)&&(c=l.style(a,b));!l.support.pixelMargin&&(f&&gb.test(b)&&ya.test(c))&&(e=d.width,d.width=c,c=f.width,d.width=e);return c});v.documentElement.currentStyle&&(pa=function(a,b){var c,e,f=a.currentStyle&&a.currentStyle[b],l=a.style;if(null==f&&l&&(c=l[b]))f=
c;if(ya.test(f)){c=l.left;if(e=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;l.left="fontSize"===b?"1em":f;f=l.pixelLeft+"px";l.left=c;e&&(a.runtimeStyle.left=e)}return""===f?"auto":f});ua=Pa||pa;l.each(["height","width"],function(a,b){l.cssHooks[b]={get:function(a,c,e){if(c)return 0!==a.offsetWidth?x(a,b,e):l.swap(a,hb,function(){return x(a,b,e)})},set:function(a,b){return fb.test(b)?b+"px":b}}});l.support.opacity||(l.cssHooks.opacity={get:function(a,b){return Ma.test((b&&
a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,f=l.isNumeric(b)?"alpha(opacity\x3d"+100*b+")":"",d=e&&e.filter||c.filter||"";c.zoom=1;if(1<=b&&""===l.trim(d.replace(La,""))&&(c.removeAttribute("filter"),e&&!e.filter))return;c.filter=La.test(d)?d.replace(La,f):d+" "+f}});l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(a,b){return l.swap(a,{display:"inline-block"},function(){return b?
ua(a,"margin-right"):a.style.marginRight})}})});l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(a){var b=a.offsetHeight;return 0===a.offsetWidth&&0===b||!l.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||l.css(a,"display"))},l.expr.filters.visible=function(a){return!l.expr.filters.hidden(a)});l.each({margin:"",padding:"",border:"Width"},function(a,b){l.cssHooks[a+b]={expand:function(c){var e="string"===typeof c?c.split(" "):[c],f={};for(c=0;4>c;c++)f[a+ra[c]+b]=e[c]||e[c-
2]||e[0];return f}}});var Wa=/%20/g,u=/\[\]$/,na=/\r?\n/g,la=/#.*$/,va=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xa=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rb=/^(?:GET|HEAD)$/,sb=/^\/\//,kb=/\?/,tb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ub=/^(?:select|textarea)/i,jb=/\s+/,vb=/([?&])_=[^&]*/,lb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,mb=l.fn.load,Za={},nb={},za,Aa,ob=["*/"]+["*"];try{za=G.href}catch(Bb){za=v.createElement("a"),
za.href="",za=za.href}Aa=lb.exec(za.toLowerCase())||[];l.fn.extend({load:function(b,c,e){if("string"!==typeof b&&mb)return mb.apply(this,arguments);if(!this.length)return this;var f=b.indexOf(" ");if(0<=f){var d=b.slice(f,b.length);b=b.slice(0,f)}f="GET";c&&(l.isFunction(c)?(e=c,c=a):"object"===typeof c&&(c=l.param(c,l.ajaxSettings.traditional),f="POST"));var g=this;l.ajax({url:b,type:f,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText;a.isResolved()&&(a.done(function(a){c=a}),g.html(d?
l("\x3cdiv\x3e").append(c.replace(tb,"")).find(d):c));e&&g.each(e,[c,b,a])}});return this},serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?l.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ub.test(this.nodeName)||xa.test(this.type))}).map(function(a,b){var c=l(this).val();return null==c?null:l.isArray(c)?l.map(c,function(a,c){return{name:b.name,value:a.replace(na,
"\r\n")}}):{name:b.name,value:c.replace(na,"\r\n")}}).get()}});l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){l.fn[b]=function(a){return this.on(b,a)}});l.each(["get","post"],function(b,c){l[c]=function(b,e,f,d){l.isFunction(e)&&(d=d||f,f=e,e=a);return l.ajax({type:c,url:b,data:e,success:f,dataType:d})}});l.extend({getScript:function(b,c){return l.get(b,a,c,"script")},getJSON:function(a,b,c){return l.get(a,b,c,"json")},ajaxSetup:function(a,b){b?D(a,
l.ajaxSettings):(b=a,a=l.ajaxSettings);D(a,b);return a},ajaxSettings:{url:za,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Aa[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ob},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,
"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:s(Za),ajaxTransport:s(nb),ajax:function(b,c){function e(b,c,y,v){if(2!==x){x=2;p&&clearTimeout(p);q=a;r=v||"";s.readyState=0<b?4:0;var n,G,O;v=c;if(y){var I=f,na=s,C=I.contents,V=I.dataTypes,Y=I.responseFields,t,J,la,U;for(J in Y)J in y&&(na[Y[J]]=y[J]);for(;"*"===V[0];)V.shift(),t===a&&(t=I.mimeType||na.getResponseHeader("content-type"));if(t)for(J in C)if(C[J]&&C[J].test(t)){V.unshift(J);
break}if(V[0]in y)la=V[0];else{for(J in y){if(!V[0]||I.converters[J+" "+V[0]]){la=J;break}U||(U=J)}la=la||U}la?(la!==V[0]&&V.unshift(la),y=y[la]):y=void 0}else y=a;if(200<=b&&300>b||304===b){if(f.ifModified){if(t=s.getResponseHeader("Last-Modified"))l.lastModified[w]=t;if(t=s.getResponseHeader("Etag"))l.etag[w]=t}if(304===b)v="notmodified",n=!0;else try{t=f;t.dataFilter&&(y=t.dataFilter(y,t.dataType));var B=t.dataTypes;J={};var ka,va,ha=B.length,A,z=B[0],Ba,W,X,P,xa;for(ka=1;ka<ha;ka++){if(1===ka)for(va in t.converters)"string"===
typeof va&&(J[va.toLowerCase()]=t.converters[va]);Ba=z;z=B[ka];if("*"===z)z=Ba;else if("*"!==Ba&&Ba!==z){W=Ba+" "+z;X=J[W]||J["* "+z];if(!X)for(P in xa=a,J)if(A=P.split(" "),A[0]===Ba||"*"===A[0])if(xa=J[A[1]+" "+z]){P=J[P];!0===P?X=xa:!0===xa&&(X=P);break}!X&&!xa&&l.error("No conversion from "+W.replace(" "," to "));!0!==X&&(y=X?X(y):xa(P(y)))}}G=y;v="success";n=!0}catch(qa){v="parsererror",O=qa}}else if(O=v,!v||b)v="error",0>b&&(b=0);s.status=b;s.statusText=""+(c||v);n?h.resolveWith(d,[G,v,s]):
h.rejectWith(d,[s,v,O]);s.statusCode(u);u=a;K&&g.trigger("ajax"+(n?"Success":"Error"),[s,f,n?G:O]);m.fireWith(d,[s,v]);K&&(g.trigger("ajaxComplete",[s,f]),--l.active||l.event.trigger("ajaxStop"))}}"object"===typeof b&&(c=b,b=a);c=c||{};var f=l.ajaxSetup({},c),d=f.context||f,g=d!==f&&(d.nodeType||d instanceof l)?l(d):l.event,h=l.Deferred(),m=l.Callbacks("once memory"),u=f.statusCode||{},w,y={},v={},r,n,q,p,G,x=0,K,O,s={readyState:0,setRequestHeader:function(a,b){if(!x){var c=a.toLowerCase();a=v[c]=
v[c]||a;y[a]=b}return this},getAllResponseHeaders:function(){return 2===x?r:null},getResponseHeader:function(b){var c;if(2===x){if(!n)for(n={};c=va.exec(r);)n[c[1].toLowerCase()]=c[2];c=n[b.toLowerCase()]}return c===a?null:c},overrideMimeType:function(a){x||(f.mimeType=a);return this},abort:function(a){a=a||"abort";q&&q.abort(a);e(0,a);return this}};h.promise(s);s.success=s.done;s.error=s.fail;s.complete=m.add;s.statusCode=function(a){if(a){var b;if(2>x)for(b in a)u[b]=[u[b],a[b]];else b=a[s.status],
s.then(b,b)}return this};f.url=((b||f.url)+"").replace(la,"").replace(sb,Aa[1]+"//");f.dataTypes=l.trim(f.dataType||"*").toLowerCase().split(jb);null==f.crossDomain&&(G=lb.exec(f.url.toLowerCase()),f.crossDomain=!(!G||!(G[1]!=Aa[1]||G[2]!=Aa[2]||(G[3]||("http:"===G[1]?80:443))!=(Aa[3]||("http:"===Aa[1]?80:443)))));f.data&&(f.processData&&"string"!==typeof f.data)&&(f.data=l.param(f.data,f.traditional));B(Za,f,c,s);if(2===x)return!1;K=f.global;f.type=f.type.toUpperCase();f.hasContent=!rb.test(f.type);
K&&0===l.active++&&l.event.trigger("ajaxStart");if(!f.hasContent&&(f.data&&(f.url+=(kb.test(f.url)?"\x26":"?")+f.data,delete f.data),w=f.url,!1===f.cache)){G=l.now();var I=f.url.replace(vb,"$1_\x3d"+G);f.url=I+(I===f.url?(kb.test(f.url)?"\x26":"?")+"_\x3d"+G:"")}(f.data&&f.hasContent&&!1!==f.contentType||c.contentType)&&s.setRequestHeader("Content-Type",f.contentType);f.ifModified&&(w=w||f.url,l.lastModified[w]&&s.setRequestHeader("If-Modified-Since",l.lastModified[w]),l.etag[w]&&s.setRequestHeader("If-None-Match",
l.etag[w]));s.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ob+"; q\x3d0.01":""):f.accepts["*"]);for(O in f.headers)s.setRequestHeader(O,f.headers[O]);if(f.beforeSend&&(!1===f.beforeSend.call(d,s,f)||2===x))return s.abort(),!1;for(O in{success:1,error:1,complete:1})s[O](f[O]);if(q=B(nb,f,c,s)){s.readyState=1;K&&g.trigger("ajaxSend",[s,f]);f.async&&0<f.timeout&&(p=setTimeout(function(){s.abort("timeout")},f.timeout));try{x=
1,q.send(y,e)}catch(na){if(2>x)e(-1,na);else throw na;}}else e(-1,"No Transport");return s},param:function(b,c){var e=[],f=function(a,b){b=l.isFunction(b)?b():b;e[e.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)};c===a&&(c=l.ajaxSettings.traditional);if(l.isArray(b)||b.jquery&&!l.isPlainObject(b))l.each(b,function(){f(this.name,this.value)});else for(var d in b)F(d,b[d],c,f);return e.join("\x26").replace(Wa,"+")}});l.extend({active:0,lastModified:{},etag:{}});var wb=l.now(),Xa=/(\=)\?(&|$)|\?\?/i;
l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return l.expando+"_"+wb++}});l.ajaxPrefilter("json jsonp",function(a,c,e){c="string"===typeof a.data&&/^application\/x\-www\-form\-urlencoded/.test(a.contentType);if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(Xa.test(a.url)||c&&Xa.test(a.data))){var f,d=a.jsonpCallback=l.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g=b[d],h=a.url,m=a.data,u="$1"+d+"$2";!1!==a.jsonp&&(h=h.replace(Xa,u),a.url===h&&(c&&(m=m.replace(Xa,u)),a.data===
m&&(h+=(/\?/.test(h)?"\x26":"?")+a.jsonp+"\x3d"+d)));a.url=h;a.data=m;b[d]=function(a){f=[a]};e.always(function(){b[d]=g;if(f&&l.isFunction(g))b[d](f[0])});a.converters["script json"]=function(){f||l.error(d+" was not called");return f[0]};a.dataTypes[0]="json";return"script"}});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){l.globalEval(a);return a}}});
l.ajaxPrefilter("script",function(b){b.cache===a&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});l.ajaxTransport("script",function(b){if(b.crossDomain){var c,e=v.head||v.getElementsByTagName("head")[0]||v.documentElement;return{send:function(f,l){c=v.createElement("script");c.async="async";b.scriptCharset&&(c.charset=b.scriptCharset);c.src=b.url;c.onload=c.onreadystatechange=function(b,f){if(f||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,e&&c.parentNode&&
e.removeChild(c),c=a,f||l(200,"success")};e.insertBefore(c,e.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var ib=b.ActiveXObject?function(){for(var a in Ea)Ea[a](0,1)}:!1,xb=0,Ea;l.ajaxSettings.xhr=b.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&E()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:E;(function(a){l.extend(l.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(l.ajaxSettings.xhr());l.support.ajax&&l.ajaxTransport(function(c){if(!c.crossDomain||
l.support.cors){var e;return{send:function(f,d){var g=c.xhr(),h,m;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(m in c.xhrFields)g[m]=c.xhrFields[m];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType);!c.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(m in f)g.setRequestHeader(m,f[m])}catch(u){}g.send(c.hasContent&&c.data||null);e=function(b,f){var m,u,w,y,v;try{if(e&&(f||4===g.readyState))if(e=
a,h&&(g.onreadystatechange=l.noop,ib&&delete Ea[h]),f)4!==g.readyState&&g.abort();else{m=g.status;w=g.getAllResponseHeaders();y={};if((v=g.responseXML)&&v.documentElement)y.xml=v;try{y.text=g.responseText}catch(r){}try{u=g.statusText}catch(n){u=""}!m&&c.isLocal&&!c.crossDomain?m=y.text?200:404:1223===m&&(m=204)}}catch(q){f||d(-1,q)}y&&d(m,u,y,w)};!c.async||4===g.readyState?e():(h=++xb,ib&&(Ea||(Ea={},l(b).unload(ib)),Ea[h]=e),g.onreadystatechange=e)},abort:function(){e&&e(0,1)}}}});var $a={},ta,Ca,
yb=/^(?:toggle|show|hide)$/,zb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Ya,Ra=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Qa;l.fn.extend({show:function(a,b,c){if(a||0===a)return this.animate(M("show",3),a,b,c);c=0;for(var e=this.length;c<e;c++)a=this[c],a.style&&(b=a.style.display,!l._data(a,"olddisplay")&&"none"===b&&(b=a.style.display=""),(""===b&&"none"===l.css(a,"display")||!l.contains(a.ownerDocument.documentElement,
a))&&l._data(a,"olddisplay",y(a.nodeName)));for(c=0;c<e;c++)if(a=this[c],a.style&&(b=a.style.display,""===b||"none"===b))a.style.display=l._data(a,"olddisplay")||"";return this},hide:function(a,b,c){if(a||0===a)return this.animate(M("hide",3),a,b,c);c=0;for(var e=this.length;c<e;c++)a=this[c],a.style&&(b=l.css(a,"display"),"none"!==b&&!l._data(a,"olddisplay")&&l._data(a,"olddisplay",b));for(c=0;c<e;c++)this[c].style&&(this[c].style.display="none");return this},_toggle:l.fn.toggle,toggle:function(a,
b,c){var e="boolean"===typeof a;l.isFunction(a)&&l.isFunction(b)?this._toggle.apply(this,arguments):null==a||e?this.each(function(){var b=e?a:l(this).is(":hidden");l(this)[b?"show":"hide"]()}):this.animate(M("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,e){function f(){!1===d.queue&&l._mark(this);var b=l.extend({},d),c=1===this.nodeType,e=c&&l(this).is(":hidden"),g,h,m,u,w;b.animatedProperties=
{};for(m in a)if(g=l.camelCase(m),m!==g&&(a[g]=a[m],delete a[m]),(h=l.cssHooks[g])&&"expand"in h)for(m in u=h.expand(a[g]),delete a[g],u)m in a||(a[m]=u[m]);for(g in a){h=a[g];l.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if("hide"===h&&e||"show"===h&&!e)return b.complete.call(this);if(c&&("height"===g||"width"===g))b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===l.css(this,
"display")&&"none"===l.css(this,"float")&&(!l.support.inlineBlockNeedsLayout||"inline"===y(this.nodeName)?this.style.display="inline-block":this.style.zoom=1)}null!=b.overflow&&(this.style.overflow="hidden");for(m in a)if(c=new l.fx(this,b,m),h=a[m],yb.test(h))if(g=l._data(this,"toggle"+m)||("toggle"===h?e?"show":"hide":0))l._data(this,"toggle"+m,"show"===g?"hide":"show"),c[g]();else c[h]();else g=zb.exec(h),u=c.cur(),g?(h=parseFloat(g[2]),w=g[3]||(l.cssNumber[m]?"":"px"),"px"!==w&&(l.style(this,
m,(h||1)+w),u*=(h||1)/c.cur(),l.style(this,m,u+w)),g[1]&&(h=("-\x3d"===g[1]?-1:1)*h+u),c.custom(u,h,w)):c.custom(u,h,"");return!0}var d=l.speed(b,c,e);if(l.isEmptyObject(a))return this.each(d.complete,[!1]);a=l.extend({},a);return!1===d.queue?this.each(f):this.queue(d.queue,f)},stop:function(b,c,e){"string"!==typeof b&&(e=c,c=b,b=a);c&&!1!==b&&this.queue(b||"fx",[]);return this.each(function(){var a,c=!1,f=l.timers,d=l._data(this);e||l._unmark(!0,this);if(null==b)for(a in d){if(d[a]&&d[a].stop&&a.indexOf(".run")===
a.length-4){var g=d[a];l.removeData(this,a,!0);g.stop(e)}}else if(d[a=b+".run"]&&d[a].stop)d=d[a],l.removeData(this,a,!0),d.stop(e);for(a=f.length;a--;)if(f[a].elem===this&&(null==b||f[a].queue===b)){if(e)f[a](!0);else f[a].saveState();c=!0;f.splice(a,1)}(!e||!c)&&l.dequeue(this,b)})}});l.each({slideDown:M("show",1),slideUp:M("hide",1),slideToggle:M("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){l.fn[a]=function(a,c,e){return this.animate(b,
a,c,e)}});l.extend({speed:function(a,b,c){var e=a&&"object"===typeof a?l.extend({},a):{complete:c||!c&&b||l.isFunction(a)&&a,duration:a,easing:c&&b||b&&!l.isFunction(b)&&b};e.duration=l.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in l.fx.speeds?l.fx.speeds[e.duration]:l.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(a){l.isFunction(e.old)&&e.old.call(this);e.queue?l.dequeue(this,e.queue):!1!==a&&l._unmark(this)};return e},easing:{linear:function(a){return a},
swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});l.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(l.fx.step[this.prop]||l.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=l.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||"auto"===b?0:
b:a},custom:function(b,c,e){function f(a){return d.step(a)}var d=this,g=l.fx;this.startTime=Qa||z();this.end=c;this.now=this.start=b;this.pos=this.state=0;this.unit=e||this.unit||(l.cssNumber[this.prop]?"":"px");f.queue=this.options.queue;f.elem=this.elem;f.saveState=function(){l._data(d.elem,"fxshow"+d.prop)===a&&(d.options.hide?l._data(d.elem,"fxshow"+d.prop,d.start):d.options.show&&l._data(d.elem,"fxshow"+d.prop,d.end))};f()&&(l.timers.push(f)&&!Ya)&&(Ya=setInterval(g.tick,g.interval))},show:function(){var b=
l._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=b||l.style(this.elem,this.prop);this.options.show=!0;b!==a?this.custom(this.cur(),b):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());l(this.elem).show()},hide:function(){this.options.orig[this.prop]=l._data(this.elem,"fxshow"+this.prop)||l.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b,c=Qa||z(),e=!0,f=this.elem,d=this.options;if(a||c>=d.duration+this.startTime){this.now=
this.end;this.pos=this.state=1;this.update();d.animatedProperties[this.prop]=!0;for(b in d.animatedProperties)!0!==d.animatedProperties[b]&&(e=!1);if(e){null!=d.overflow&&!l.support.shrinkWrapBlocks&&l.each(["","X","Y"],function(a,b){f.style["overflow"+b]=d.overflow[a]});d.hide&&l(f).hide();if(d.hide||d.show)for(b in d.animatedProperties)l.style(f,b,d.orig[b]),l.removeData(f,"fxshow"+b,!0),l.removeData(f,"toggle"+b,!0);if(a=d.complete)d.complete=!1,a.call(f)}return!1}Infinity==d.duration?this.now=
c:(a=c-this.startTime,this.state=a/d.duration,this.pos=l.easing[d.animatedProperties[this.prop]](this.state,a,0,1,d.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};l.extend(l.fx,{tick:function(){for(var a,b=l.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||l.fx.stop()},interval:13,stop:function(){clearInterval(Ya);Ya=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){l.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&
null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});l.each(Ra.concat.apply([],Ra),function(a,b){b.indexOf("margin")&&(l.fx.step[b]=function(a){l.style(a.elem,b,Math.max(0,a.now)+a.unit)})});l.expr&&l.expr.filters&&(l.expr.filters.animated=function(a){return l.grep(l.timers,function(b){return a===b.elem}).length});var pb,Ab=/^t(?:able|d|h)$/i,qb=/^(?:body|html)$/i;pb="getBoundingClientRect"in v.documentElement?function(a,b,c,e){try{e=a.getBoundingClientRect()}catch(f){}if(!e||
!l.contains(c,a))return e?{top:e.top,left:e.left}:{top:0,left:0};a=b.body;b=w(b);return{top:e.top+(b.pageYOffset||l.support.boxModel&&c.scrollTop||a.scrollTop)-(c.clientTop||a.clientTop||0),left:e.left+(b.pageXOffset||l.support.boxModel&&c.scrollLeft||a.scrollLeft)-(c.clientLeft||a.clientLeft||0)}}:function(a,b,c){var e,f=a.offsetParent,d=b.body;e=(b=b.defaultView)?b.getComputedStyle(a,null):a.currentStyle;for(var g=a.offsetTop,h=a.offsetLeft;(a=a.parentNode)&&(a!==d&&a!==c)&&!(l.support.fixedPosition&&
"fixed"===e.position);){e=b?b.getComputedStyle(a,null):a.currentStyle;g-=a.scrollTop;h-=a.scrollLeft;if(a===f){g+=a.offsetTop;h+=a.offsetLeft;if(l.support.doesNotAddBorder&&(!l.support.doesAddBorderForTableAndCells||!Ab.test(a.nodeName)))g+=parseFloat(e.borderTopWidth)||0,h+=parseFloat(e.borderLeftWidth)||0;f=a.offsetParent}l.support.subtractsBorderForOverflowNotVisible&&"visible"!==e.overflow&&(g+=parseFloat(e.borderTopWidth)||0,h+=parseFloat(e.borderLeftWidth)||0)}if("relative"===e.position||"static"===
e.position)g+=d.offsetTop,h+=d.offsetLeft;l.support.fixedPosition&&"fixed"===e.position&&(g+=Math.max(c.scrollTop,d.scrollTop),h+=Math.max(c.scrollLeft,d.scrollLeft));return{top:g,left:h}};l.fn.offset=function(b){if(arguments.length)return b===a?this:this.each(function(a){l.offset.setOffset(this,b,a)});var c=this[0],e=c&&c.ownerDocument;return!e?null:c===e.body?l.offset.bodyOffset(c):pb(c,e,e.documentElement)};l.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;l.support.doesNotIncludeMarginInBodyOffset&&
(b+=parseFloat(l.css(a,"marginTop"))||0,c+=parseFloat(l.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var e=l.css(a,"position");"static"===e&&(a.style.position="relative");var f=l(a),d=f.offset(),g=l.css(a,"top"),h=l.css(a,"left"),m={},u={};("absolute"===e||"fixed"===e)&&-1<l.inArray("auto",[g,h])?(u=f.position(),e=u.top,h=u.left):(e=parseFloat(g)||0,h=parseFloat(h)||0);l.isFunction(b)&&(b=b.call(a,c,d));null!=b.top&&(m.top=b.top-d.top+e);null!=b.left&&(m.left=b.left-d.left+
h);"using"in b?b.using.call(a,m):f.css(m)}};l.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),e=qb.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(l.css(a,"marginTop"))||0;c.left-=parseFloat(l.css(a,"marginLeft"))||0;e.top+=parseFloat(l.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(l.css(b[0],"borderLeftWidth"))||0;return{top:c.top-e.top,left:c.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||v.body;a&&!qb.test(a.nodeName)&&"static"===l.css(a,"position");)a=a.offsetParent;return a})}});l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var e=/Y/.test(c);l.fn[b]=function(f){return l.access(this,function(b,f,d){var g=w(b);if(d===a)return g?c in g?g[c]:l.support.boxModel&&g.document.documentElement[f]||g.document.body[f]:b[f];g?g.scrollTo(!e?d:l(g).scrollLeft(),e?d:l(g).scrollTop()):b[f]=d},b,f,arguments.length,null)}});l.each({Height:"height",Width:"width"},
function(b,c){var e="client"+b,f="scroll"+b,d="offset"+b;l.fn["inner"+b]=function(){var a=this[0];return a?a.style?parseFloat(l.css(a,c,"padding")):this[c]():null};l.fn["outer"+b]=function(a){var b=this[0];return b?b.style?parseFloat(l.css(b,c,a?"margin":"border")):this[c]():null};l.fn[c]=function(b){return l.access(this,function(b,c,g){if(l.isWindow(b))return c=b.document,b=c.documentElement[e],l.support.boxModel&&b||c.body&&c.body[e]||b;if(9===b.nodeType)return c=b.documentElement,c[e]>=c[f]?c[e]:
Math.max(b.body[f],c[f],b.body[d],c[d]);if(g===a)return b=l.css(b,c),c=parseFloat(b),l.isNumeric(c)?c:b;l(b).css(c,g)},c,b,arguments.length,null)}});b.jQuery=b.$=l;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return l})})(window);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.auth=com.rooxteam.auth||{};com.rooxteam.auth.isAuthenticated=function(){return null!=com.rooxteam.auth.getPrincipal()};com.rooxteam.auth.getAuthLevel=function(){return com.rooxteam.auth.getSessionProperty("authLevel")};
com.rooxteam.auth.getPrincipal=function(){return com.rooxteam.auth.getSessionProperty("principal")};com.rooxteam.auth.getSessionProperty=function(b){var a=com.rooxteam.sharedcontext.getPersistentDataContext();return null!=a?a.getDataSet("com.rooxteam.auth."+b):null};com.rooxteam.auth._impl=com.rooxteam.auth._impl||{requestAuthentication:function(b,a,c){throw Error("Method not implemented");},logout:function(b){throw Error("Method not implemented");}};
com.rooxteam.auth.requestAuthentication=function(b,a,c){com.rooxteam.auth._impl.requestAuthentication(b,a,c)};com.rooxteam.auth.logout=function(b){com.rooxteam.auth._impl.logout(b)};com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.deferred=com.rooxteam.deferred||{};com.rooxteam.deferred.Deferred=jQuery.Deferred;
com.rooxteam.deferred.when=function(){var b=Array.prototype.slice.call(arguments),b=jQuery.map(b,function(a){"undefined"!==typeof WinJS&&a instanceof WinJS.Promise&&(a=jQuery.Deferred(function(b){a.then(function(){b.resolveWith(this,arguments)},function(){b.rejectWith(this,arguments)},function(){b.notifyWith(this,arguments)})}).promise());return a});return jQuery.when.apply(this,b)};com.rooxteam.deferred.whenArray=function(b){return com.rooxteam.deferred.when.apply(null,b)};
com.rooxteam.deferred.whenAll=function(b){var a=Array.prototype.slice.call(arguments);if(a&&a.length){var c=$.Deferred(),d=a.length,h=!1,g=[],f,e;e=function(){g=g.concat(Array.prototype.slice.call(arguments));if(!--d)c[h?"rejectWith":"resolveWith"](c,g)};f=function(){h=!0};a.forEach(function(a){a.fail(f).always(e)});return c}return $.Deferred().resolve()};com.rooxteam.deferred.whenAllArray=function(b){return com.rooxteam.deferred.whenAll.apply(null,b)};
com.rooxteam.deferred.whenSome=function(b){var a=Array.prototype.slice.call(arguments);if(a&&a.length){var c=$.Deferred(),d=a.length,h=!1,g,f;f=function(){if(!--d||h)c[h?"resolve":"reject"]()};g=function(){h=!0};a.forEach(function(a){a.done(g).always(f)});return c}return $.Deferred().resolve()};com.rooxteam.deferred.whenSomeArray=function(b){return com.rooxteam.deferred.whenSome.apply(null,b)};
com.rooxteam.deferred.timeout=function(b,a){var c=Array.prototype.slice.call(arguments,1),d=jQuery.Deferred(function(a){a.timeoutID=setTimeout(function(){a.resolveWith(a,c)},b);a.fail(function(){clearTimeout(a.timeoutID)})});if(a.promise&&a.resolve){var h=function(){d.rejectWith(d,c.slice(1))};d.then(function(){a.rejectWith(a,c.slice(1))});a.then(h,h);return a}return d};
"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.deferred=function(b,a,c,d){var h=c.block,g=c["else"];if(d&&d.value){var f=d.value;return b.map(function(b){f.then(function(){b.render(h,a.push({"return":arguments[0],args:arguments}));b.end()},function(){g&&b.render(g,a.push({"return":arguments[0],args:arguments}));b.end()})})}return b});com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.webapi=com.rooxteam.webapi||{};
var GET_BALANCE_METHOD="customer.getBalance",GET_CUSTOMER_METHOD=["GET","/customer/@me"],GET_OFFER_METHOD="offer.get",GET_BSSTATUS_METHOD="bsstatus.get",GET_NEWS_METHOD="news.get",CREATE_PRODUCT_METHOD="product.create",GET_PRODUCT_METHOD="product.get",GET_DEVICE_METHOD="device.get",AUTHORIZE_METHOD="authentication.get",DELETE_SOCIAL_USER_MAPPING=["DELETE","/customer/@me/socialUserMapping"],GET_SOCIAL_USER_MAPPINGS_BY_CUSTOMER_ID="socialUserMapping.getByCustomerId",GET_SOCIAL_USER_MAPPING=["GET","/customer/@me/socialUserMapping"],
UPDATE_SOCIAL_USER_MAPPING=["PUT","/customer/@me/socialUserMapping"],GET_MESSAGE_CLASSES=["GET","/socialMessageClass"],GET_SOCIAL_APPLICATION=["GET","/socialApplication"],GET_ALL_SOCIAL_APPLICATION=["GET","/socialApplication"],STORE_CONNECTION_STATUS="cmdata.create",LAST_CM_AUTH_HASH="LAST_CM_AUTH_HASH",GET_CUSTOMER_SERVICES_METHOD="socialCustomer.getAllServices",GET_CUSTOMER_DEFAULT_SERVICE_METHOD="socialCustomer.getDefaultService",SET_CUSTOMER_DEFAULT_SERVICE_METHOD="socialCustomer.setDefaultService",
MAC_ADDRESS_PARAM="mac",IMSI_PARAM="imsi",CM_ID_PARAM="cmId",BSID_PARAM="bsid",ECGI_PARAM="ecgi",IP_PARAM="ip",WEAK_TOKEN_PARAM="hashKey",DEVICE_ID_PARAM="deviceId",bisMethods=["com.rooxteam.webapi."+GET_BALANCE_METHOD,"com.rooxteam.webapi."+GET_CUSTOMER_METHOD,"com.rooxteam.webapi."+GET_OFFER_METHOD,"com.rooxteam.webapi."+GET_NEWS_METHOD,"com.rooxteam.webapi."+GET_DEVICE_METHOD,"com.rooxteam.webapi."+CREATE_PRODUCT_METHOD,"com.rooxteam.webapi."+AUTHORIZE_METHOD,"com.rooxteam.webapi."+GET_CUSTOMER_SERVICES_METHOD,
"com.rooxteam.webapi."+GET_CUSTOMER_DEFAULT_SERVICE_METHOD,"com.rooxteam.webapi."+SET_CUSTOMER_DEFAULT_SERVICE_METHOD,"com.rooxteam.webapi."+GET_SOCIAL_USER_MAPPING,"com.rooxteam.webapi."+GET_MESSAGE_CLASSES,"com.rooxteam.webapi."+DELETE_SOCIAL_USER_MAPPING,"com.rooxteam.webapi."+UPDATE_SOCIAL_USER_MAPPING],bisWebapiTransport={name:void 0,execute:execute},config={endpointUrl:gadgets.config.NonEmptyStringValidator};
gadgets.config.register("com.rooxteam.webapi",config,function(){bisWebapiTransport.name=gadgets.config.get("com.rooxteam.webapi").endpointUrl});for(var i=0;i<bisMethods.length;i++)osapi._registerMethod(bisMethods[i],bisWebapiTransport);
function execute(b,a){for(var c in b){var d=b[c];d.method=d.params.method;d.params=d.params.params}c={POST_DATA:gadgets.json.stringify(b),CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"BEARER"};var h=com.rooxteam.sharedcontext.getDataContext().getDataSet("com.roox.cm.Common.App.Properties.unit.IpAddress"),h=h?h:"",d={"Content-Type":"application/json"};gadgets.config.get("com.rooxteam.webapi").emulateNetscaler&&(d["NS-Client-IP"]=h);(h=shindig.auth.getSecurityToken())&&(d.Authorization="Bearer "+
h);c.HEADERS=d;gadgets.io.makeRequest(this.name,function(b){if(b.errors[0])a({error:{code:b.rc,message:b.text}});else if(b=b.result||b.data,!b||b.error)a(b);else{for(var c={},e=0;e<b.length;e++)c[b[e].id]=b[e];a(c)}},c)}var PROPERTY_CHECK_LAST_TIMESTAMP_PROPERTY="__timestamp",PROPERTY_CHECK_LAST_PARAMS_PROPERTY="__params",PROPERTY_REREQUEST_DELAY=3E4,properyCheckArguments={};
function _checkPropertyCheckParams(b,a){if(!properyCheckArguments[b]||(!properyCheckArguments[b][PROPERTY_CHECK_LAST_TIMESTAMP_PROPERTY]||!properyCheckArguments[b][PROPERTY_CHECK_LAST_PARAMS_PROPERTY])||properyCheckArguments[b][PROPERTY_CHECK_LAST_TIMESTAMP_PROPERTY]+PROPERTY_REREQUEST_DELAY<Date.now())return!1;for(var c in a){var d=properyCheckArguments[b][PROPERTY_CHECK_LAST_PARAMS_PROPERTY],h=null,g;for(g in d)if(c==g){if(a[c]!=d[g])return!1;h=c}if(!h)return!1}return!0}
function _fillPropertyCheckParams(b,a,c){properyCheckArguments[b]={};properyCheckArguments[b][PROPERTY_CHECK_LAST_TIMESTAMP_PROPERTY]=Date.now();properyCheckArguments[b][PROPERTY_CHECK_LAST_PARAMS_PROPERTY]=a}var _cacheSingleMethod,_getCachedSingleMethod;
(function(){var b={};_cacheSingleMethod=function(a,c,d,h){"get"==a.toLowerCase()&&(b[a+":"+c+":"+JSON.stringify(d)]={data:h,timestamp:new Date})};_getCachedSingleMethod=function(a,c,d){if("get"==a.toLowerCase()){var h=a+":"+c+":"+JSON.stringify(d);if((h=b[h])&&3E4>new Date-h.timestamp)return h.data;delete b[a+":"+c+":"+JSON.stringify(d)]}}})();
function _executeSingleMethod(b,a,c,d){gadgets.warn("This method is deprecated and will be removed. Please use rooxteam webapi rest methods.");$.support.cors=!0;var h=!1,g,f,e,m=void 0===c.disableCache?!1:c.disableCache;delete c.disableCache;a instanceof Array?(e=a[1],a=a[0]):(e=a,a="GET");(g=m?null:_getCachedSingleMethod(a,e,c))?h=!0:(b={url:b.name+e,type:a,dataType:c.dataType,data:c.data,contentType:c.contentType},(d=shindig.auth.getSecurityToken())&&(b.headers={Authorization:"Bearer "+d}),$.ajax(b).success(function(b){h=
!0;g=b;m||_cacheSingleMethod(a,e,c,b);f&&f(g)}).error(function(a){h=!0;g={error:{code:a.status,message:a.responseText}};f&&f(g)}));return{execute:function(a){f=a;h&&f instanceof Function&&f(g)}}}com.rooxteam.webapi.customer=com.rooxteam.webapi.customer||{};com.rooxteam.webapi.customer.getBalance=function(){return _executeRestMethod(bisWebapiTransport,{},GET_BALANCE_METHOD)};com.rooxteam.webapi.customer.get=function(){return com.rooxteam.webapi.get(GET_CUSTOMER_METHOD[1],{})};
com.rooxteam.webapi.customer.getAllServices=function(){return _executeSingleMethod(bisWebapiTransport,GET_CUSTOMER_SERVICES_METHOD,{})};com.rooxteam.webapi.customer.getDefaultService=function(){return _executeSingleMethod(bisWebapiTransport,GET_CUSTOMER_DEFAULT_SERVICE_METHOD,{})};com.rooxteam.webapi.customer.setDefaultService=function(b,a){var c={};c.serv_acc_num=a;c.serv_type=b;return _executeSingleMethod(bisWebapiTransport,SET_CUSTOMER_DEFAULT_SERVICE_METHOD,c)};
com.rooxteam.webapi.socialUserMapping=com.rooxteam.webapi.socialUserMapping||{};com.rooxteam.webapi.socialUserMapping.getByCustomerId=function(b){var a={};b&&(a.customerId=b);return com.rooxteam.webapi.get(customerUrl,a)};com.rooxteam.webapi.socialUserMapping.get=function(b){var a={},c=GET_SOCIAL_USER_MAPPING[1];void 0!==b&&(a.disableCache=b);return com.rooxteam.webapi.get(c,a)};
com.rooxteam.webapi.socialUserMapping.update=function(b){var a={},c=UPDATE_SOCIAL_USER_MAPPING[1];a.data=b;a.dataType="json";a.contentType="application/json; charset\x3dutf-8";return com.rooxteam.webapi.put(c,{},a)};com.rooxteam.webapi.socialUserMapping.remove=function(b,a){var c={},d=DELETE_SOCIAL_USER_MAPPING[1]+"/"+b+"/"+a;c.dataType="json";c.contentType="application/json; charset\x3dutf-8";return com.rooxteam.webapi["delete"](d,c)};
com.rooxteam.webapi.socialApplication=com.rooxteam.webapi.socialApplication||{};com.rooxteam.webapi.socialApplication.get=function(b,a){var c={};c.appId=b;c.socialNetworkId=a;return _executeSingleMethod(bisWebapiTransport,GET_SOCIAL_APPLICATION,c)};com.rooxteam.webapi.socialApplication.getAll=function(){return _executeSingleMethod(bisWebapiTransport,GET_ALL_SOCIAL_APPLICATION,{})};com.rooxteam.webapi.messageClass=com.rooxteam.webapi.messageClass||{};
com.rooxteam.webapi.messageClass.getAll=function(b){var a={},c=GET_MESSAGE_CLASSES[1];void 0!==b&&(a.disableCache=b);return com.rooxteam.webapi.get(c,a)};com.rooxteam.webapi.news=com.rooxteam.webapi.news||{};com.rooxteam.webapi.news.get=function(b){var a={};a.cmId=b;return _executeSingleMethod(bisWebapiTransport,GET_NEWS_METHOD,a)};com.rooxteam.webapi.offer=com.rooxteam.webapi.offer||{};com.rooxteam.webapi.offer.get=function(){return _executeSingleMethod(bisWebapiTransport,GET_OFFER_METHOD)};
com.rooxteam.webapi.product=com.rooxteam.webapi.product||{};com.rooxteam.webapi.product.create=function(b){var a={};a.price=b;return _executeSingleMethod(bisWebapiTransport,CREATE_PRODUCT_METHOD,a)};com.rooxteam.webapi.product.get=function(){return _executeSingleMethod(bisWebapiTransport,GET_PRODUCT_METHOD)};com.rooxteam.webapi.bsstatus=com.rooxteam.webapi.bsstatus||{};com.rooxteam.webapi.device=com.rooxteam.webapi.device||{};
com.rooxteam.webapi.device.get=function(){return _executeSingleMethod(bisWebapiTransport,GET_DEVICE_METHOD)};com.rooxteam.webapi.weakauth=com.rooxteam.webapi.weakauth||{};
com.rooxteam.webapi.weakauth.authorize=function(b,a){var c={};c[CM_ID_PARAM]=b;if(a){var d="";for(k=0;k<a.length;k++)":"!=a[k]&&"\x26"!=a[k]&&(d+=a[k]);c[DEVICE_ID_PARAM]=d}_executeSingleMethod(bisWebapiTransport,AUTHORIZE_METHOD,c).execute(function(a){a.result&&a.result.hashKey&&com.rooxteam.sharedcontext.getDataContext().putDataSet(LAST_CM_AUTH_HASH,a.result.hashKey)})};com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.webapi=com.rooxteam.webapi||{};
var CUSTOMERS_ME="/customers/@me",CUSTOMERS_ME_PRODUCTS="/customers/@me/products",CUSTOMERS_ME_ACCOUNTS="/customers/@me/accounts",webapiTransport={name:void 0,execute:execute,processedName:void 0},config={endpointUrl:gadgets.config.NonEmptyStringValidator};gadgets.config.register("com.rooxteam.webapi",config,function(){webapiTransport.name=gadgets.config.get("com.rooxteam.webapi").endpointUrl});
function _executeRest(b,a,c,d){var h=$.Deferred();c||(c="GET");c={CONTENT_TYPE:"JSON",METHOD:c,AUTHORIZATION:"BEARER"};d&&(d=gadgets.json.stringify(d));null!=d&&(c.POST_DATA=d);var g=com.rooxteam.sharedcontext.getDataContext();d={"Content-Type":"application/json"};gadgets.config.get("com.rooxteam.webapi").emulateNetscaler&&(g=g.getDataSet("com.roox.cm.Common.App.Properties.unit.IpAddress"),d["NS-Client-IP"]=g?g:"");"undefined"!==typeof Windows&&(d["If-Modified-Since"]="Mon, 27 Mar 1972 00:00:00 GMT");
(g=shindig.auth.getSecurityToken())&&(d.Authorization="Bearer "+g);c.HEADERS=d;try{gadgets.io.makeRequest(b,function(b){b.errors&&0!==b.errors.length?h.reject(b):h.resolve(b);"function"===typeof a&&a(b)},c)}catch(f){b={rc:500,errors:[""+f],text:""+f,data:null},h.reject(b),"function"===typeof a&&a(b)}return h.promise()}
function _executeRestMethod(b,a,c,d){var h=webapiTransport.name.replace(/(?:\/api)?[\/]?$/,"");webapiTransport.processedName=h;if(null!=a)for(var g in a)a.hasOwnProperty(g)&&(b=b.replace("{"+g+"}",a[g]));var f=h+b;return{execute:function(a){return _executeRest(f,a,c,d)}}}com.rooxteam.webapi.get=function(b,a){return _executeRestMethod(b,a)};com.rooxteam.webapi.put=function(b,a,c){return _executeRestMethod(b,a,"PUT",c)};com.rooxteam.webapi.post=function(b,a,c){return _executeRestMethod(b,a,"POST",c)};
com.rooxteam.webapi.remove=function(b,a,c){return _executeRestMethod(b,a,"DELETE",c)};com.rooxteam.webapi.ajax=function(b){return _executeRest(b.url,b.callback,b.type,b.data)};com.rooxteam.webapi.makeUrl=function(b,a){var c=bisWebapiTransport.name;if(null!=a)for(var d in a)a.hasOwnProperty(d)&&(b=b.replace("{"+d+"}",a[d]));return c+b};com.rooxteam.webapi["delete"]=function(b,a,c){return _executeRestMethod(b,a,"DELETE",c)};
(function(b){function a(a,b,c,d,h){this._listener=b;this._isOnce=c;this.context=d;this._signal=a;this._priority=h||0}function c(a,b){if("function"!==typeof a)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));}function d(){this._bindings=[];this._prevParams=null;var a=this;this.dispatch=function(){d.prototype.dispatch.apply(a,arguments)}}a.prototype={active:!0,params:null,execute:function(a){var b;this.active&&this._listener&&(a=this.params?this.params.concat(a):
a,b=this._listener.apply(this.context,a),this._isOnce&&this.detach());return b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+
", isBound:"+this.isBound()+", active:"+this.active+"]"}};d.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(b,c,e,d){var h=this._indexOfListener(b,e);if(-1!==h){if(b=this._bindings[h],b.isOnce()!==c)throw Error("You cannot add"+(c?"":"Once")+"() then add"+(!c?"":"Once")+"() the same listener without removing the relationship first.");}else b=new a(this,b,c,e,d),this._addBinding(b);this.memorize&&this._prevParams&&b.execute(this._prevParams);return b},
_addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){for(var c=this._bindings.length,d;c--;)if(d=this._bindings[c],d._listener===a&&d.context===b)return c;return-1},has:function(a,b){return-1!==this._indexOfListener(a,b)},add:function(a,b,e){c(a,"add");return this._registerListener(a,!1,b,e)},addOnce:function(a,b,e){c(a,"addOnce");return this._registerListener(a,!0,
b,e)},remove:function(a,b){c(a,"remove");var e=this._indexOfListener(a,b);-1!==e&&(this._bindings[e]._destroy(),this._bindings.splice(e,1));return a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b=Array.prototype.slice.call(arguments),c=this._bindings.length,d;this.memorize&&(this._prevParams=
b);if(c){d=this._bindings.slice();this._shouldPropagate=!0;do c--;while(d[c]&&this._shouldPropagate&&!1!==d[c].execute(b))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var h=d;h.Signal=d;"function"===typeof define&&define.amd?define(function(){return h}):"undefined"!==typeof module&&module.exports?module.exports=h:b.signals=
h})(this);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.auth=com.rooxteam.auth||{};config={authorizeEndpointUrl:gadgets.config.NonEmptyStringValidator,response_type:gadgets.config.NonEmptyStringValidator,redirect_uri:gadgets.config.NonEmptyStringValidator,client_id:gadgets.config.NonEmptyStringValidator};gadgets.config.register("com.rooxteam.auth",config,function(){});
com.rooxteam.auth._impl={COMMON_METHODS_PREFIX:"com.rooxteam.auth.proxy.methods.",SECURITY_TOKEN:"com.rooxteam.auth.SECURITY_TOKEN",requestAuthentication:function(b){throw Error("Method not implemented");},logout:function(b){throw Error("Method not implemented");},isAuthenticated:function(){throw Error("Method not implemented");}};com.rooxteam.auth.AuthPhase={LOGIN:"LOGIN",CHECK_ASSOCIATION:"CHECK_ASSOCIATION"};com.rooxteam.auth.requestAuthentication=function(){return com.rooxteam.auth._impl.requestAuthentication({})};
com.rooxteam.auth.logout=function(b){return com.rooxteam.auth._impl.logout(b)};com.rooxteam.auth.isAuthenticated=function(){return com.rooxteam.auth._impl.isAuthenticated()};com.rooxteam.auth.authStateChanged=new signals.Signal;com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.auth=com.rooxteam.auth||{};
(function(){function b(){var a=h.getDataSet(d);shindig.auth.updateSecurityToken(a);com.rooxteam.auth.authStateChanged.dispatch({token:a});gadgets.log("tokenChanged. "+a)}var a=com.rooxteam.auth._impl,c=a.COMMON_METHODS_PREFIX,d=a.SECURITY_TOKEN,h=com.rooxteam.sharedcontext.getDataContext();gadgets.util.attachBrowserEvent(window,"storage",function(a){switch(a.key){case d:b()}});a.requestAuthentication=function(a){a=JSON.stringify({id:c+"requestAuthentication",data:a?a:{}});window.top.postMessage(a,
"*")};a.isAuthenticated=function(){return null!=shindig.auth.getSecurityToken()};a.logout=function(a){throw Error("Method not implemented");};b()})();
(function(b){jQuery.extend({namespace:function(a){var b=window;a=a.split(".");for(var c=0;c<a.length;c++)"undefined"==typeof b[a[c]]&&(b[a[c]]={}),b=b[a[c]];return b}});var a=!1,c=/xyz/.test(function(){xyz})?/\bSuper\b/:/.*/;jQuery.Class=function(){};jQuery.Class.extend=function(b){function h(){!a&&this.init&&this.init.apply(this,arguments)}var g=this.prototype;a=!0;var f=new this;a=!1;for(var e in b)f[e]="function"==typeof b[e]&&"function"==typeof g[e]&&c.test(b[e])?function(a,b){return function(){var c=
this.Super;this.Super=g[a];var e=b.apply(this,arguments);this.Super=c;return e}}(e,b[e]):b[e];h.prototype=f;h.constructor=h;h.extend=arguments.callee;return h};"undefined"===typeof Function.bind&&(Function.prototype.bind=function(a){var b=this;return tmp=function(){return b.apply(a,arguments)}});Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1})})(jQuery);
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{AppState:{initializing:0,serviceStopped:1,applicationCorrupted:2,normal:3},MobileState:{deviceAbsent:0,scanning:1,readyToConnect:2,noNetwork:3,connecting:4,connectionFail:5,obtainingIp:6,connectionStatusCheck:7,connected:8,disconnecting:9,turningOff:10,turningOn:11,softwareOff:12,hardwareOff:13,simAbsent:14,passwordRequired:15,passwordResetRequired:16,cardUnlockCodeRequired:17,waitAutoconnect:18,permissionDenied:19},WifiState:{deviceAbsent:0,
readyToConnect:1,noNetwork:2,connected:3,turningOff:4,turningOn:5,softwareOff:6,hardwareOff:7},FixedState:{deviceAbsent:0,cableUnplugged:1,obtainingIp:2,connected:3,turningOff:4,turningOn:5,softwareOff:6},DeviceGroup:{mobile:0,wifi:1,fixed:2},SignalLevel:{level0:0,level1:1,level2:2,level3:3,level4:4,level5:5,levelMax:this.level5},PasswordProtectionMode:{notAvailable:0,enabled:1,disabled:2},NetworkTechnology:{none:0,wimax:1,lte:2,secondGen:4,thirdGen:8,cdma2000:16,wifi:32,ethernet:64,min:this.wimax,
max:this.ethernet},ConnectionMode:{unknown:0,noService:1,limitedService:2,gsm:3,gprs:4,edge:5,umts:6,hsdpa:7,hsupa:8,hspa:9,hspaPlus:10,lte:11,wimax:12,cdma2000:13,wifi:14,ethernet:15},ConnectionModePreference:{unknown:0,only2g:1,only3g:2,onlyLte:3,preferred2g:4,preferred3g:5,preferredLte:6},RegistrationStatus:{unknown:0,notRegisteredNotSearching:1,registeredHomeNetwork:2,notRegisteringSearching:3,registrationDenied:4,registeredRoaming:5},MessageKind:{outgoingSms:0,outgoingPartialSms:1,incomingSimpleSms:2,
incomingPartialSms:3,incomingIncompleteSms:4,incomingSmsStatusReport:5,outgoingUssd:6,incomingUssd:7,chatUssd:8,cancelUssd:9,incomingCustom:10},MessageDirection:{outgoing:0,incoming:1,chat:2},MessageSendingStatus:{local:0,sending:1,sendingFailed:2,sendingSucceeded:3,delivered:4},UssdStatus:{noFurtherActionRequired:0,furtherActionRequired:1,terminatedByNetwork:2,otherClientResponded:3,operationNotSupported:4,networkTimeOut:5,unknownError:6}})})();
(function(b){function a(a,b,c,d,h){this._listener=b;this._isOnce=c;this.context=d;this._signal=a;this._priority=h||0}function c(a,b){if("function"!==typeof a)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));}function d(){this._bindings=[];this._prevParams=null;var a=this;this.dispatch=function(){d.prototype.dispatch.apply(a,arguments)}}a.prototype={active:!0,params:null,execute:function(a){var b;this.active&&this._listener&&(a=this.params?this.params.concat(a):
a,b=this._listener.apply(this.context,a),this._isOnce&&this.detach());return b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+
", isBound:"+this.isBound()+", active:"+this.active+"]"}};d.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(b,c,e,d){var h=this._indexOfListener(b,e);if(-1!==h){if(b=this._bindings[h],b.isOnce()!==c)throw Error("You cannot add"+(c?"":"Once")+"() then add"+(!c?"":"Once")+"() the same listener without removing the relationship first.");}else b=new a(this,b,c,e,d),this._addBinding(b);this.memorize&&this._prevParams&&b.execute(this._prevParams);return b},
_addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){for(var c=this._bindings.length,d;c--;)if(d=this._bindings[c],d._listener===a&&d.context===b)return c;return-1},has:function(a,b){return-1!==this._indexOfListener(a,b)},add:function(a,b,e){c(a,"add");return this._registerListener(a,!1,b,e)},addOnce:function(a,b,e){c(a,"addOnce");return this._registerListener(a,!0,
b,e)},remove:function(a,b){c(a,"remove");var e=this._indexOfListener(a,b);-1!==e&&(this._bindings[e]._destroy(),this._bindings.splice(e,1));return a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b=Array.prototype.slice.call(arguments),c=this._bindings.length,d;this.memorize&&(this._prevParams=
b);if(c){d=this._bindings.slice();this._shouldPropagate=!0;do c--;while(d[c]&&this._shouldPropagate&&!1!==d[c].execute(b))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var h=d;h.Signal=d;"function"===typeof define&&define.amd?define(function(){return h}):"undefined"!==typeof module&&module.exports?module.exports=h:b.signals=
h})(this);(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{Property:$.Class.extend({init:function(a){this.valueChanged=new signals.Signal;this._value=this._defaultValue=a},get:function(){return this._value},set:function(a){if(this._value==a)return this._value;this._value=a;this.valueChanged.dispatch(a);return this._value},reset:function(){return this.set(this._defaultValue)}})})})();
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{DeviceInfo:$.Class.extend({init:function(){var a=b.Property;this._supportedNetworkTechnologies=new a(0);this._driverVersion=new a("");this._modelName=new a("");this._firmwareVersion=new a("");this._webGuiUrl=new a("");this._macAddress=new a("");this._imei=new a("");this._iccid=new a("");this._imsi=new a("");this._phoneNumber=new a("");this._availableAdapters=new a("");this._currentAdapterId=new a("");this._isAdapterAutoSelected=new a("")},
getSupportedNetworkTechnologies:function(){return this._supportedNetworkTechnologies.get()},getDriverVersion:function(){return this._driverVersion.get()},getModelName:function(){return this._modelName.get()},getFirmwareVersion:function(){return this._firmwareVersion.get()},getWebGuiUrl:function(){return this._webGuiUrl.get()},getMacAddress:function(){return this._macAddress.get()},getImei:function(){return this._imei.get()},getIccid:function(){return this._iccid.get()},getImsi:function(){return this._imsi.get()},
getPhoneNumber:function(){return this._phoneNumber.get()},getAvailableAdapters:function(){return this._availableAdapters.get()},getCurrentAdapterId:function(){return this._currentAdapterId.get()},isAdapterAutoSelected:function(){return this._isAdapterAutoSelected.get()},watchSupportedNetworkTechnologies:function(a){return this._supportedNetworkTechnologies.valueChanged.add(a)},unwatchSupportedNetworkTechnologies:function(a){return this._supportedNetworkTechnologies.valueChanged.remove(a)},watchDriverVersion:function(a){return this._driverVersion.valueChanged.add(a)},
unwatchDriverVersion:function(a){return this._driverVersion.valueChanged.remove(a)},watchModelName:function(a){return this._modelName.valueChanged.add(a)},unwatchModelName:function(a){return this._modelName.valueChanged.remove(a)},watchFirmwareVersion:function(a){return this._firmwareVersion.valueChanged.add(a)},unwatchFirmwareVersion:function(a){return this._firmwareVersion.valueChanged.remove(a)},watchWebGuiUrl:function(a){return this._webGuiUrl.valueChanged.add(a)},unwatchWebGuiUrl:function(a){return this._webGuiUrl.valueChanged.remove(a)},
watchMacAddress:function(a){return this._macAddress.valueChanged.add(a)},unwatchMacAddress:function(a){return this._macAddress.valueChanged.remove(a)},watchImei:function(a){return this._imei.valueChanged.add(a)},unwatchImei:function(a){return this._imei.valueChanged.remove(a)},watchIccid:function(a){return this._iccid.valueChanged.add(a)},unwatchIccid:function(a){return this._iccid.valueChanged.remove(a)},watchImsi:function(a){return this._imsi.valueChanged.add(a)},unwatchImsi:function(a){return this._imsi.valueChanged.remove(a)},
watchPhoneNumber:function(a){return this._phoneNumber.valueChanged.add(a)},unwatchPhoneNumber:function(a){return this._phoneNumber.valueChanged.remove(a)},watchAvailableAdapters:function(a){return this._availableAdapters.valueChanged.add(a)},unwatchAvailableAdapters:function(a){return this._availableAdapters.valueChanged.remove(a)},watchCurrentAdapterId:function(a){return this._currentAdapterId.valueChanged.add(a)},unwatchCurrentAdapterId:function(a){return this._currentAdapterId.valueChanged.remove(a)},
watchAdapterAutoSelected:function(a){return this._isAdapterAutoSelected.valueChanged.add(a)},unwatchAdapterAutoSelected:function(a){return this._isAdapterAutoSelected.valueChanged.remove(a)}})})})();
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{NetworkStatistics:$.Class.extend({init:function(){var a=b.Property;this._connectionMode=new a(b.ConnectionMode.unknown);this._networkTechnology=new a(b.NetworkTechnology.none);this._connectionModePreference=new a(b.ConnectionModePreference.unknown);this._registrationStatus=new a(b.RegistrationStatus.unknown);this._passwordProtectionMode=new a(b.PasswordProtectionMode.notAvailable);this._cardUnlockTriesRemained=new a(-1);this._pinTriesRemained=
new a(-1);this._pukTriesRemained=new a(-1);this._isAutoNetworkSelection=new a(!0);this._networkName=new a("");this._networkId=new a(0);this._baseStationId=new a("");this._centerFrequency=new a;this._signalQuality=new a;this._signalStrength=new a;this._referenceSignalQuality=new a;this._referenceSignalStrength=new a;this._signalLevel=new a;this._signalQualityPercent=new a;this._transmitPower=new a;this._totalBytesReceived=new a(0);this._totalBytesSent=new a(0);this._totalBytesReceivedToday=new a(0);
this._totalBytesSentToday=new a(0);this._totalBytesReceivedThisMonth=new a(0);this._totalBytesSentThisMonth=new a(0);this._totalBytesReceivedThisYear=new a(0);this._totalBytesSentThisYear=new a(0);this._ipAddress=new a("");this._currentIncomingSpeed=new a(0);this._maxIncomingSpeed=new a(0);this._currentOutgoingSpeed=new a(0);this._maxOutgoingSpeed=new a(0);this._connectedTime=new a},getConnectionMode:function(){return this._connectionMode.get()},getNetworkTechnology:function(){return this._networkTechnology.get()},
getConnectionModePreference:function(){return this._connectionModePreference.get()},getRegistrationStatus:function(){return this._registrationStatus.get()},getPasswordProtectionMode:function(){return this._passwordProtectionMode.get()},getCardUnlockTriesRemained:function(){return this._cardUnlockTriesRemained.get()},getPinTriesRemained:function(){return this._pinTriesRemained.get()},getPukTriesRemained:function(){return this._pukTriesRemained.get()},isAutoNetworkSelection:function(){return this._isAutoNetworkSelection.get()},
getNetworkName:function(){return this._networkName.get()},getNetworkId:function(){return this._networkId.get()},getBaseStationId:function(){return this._baseStationId.get()},getCenterFrequency:function(){return this._centerFrequency.get()},getSignalQuality:function(){return this._signalQuality.get()},getSignalStrength:function(){return this._signalStrength.get()},getReferenceSignalQuality:function(){return this._referenceSignalQuality.get()},getReferenceSignalStrength:function(){return this._referenceSignalStrength.get()},
getSignalLevel:function(){return this._signalLevel.get()},getSignalQualityPercent:function(){return this._signalQualityPercent.get()},getTransmitPower:function(){return this._transmitPower.get()},getTotalBytesReceived:function(){return this._totalBytesReceived.get()},getTotalBytesSent:function(){return this._totalBytesSent.get()},getTotalBytesReceivedToday:function(){return this._totalBytesReceivedToday.get()},getTotalBytesSentToday:function(){return this._totalBytesSentToday.get()},getTotalBytesReceivedThisMonth:function(){return this._totalBytesReceivedThisMonth.get()},
getTotalBytesSentThisMonth:function(){return this._totalBytesSentThisMonth.get()},getTotalBytesReceivedThisYear:function(){return this._totalBytesReceivedThisYear.get()},getTotalBytesSentThisYear:function(){return this._totalBytesSentThisYear.get()},getIpAddress:function(){return this._ipAddress.get()},getCurrentIncomingSpeed:function(){return this._currentIncomingSpeed.get()},getMaxIncomingSpeed:function(){return this._maxIncomingSpeed.get()},getCurrentOutgoingSpeed:function(){return this._currentOutgoingSpeed.get()},
getMaxOutgoingSpeed:function(){return this._maxOutgoingSpeed.get()},getConnectedTime:function(){return this._connectedTime.get()},watchConnectionMode:function(a){return this._connectionMode.valueChanged.add(a)},unwatchConnectionMode:function(a){return this._connectionMode.valueChanged.remove(a)},watchNetworkTechnology:function(a){return this._networkTechnology.valueChanged.add(a)},unwatchNetworkTechnology:function(a){return this._networkTechnology.valueChanged.remove(a)},watchConnectionModePreference:function(a){return this._connectionModePreference.valueChanged.add(a)},
unwatchConnectionModePreference:function(a){return this._connectionModePreference.valueChanged.remove(a)},watchRegistrationStatus:function(a){return this._registrationStatus.valueChanged.add(a)},unwatchRegistrationStatus:function(a){return this._registrationStatus.valueChanged.remove(a)},watchPasswordProtectionMode:function(a){return this._passwordProtectionMode.valueChanged.add(a)},unwatchPasswordProtectionMode:function(a){return this._passwordProtectionMode.valueChanged.remove(a)},watchCardUnlockTriesRemained:function(a){return this._cardUnlockTriesRemained.valueChanged.add(a)},
unwatchCardUnlockTriesRemained:function(a){return this._cardUnlockTriesRemained.valueChanged.remove(a)},watchPinTriesRemained:function(a){return this._pinTriesRemained.valueChanged.add(a)},unwatchPinTriesRemained:function(a){return this._pinTriesRemained.valueChanged.remove(a)},watchPukTriesRemained:function(a){return this._pukTriesRemained.valueChanged.add(a)},unwatchPukTriesRemained:function(a){return this._pukTriesRemained.valueChanged.remove(a)},watchAutoNetworkSelection:function(a){return this._isAutoNetworkSelection.valueChanged.add(a)},
unwatchAutoNetworkSelection:function(a){return this._isAutoNetworkSelection.valueChanged.remove(a)},watchNetworkName:function(a){return this._networkName.valueChanged.add(a)},unwatchNetworkName:function(a){return this._networkName.valueChanged.remove(a)},watchNetworkId:function(a){return this._networkId.valueChanged.add(a)},unwatchNetworkId:function(a){return this._networkId.valueChanged.remove(a)},watchBaseStationId:function(a){return this._baseStationId.valueChanged.add(a)},unwatchBaseStationId:function(a){return this._baseStationId.valueChanged.remove(a)},
watchCenterFrequency:function(a){return this._centerFrequency.valueChanged.add(a)},unwatchCenterFrequency:function(a){return this._centerFrequency.valueChanged.remove(a)},watchSignalQuality:function(a){return this._signalQuality.valueChanged.add(a)},unwatchSignalQuality:function(a){return this._signalQuality.valueChanged.remove(a)},watchSignalStrength:function(a){return this._signalStrength.valueChanged.add(a)},unwatchSignalStrength:function(a){return this._signalStrength.valueChanged.remove(a)},
watchReferenceSignalQuality:function(a){return this._referenceSignalQuality.valueChanged.add(a)},unwatchReferenceSignalQuality:function(a){return this._referenceSignalQuality.valueChanged.remove(a)},watchReferenceSignalStrength:function(a){return this._referenceSignalStrength.valueChanged.add(a)},unwatchReferenceSignalStrength:function(a){return this._referenceSignalStrength.valueChanged.remove(a)},watchSignalLevel:function(a){return this._signalLevel.valueChanged.add(a)},unwatchSignalLevel:function(a){return this._signalLevel.valueChanged.remove(a)},
watchSignalQualityPercent:function(a){return this._signalQualityPercent.valueChanged.add(a)},unwatchSignalQualityPercent:function(a){return this._signalQualityPercent.valueChanged.remove(a)},watchTransmitPower:function(a){return this._transmitPower.valueChanged.add(a)},unwatchTransmitPower:function(a){return this._transmitPower.valueChanged.remove(a)},watchTotalBytesReceived:function(a){return this._totalBytesReceived.valueChanged.add(a)},unwatchTotalBytesReceived:function(a){return this._totalBytesReceived.valueChanged.remove(a)},
watchTotalBytesSent:function(a){return this._totalBytesSent.valueChanged.add(a)},unwatchTotalBytesSent:function(a){return this._totalBytesSent.valueChanged.remove(a)},watchTotalBytesReceivedToday:function(a){return this._totalBytesReceivedToday.valueChanged.add(a)},unwatchTotalBytesReceivedToday:function(a){return this._totalBytesReceivedToday.valueChanged.remove(a)},watchTotalBytesSentToday:function(a){return this._totalBytesSentToday.valueChanged.add(a)},unwatchTotalBytesSentToday:function(a){return this._totalBytesSentToday.valueChanged.remove(a)},
watchTotalBytesReceivedThisMonth:function(a){return this._totalBytesReceivedThisMonth.valueChanged.add(a)},unwatchTotalBytesReceivedThisMonth:function(a){return this._totalBytesReceivedThisMonth.valueChanged.remove(a)},watchTotalBytesSentThisMonth:function(a){return this._totalBytesSentThisMonth.valueChanged.add(a)},unwatchTotalBytesSentThisMonth:function(a){return this._totalBytesSentThisMonth.valueChanged.remove(a)},watchTotalBytesReceivedThisYear:function(a){return this._totalBytesReceivedThisYear.valueChanged.add(a)},
unwatchTotalBytesReceivedThisYear:function(a){return this._totalBytesReceivedThisYear.valueChanged.remove(a)},watchTotalBytesSentThisYear:function(a){return this._totalBytesSentThisYear.valueChanged.add(a)},unwatchTotalBytesSentThisYear:function(a){return this._totalBytesSentThisYear.valueChanged.remove(a)},watchIpAddress:function(a){return this._ipAddress.valueChanged.add(a)},unwatchIpAddress:function(a){return this._ipAddress.valueChanged.remove(a)},watchCurrentIncomingSpeed:function(a){return this._currentIncomingSpeed.valueChanged.add(a)},
unwatchCurrentIncomingSpeed:function(a){return this._currentIncomingSpeed.valueChanged.remove(a)},watchMaxIncomingSpeed:function(a){return this._maxIncomingSpeed.valueChanged.add(a)},unwatchMaxIncomingSpeed:function(a){return this._maxIncomingSpeed.valueChanged.remove(a)},watchCurrentOutgoingSpeed:function(a){return this._currentOutgoingSpeed.valueChanged.add(a)},unwatchCurrentOutgoingSpeed:function(a){return this._currentOutgoingSpeed.valueChanged.remove(a)},watchMaxOutgoingSpeed:function(a){return this._maxOutgoingSpeed.valueChanged.add(a)},
unwatchMaxOutgoingSpeed:function(a){return this._maxOutgoingSpeed.valueChanged.remove(a)},watchConnectedTime:function(a){return this._connectedTime.valueChanged.add(a)},unwatchConnectedTime:function(a){return this._connectedTime.valueChanged.remove(a)}})})})();
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{Device:$.Class.extend({init:function(a,c){var d=b.ConnectionMode,h=b.DeviceGroup,g=b.DeviceInfo,f=b.NetworkStatistics,e=b.NetworkTechnology,m=signals.Signal;this.enterPasswordSucceeded=new m;this.enterPasswordFailed=new m;this.resetPasswordSucceeded=new m;this.resetPasswordFailed=new m;this.changePasswordSucceeded=new m;this.changePasswordFailed=new m;this.enablePasswordSucceeded=new m;this.enablePasswordFailed=new m;this.disablePasswordSucceeded=
new m;this.disablePasswordFailed=new m;this.enterCardUnlockCodeSucceeded=new m;this.enterCardUnlockCodeFailed=new m;this.networkSelectionSucceeded=new m;this.networkSelectionFailed=new m;this.networkListRetrievalSucceeded=new m;this.networkListRetrievalFailed=new m;this._deviceGroup=a;this._proxy=c;this._deviceInfo=new g;this._networkStatistics=new f;switch(a){case h.wifi:this._deviceInfo._supportedNetworkTechnologies.set(e.wifi);this._networkStatistics._connectionMode.set(d.wifi);this._networkStatistics._networkTechnology.set(e.wifi);
break;case h.fixed:this._deviceInfo._supportedNetworkTechnologies.set(e.ethernet),this._networkStatistics._connectionMode.set(d.ethernet),this._networkStatistics._networkTechnology.set(e.ethernet)}},getDeviceInfo:function(){return this._deviceInfo},getNetworkStatistics:function(){return this._networkStatistics},getLocalUsage:function(a,b,d){this._proxy.getLocalUsage(this._deviceGroup,a,b,d)},getLocalUsages:function(a,b){this._proxy.getLocalUsages(this._deviceGroup,a,b)},enterPassword:function(a,b){this._proxy.enterDevicePassword(this._deviceGroup,
a,b)},disablePassword:function(a,b){this._proxy.disableDevicePassword(this._deviceGroup,a,b)},enablePassword:function(a,b){this._proxy.enableDevicePassword(this._deviceGroup,a,b)},changePassword:function(a,b,d){this._proxy.changeDevicePassword(this._deviceGroup,a,b,d)},resetPassword:function(a,b,d){this._proxy.resetDevicePassword(this._deviceGroup,a,b,d)},enterCardUnlockCode:function(a,b){this._proxy.enterDeviceCardUnlockCode(this._deviceGroup,a,b)},turnOn:function(){this._proxy.turnOnDevice(this._deviceGroup)},
turnOff:function(){this._proxy.turnOffDevice(this._deviceGroup)},connect:function(){this._proxy.connectDevice(this._deviceGroup)},disconnect:function(){this._proxy.disconnectDevice(this._deviceGroup)},sendMessage:function(a){this._proxy.sendNetworkMessage(this._deviceGroup,a)}})})})();
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{MessageStore:$.Class.extend({init:function(a){var b=signals.Signal;this.messageAdded=new b;this.messageUpdated=new b;this.messageRemoved=new b;this._proxy=a},getMessages:function(){return this._proxy.getNetworkMessages()},addMessage:function(a){this._proxy.addNetworkMessage(a)},removeMessage:function(a){this._proxy.removeNetworkMessage(a)},updateMessage:function(a){this._proxy.updateNetworkMessage(a)},updateMessageUnread:function(a,
b){this._proxy.updateNetworkMessageUnread(a,b)}})})})();
(function(){function b(a,b){window.top.postMessage(JSON.stringify({id:a,data:b?b:{}}),"*")}function a(a,c){b(E+a,c)}function c(a){var b=null;try{b=JSON.parse(a.data)}catch(c){return}if(b&&b.id){if("undefined"!==typeof ApplicationTree&&b.id.length>z&&0==b.id.indexOf(E)){a=ApplicationTree.App.Actions;var e=b.id.substring(z);switch(e){case "TurnOnDevice":case "TurnOnWifiDevice":case "TurnOnFixedDevice":case "TurnOffDevice":case "TurnOffWifiDevice":case "TurnOffFixedDevice":case "StartConnecting":case "StartDisconnecting":a[e].unit.callback();break;
case "EnterDevicePassword":a[e].unit.callback(b.data.pin);break;case "DisableDevicePassword":a[e].unit.callback(b.data.currentPin);break;case "EnableDevicePassword":a[e].unit.callback(b.data.currentPin);break;case "ChangeDevicePassword":a[e].unit.callback(b.data.currentPin,b.data.newPin);break;case "ResetDevicePassword":a[e].unit.callback(b.data.puk,b.data.newPin);break;case "EnterDeviceCardUnlockCode":a[e].unit.callback(b.data.code);break;case "AddNetworkMessage":a[e].unit.callback(b.data.message);
break;case "RemoveNetworkMessage":a[e].unit.callback(b.data.messageId);break;case "SendNetworkMessage":a[e].unit.callback(b.data.message);break;case "UpdateNetworkMessage":a[e].unit.callback(b.data.message);break;case "UpdateNetworkMessageUnread":a[e].unit.callback(b.data.messageId,b.data.isUnread);break;case "AddChangeNetworkProfile":a[e].unit.callback(b.data.profile);break;case "RemoveNetworkProfile":a[e].unit.callback(b.data.profileId);break;case "ActivateNetworkProfile":a[e].unit.callback(b.data.profileId)}}if(b.id.length>
B&&0==b.id.indexOf(s))switch(b.id.substring(B)){case "ChangeDevicePasswordFailed":l.changePasswordFailed.dispatch();y.dispatch(!1);break;case "ChangeDevicePasswordSucceeded":l.changePasswordSucceeded.dispatch();y.dispatch(!0);break;case "EnableDevicePasswordFailed":l.enablePasswordFailed.dispatch();w.dispatch(!1);break;case "EnableDevicePasswordSucceeded":l.enablePasswordSucceeded.dispatch();w.dispatch(!0);break;case "EnterDeviceCardUnlockCodeFailed":l.enterCardUnlockCodeFailed.dispatch();O.dispatch(!1);
break;case "EnterDeviceCardUnlockCodeSucceeded":l.enterCardUnlockCodeSucceeded.dispatch();O.dispatch(!0);break;case "EnterDevicePasswordFailed":l.enterPasswordFailed.dispatch();N.dispatch(!1);break;case "EnterDevicePasswordSucceeded":l.enterPasswordSucceeded.dispatch();N.dispatch(!0);break;case "DisableDevicePasswordFailed":l.disablePasswordFailed.dispatch();v.dispatch(!1);break;case "DisableDevicePasswordSucceeded":l.disablePasswordSucceeded.dispatch();v.dispatch(!0);break;case "NetworkListRetrievalFailed":l.networkListRetrievalFailed.dispatch();
break;case "NetworkListRetrievalSucceeded":l.networkListRetrievalSucceeded.dispatch();break;case "NetworkMessageAdded":da.messageAdded.dispatch(b.data.message);break;case "NetworkMessageRemoved":da.messageRemoved.dispatch(b.data.messageId);break;case "NetworkMessageUpdated":da.messageUpdated.dispatch(b.data.message);break;case "NetworkSelectionFailed":l.networkSelectionFailed.dispatch();break;case "NetworkSelectionSucceeded":l.networkSelectionSucceeded.dispatch();break;case "ResetDevicePasswordFailed":l.resetPasswordFailed.dispatch();
M.dispatch(!1);break;case "ResetDevicePasswordSucceeded":l.resetPasswordSucceeded.dispatch(),M.dispatch(!0)}}}function d(a){if(a&&!(a.length<=F||0!=a.indexOf(D))){var b=null;switch(a.substring(F)){case "AppState":b=m._appState;break;case "MainState":b=m._mobileState;break;case "WifiState":b=m._wifiState;break;case "FixedState":b=m._fixedState;break;case "SupportedNetworkTechnologies":b=K._supportedNetworkTechnologies;break;case "DriverVersion":b=K._driverVersion;break;case "ModelName":b=K._modelName;
break;case "FirmwareVersion":b=K._firmwareVersion;break;case "WebGuiUrl":b=K._webGuiUrl;break;case "MacAddress":b=K._macAddress;break;case "Imei":b=K._imei;break;case "Iccid":b=K._iccid;break;case "Imsi":b=K._imsi;break;case "PhoneNumber":b=K._phoneNumber;break;case "TotalBytesReceived":b=I._totalBytesReceived;break;case "TotalBytesSent":b=I._totalBytesSent;break;case "TotalBytesReceivedToday":b=I._totalBytesReceivedToday;break;case "TotalBytesSentToday":b=I._totalBytesSentToday;break;case "TotalBytesReceivedThisMonth":b=
I._totalBytesReceivedThisMonth;break;case "TotalBytesSentThisMonth":b=I._totalBytesSentThisMonth;break;case "TotalBytesReceivedThisYear":b=I._totalBytesReceivedThisYear;break;case "TotalBytesSentThisYear":b=I._totalBytesSentThisYear;break;case "CurrentIncomingSpeed":b=I._currentIncomingSpeed;break;case "MaxIncomingSpeed":b=I._maxIncomingSpeed;break;case "CurrentOutgoingSpeed":b=I._currentOutgoingSpeed;break;case "MaxOutgoingSpeed":b=I._maxOutgoingSpeed;break;case "BaseStationId":b=I._baseStationId;
break;case "CenterFrequency":b=I._centerFrequency;break;case "SignalQuality":b=I._signalQuality;break;case "SignalStrength":b=I._signalStrength;break;case "ReferenceSignalQuality":b=I._referenceSignalQuality;break;case "ReferenceSignalStrength":b=I._referenceSignalStrength;break;case "SignalLevel":b=I._signalLevel;break;case "SignalQualityPercent":b=I._signalQualityPercent;break;case "TransmitPower":b=I._transmitPower;break;case "IpAddress":b=I._ipAddress;break;case "ConnectionMode":b=I._connectionMode;
break;case "NetworkTechnology":b=I._networkTechnology;break;case "ConnectionModePreference":b=I._connectionModePreference;break;case "RegistrationStatus":b=I._registrationStatus;break;case "PasswordProtectionMode":b=I._passwordProtectionMode;break;case "CardUnlockTriesRemained":b=I._cardUnlockTriesRemained;break;case "PinTriesRemained":b=I._pinTriesRemained;break;case "PukTriesRemained":b=I._pukTriesRemained;break;case "NetworkName":b=I._networkName;break;case "NetworkId":b=I._networkId;break;case "IsAutoNetworkSelection":b=
I._isAutoNetworkSelection;break;case "ConnectedTime":b=I._connectedTime;break;case "WifiDriverVersion":b=W._driverVersion;break;case "WifiModelName":b=W._modelName;break;case "WifiFirmwareVersion":b=W._firmwareVersion;break;case "WifiMacAddress":b=W._macAddress;break;case "WifiTotalBytesReceived":b=L._totalBytesReceived;break;case "WifiTotalBytesSent":b=L._totalBytesSent;break;case "WifiTotalBytesReceivedToday":b=L._totalBytesReceivedToday;break;case "WifiTotalBytesSentToday":b=L._totalBytesSentToday;
break;case "WifiTotalBytesReceivedThisMonth":b=L._totalBytesReceivedThisMonth;break;case "WifiTotalBytesSentThisMonth":b=L._totalBytesSentThisMonth;break;case "WifiTotalBytesReceivedThisYear":b=L._totalBytesReceivedThisYear;break;case "WifiTotalBytesSentThisYear":b=L._totalBytesSentThisYear;break;case "WifiCurrentIncomingSpeed":b=L._currentIncomingSpeed;break;case "WifiMaxIncomingSpeed":b=L._maxIncomingSpeed;break;case "WifiCurrentOutgoingSpeed":b=L._currentOutgoingSpeed;break;case "WifiMaxOutgoingSpeed":b=
L._maxOutgoingSpeed;break;case "WifiBaseStationId":b=L._baseStationId;break;case "WifiSignalStrength":b=L._signalStrength;break;case "WifiSignalQualityPercent":b=L._signalQualityPercent;break;case "WifiIpAddress":b=L._ipAddress;break;case "WifiNetworkName":b=L._networkName;break;case "FixedDriverVersion":b=ba._driverVersion;break;case "FixedModelName":b=ba._modelName;break;case "FixedFirmwareVersion":b=ba._firmwareVersion;break;case "FixedAvailableAdapters":b=ba._availableAdapters;break;case "FixedCurrentAdapterId":b=
ba._currentAdapterId;break;case "IsFixedAdapterAutoSelected":b=ba._isAdapterAutoSelected;break;case "FixedMacAddress":b=ba._macAddress;break;case "FixedTotalBytesReceived":b=P._totalBytesReceived;break;case "FixedTotalBytesSent":b=P._totalBytesSent;break;case "FixedTotalBytesReceivedToday":b=P._totalBytesReceivedToday;break;case "FixedTotalBytesSentToday":b=P._totalBytesSentToday;break;case "FixedTotalBytesReceivedThisMonth":b=P._totalBytesReceivedThisMonth;break;case "FixedTotalBytesSentThisMonth":b=
P._totalBytesSentThisMonth;break;case "FixedTotalBytesReceivedThisYear":b=P._totalBytesReceivedThisYear;break;case "FixedTotalBytesSentThisYear":b=P._totalBytesSentThisYear;break;case "FixedCurrentIncomingSpeed":b=P._currentIncomingSpeed;break;case "FixedMaxIncomingSpeed":b=P._maxIncomingSpeed;break;case "FixedCurrentOutgoingSpeed":b=P._currentOutgoingSpeed;break;case "FixedMaxOutgoingSpeed":b=P._maxOutgoingSpeed;break;case "FixedIpAddress":b=P._ipAddress}null!==b&&(a=G.getDataSet(a),null===a?b.reset():
b.set(a))}}function h(a){a.key&&0==a.key.indexOf("com.roox.cm.Common.")&&d(a.key)}function g(){m._isOnline.set(m.getAppState()==n.normal&&(m.getMobileState()==t.connected||m.getWifiState()==C.connected||m.getFixedState()==q.connected))}function f(){m._isRoaming.set(I.getRegistrationStatus()==x.registeredRoaming)}var e=$.namespace("com.rooxteam.network.proxy"),m=com.rooxteam.network,n=m.AppState,p=m.DeviceGroup,q=m.FixedState,t=m.MobileState,r=signals.Signal,C=m.WifiState,x=m.RegistrationStatus,s=
"com.roox.cm.Common.App.Events.",B=s.length,D="com.roox.cm.Common.App.Properties.unit.",F=D.length,E="com.roox.cm.Common.App.",z=E.length,N,M,y,w,v,O,G,l,K,I,J,W,L,R,ba,P,da;$.extend(e,{Cm:$.Class.extend({init:function(){N=new r;M=new r;y=new r;w=new r;v=new r;O=new r;G=com.rooxteam.sharedcontext.getDataContext()},initProxy:function(){l=m.getMobileDevice();K=l.getDeviceInfo();I=l.getNetworkStatistics();J=m.getWifiDevice();W=J.getDeviceInfo();L=J.getNetworkStatistics();R=m.getFixedDevice();ba=R.getDeviceInfo();
P=R.getNetworkStatistics();da=m.getMessageStore();gadgets.util.attachBrowserEvent(window,"message",c,!1);gadgets.util.attachBrowserEvent(window,"storage",h,!1);m.watchAppState(g);m.watchMobileState(g);m.watchWifiState(g);m.watchFixedState(g);I.watchRegistrationStatus(f);if("undefined"!==typeof ApplicationTree){var a=ApplicationTree.App.Events,e=ApplicationTree.App.Properties.Events,w=function(c){a[c].addChildUnit("RooxWidgets",{callback:function(){b(s+c,void 0)}})},y=function(c,e){a[c].addChildUnit("RooxWidgets",
{callback:function(a){var f={};f[e]=a;b(s+c,f)}})};w("ChangeDevicePasswordFailed");w("ChangeDevicePasswordSucceeded");w("EnableDevicePasswordFailed");w("EnableDevicePasswordSucceeded");w("EnterDeviceCardUnlockCodeFailed");w("EnterDeviceCardUnlockCodeSucceeded");w("EnterDevicePasswordFailed");w("EnterDevicePasswordSucceeded");w("DisableDevicePasswordFailed");w("DisableDevicePasswordSucceeded");w("NetworkListRetrievalFailed");w("NetworkListRetrievalSucceeded");y("NetworkMessageAdded","message");y("NetworkMessageRemoved",
"messageId");y("NetworkMessageUpdated","message");w("NetworkSelectionFailed");w("NetworkSelectionSucceeded");w("ResetDevicePasswordFailed");w("ResetDevicePasswordSucceeded");e.PropertyChanged.addChildUnit("RooxWidgets",{propertyName:"",callback:function(a,b){G.putDataSet(D+a,b)}})}var e=G.getDataKeys(),v;for(v in e)d(e[v])},dispose:function(){m.unwatchAppState(g);m.unwatchMobileState(g);m.unwatchWifiState(g);m.unwatchFixedState(g);I.unwatchRegistrationStatus(f)},getLocalUsage:function(a,b,c,e){e&&
e({bytesReceived:0,bytesSent:0})},getLocalUsages:function(a,b,c){c&&c([])},enterDevicePassword:function(b,c,e){b==p.mobile&&(e&&N.addOnce(function(a){e(a)}),a("EnterDevicePassword",{pin:c}))},disableDevicePassword:function(b,c,e){b==p.mobile&&(e&&v.addOnce(function(a){e(a)}),a("DisableDevicePassword",{currentPin:c}))},enableDevicePassword:function(b,c,e){b==p.mobile&&(e&&w.addOnce(function(a){e(a)}),a("EnableDevicePassword",{currentPin:c}))},changeDevicePassword:function(b,c,e,f){b==p.mobile&&(f&&
y.addOnce(function(a){f(a)}),a("ChangeDevicePassword",{currentPin:c,newPin:e}))},resetDevicePassword:function(b,c,e,f){b==p.mobile&&(f&&M.addOnce(function(a){f(a)}),a("ResetDevicePassword",{puk:c,newPin:e}))},enterDeviceCardUnlockCode:function(b,c,e){b==p.mobile&&(e&&O.addOnce(function(a){e(a)}),a("EnterDeviceCardUnlockCode",{code:c}))},turnOnDevice:function(b){switch(b){case p.mobile:a("TurnOnDevice");break;case p.wifi:a("TurnOnWifiDevice");break;case p.fixed:a("TurnOnFixedDevice")}},turnOffDevice:function(b){switch(b){case p.mobile:a("TurnOffDevice");
break;case p.wifi:a("TurnOffWifiDevice");break;case p.fixed:a("TurnOffFixedDevice")}},connectDevice:function(b){b==p.mobile&&a("StartConnecting")},disconnectDevice:function(b){b==p.mobile&&a("StartDisconnecting")},sendNetworkMessage:function(b,c){b==p.mobile&&a("SendNetworkMessage",{message:c})},getNetworkMessages:function(){var a=G.getDataSet(D+"NetworkMessages");if(!a)return[];for(var b in a)a.hasOwnProperty(b)&&a[b].timeStamp&&(a[b].timeStamp=new Date(Date.parse(a[b].timeStamp)));return a},addNetworkMessage:function(b){a("AddNetworkMessage",
{message:b})},removeNetworkMessage:function(b){a("RemoveNetworkMessage",{messageId:b})},updateNetworkMessage:function(b){a("UpdateNetworkMessage",{message:b})},updateNetworkMessageUnread:function(b,c){a("UpdateNetworkMessageUnread",{messageId:b,isUnread:c})},addChangeNetworkProfile:function(b){a("AddChangeNetworkProfile",{profile:b})},removeNetworkProfile:function(b){a("RemoveNetworkProfile",{profileId:b})},activateNetworkProfile:function(b){a("ActivateNetworkProfile",{profileId:b})}})})})();
(function(){function b(a){console&&console.info("MBN: "+a.toString())}function a(a,b){var c=A.deviceNotReady;b&&(c=b.networkDeviceStatus);c==A.deviceNotReady&&a&&(c=a.networkDeviceStatus);switch(c){case A.deviceNotReady:return L.deviceAbsent;case A.deviceReady:if(b&&b.currentRadioState==U.off)return L.softwareOff;if(a){switch(a.networkActivationState){case T.activated:return a.ipAddress?L.connected:L.obtainingIp;case T.activating:return L.connecting;case T.deactivating:return L.disconnecting}if(b&&
b.registeredProviderId||a&&a.registeredProviderId)return L.readyToConnect}return L.scanning;case A.simNotInserted:return L.simAbsent;case A.badSim:return L.cardUnlockCodeRequired;case A.deviceHardwareFailure:return L.deviceAbsent;case A.accountNotActivated:return L.deviceAbsent;case A.deviceLocked:return L.passwordRequired;case A.deviceBlocked:return L.passwordResetRequired;default:return L.deviceAbsent}}function c(a,b){var c=R.none;if(0!=(a&aa.gprs)||0!=(a&aa.edge))c|=R.secondGen;if(0!=(a&aa.umts)||
0!=(a&aa.hsdpa)||0!=(a&aa.hsupa))c|=R.thirdGen;0!=(a&aa.lteAdvanced)&&(c|=R.lte);if(0!=(a&aa.custom)){var e=b.toUpperCase();"HSPA"==e||"HSPA+"==e||(c|=R.secondGen);c|=R.thirdGen;c|=R.lte}return c}function d(a){switch(a){case aa.none:return J.noService;case aa.gprs:return J.gprs;case aa.edge:return J.edge;case aa.umts:return J.umts;case aa.hsdpa:return J.hsdpa;case aa.hsupa:return J.hsupa;case aa.lteAdvanced:return J.lte;default:return J.unknown}}function h(a){switch(a){case J.unknown:case J.noService:case J.limitedService:return R.none;
case J.gsm:case J.gprs:case J.edge:return R.secondGen;case J.umts:case J.hsdpa:case J.hsupa:case J.hspa:case J.hspaPlus:return R.thirdGen;case J.lte:return R.lte;case J.wimax:return R.wimax;case J.cdma2000:return R.cdma2000;case J.wifi:return R.wifi;case J.ethernet:return R.ethernet;default:return R.none}}function g(a){switch(a){case fa.none:return P.notRegisteredNotSearching;case fa.deregistered:return P.notRegisteredNotSearching;case fa.searching:return P.notRegisteringSearching;case fa.home:return P.registeredHomeNetwork;
case fa.roaming:case fa.partner:return P.registeredRoaming;case fa.denied:return P.registrationDenied;default:return P.notRegisteredNotSearching}}function f(a){switch(0<=a?a:0){case 0:return da.level0;case 1:return da.level1;case 2:return da.level2;case 3:return da.level3;case 4:return da.level4}return da.level5}function e(){var b=H.getNetworkAdapterInfo(S),e=H.getNetworkAccountInfo(ca),l=a(b,e);v._mobileState.set(l);if(b){b.isPinSupported?(b.isPinEnabled?Q._passwordProtectionMode.set(ba.enabled):
Q._passwordProtectionMode.set(ba.disabled),Q._pinTriesRemained.set(b.pinTriesRemained),Q._pukTriesRemained.set(b.pukTriesRemained)):(Q._passwordProtectionMode.set(ba.notAvailable),Q._pinTriesRemained.reset(),Q._pukTriesRemained.reset());0<=b.barsCount?Q._signalLevel.set(f(b.barsCount)):Q._signalLevel.reset();var m=R.none,w="",y="",r="",q="",n="",p="",G=[];e?(m=c(e.dataClasses,e.customDataClass),w=e.manufacturer+" "+e.model,y=e.firmwareInformation,r=e.driverVersion,q=e.mobileEquipmentId,n=e.simIccId,
p=e.subscriberId,G=e.telephoneNumbers):(m=c(b.dataClasses,b.customDataClass),w=b.manufacturer+" "+b.model,y=b.firmwareInformation,r=b.driverVersion,q=b.mobileEquipmentId,n=b.simIccId,p=b.subscriberId,G=b.telephoneNumbers);Z._supportedNetworkTechnologies.set(m);Z._driverVersion.set(r);Z._modelName.set(w);Z._firmwareVersion.set(y);Z._imei.set(q);Z._iccid.set(n);Z._imsi.set(p);Z._phoneNumber.set(G&&0<G.length?G[0]:"");m="";w=J.noService;y=fa.none;r="";q=0;l!=L.deviceAbsent&&(l!=L.passwordRequired&&l!=
L.passwordResetRequired&&l!=L.cardUnlockCodeRequired&&l!=L.simAbsent)&&(e?(m=e.registeredProviderId?e.registeredProviderId+"00000000":"",w=d(e.registeredDataClass),y=g(e.networkRegistrationState),r=e.registeredProviderName,r||(r=e.serviceProviderName),r||(r=e.registeredProviderId),q=e.registeredProviderId):(m=b.registeredProviderId?b.registeredProviderId+"00000000":"",w=d(b.registeredDataClass),y=g(b.networkRegistrationState),r=b.registeredProviderName,r||(r=b.registeredProviderId),q=b.registeredProviderId));
Q._baseStationId.set(m);Q._connectionMode.set(w);Q._networkTechnology.set(h(w));Q._registrationStatus.set(y);Q._networkName.set(r);Q._networkId.set(q);b.ipAddress!=Q.getIpAddress()&&(b.ipAddress?Q._connectedTime.set(new Date):Q._connectedTime.reset(),Q._ipAddress.set(b.ipAddress))}}function m(a){b("_processAdapterAdded: "+a.networkAdapterId);if(S)S==a.networkAdapterId&&e();else{if(ca){var c=H.getNetworkAccountInfo(ca);if(!c||c.networkAdapterId!=a.networkAdapterId)return}S=a.networkAdapterId;e()}}
function n(a){b("_processAccountAdded: "+a.networkAccountId);if(ca)ca==a.networkAccountId&&e();else{var c=H.getNetworkAccountInfo(a.networkAccountId);c&&(S?c.networkAdapterId!=S&&(N(),S=c.networkAdapterId):S=c.networkAdapterId,ca=a.networkAccountId,e())}}function p(a){b("_processAdapterUpdated: "+a.networkAdapterId);S===a.networkAdapterId&&e()}function q(a){b("_processAccountUpdated: "+a.networkAccountId);if(ca===a.networkAccountId){if((a=H.getNetworkAccountInfo(ca))&&!S)S=a.networkAdapterId;e()}}
function t(a){b("_processAdapterRemoved: "+a.networkAdapterId);S===a.networkAdapterId&&(N(),0<H.availableNetworkAccountIds.size?n({networkAccountId:H.availableNetworkAccountIds[0]}):H&&0<H.availableNetworkAdapterIds.size&&m({networkAdapterId:H.availableNetworkAdapterIds[0]}))}function r(a){b("_processAccountRemoved: "+a.networkAccountId);ca===a.networkAccountId&&(N(),0<H.availableNetworkAccountIds.size?n({networkAccountId:H.availableNetworkAccountIds[0]}):H&&0<H.availableNetworkAdapterIds.size&&m({networkAdapterId:H.availableNetworkAdapterIds[0]}))}
function C(a){a.message&&a.message.data&&(b("_processMessageAdded: "+a.message.data.messageId),wa.messageAdded.dispatch(a.message.data))}function x(a){a.message&&a.message.data&&(b("_processMessageUpdated: "+a.message.data.messageId),wa.messageUpdated.dispatch(a.message.data))}function s(a){b("_processMessageRemoved: "+a.messageId);wa.messageRemoved.dispatch(a.messageId)}function B(a){_enterPasswordCompleted.dispatch(a.isOk)}function D(a){_disablePasswordCompleted.dispatch(a.isOk)}function F(a){_enablePasswordCompleted.dispatch(a.isOk)}
function E(a){_changePasswordCompleted.dispatch(a.isOk)}function z(a){_resetPasswordCompleted.dispatch(a.isOk)}function N(){S=ca=null;v._mobileState.reset();Z._supportedNetworkTechnologies.reset();Z._modelName.reset();Z._firmwareVersion.reset();Z._imei.reset();Z._iccid.reset();Z._imsi.reset();Z._phoneNumber.reset();Q._baseStationId.reset();Q._ipAddress.reset();Q._connectionMode.reset();Q._networkTechnology.reset();Q._registrationStatus.reset();Q._networkName.reset();Q._networkId.reset();Q._connectedTime.reset()}
function M(){var a=H.internetConnectionInfo;v._isOnline.set(a.networkConnectivityLevel==oa.internetAccess);v._isRoaming.set(a.isRoaming)}function y(a){var b=new V(a.kind),c;for(c in a)a.hasOwnProperty(c)&&(b.data[c]=a[c]);return b}var w=$.namespace("com.rooxteam.network.proxy");if(!("undefined"===typeof Windows||"undefined"===typeof Roox.DotNetWrapper.MbnApiProvider)){var v=com.rooxteam.network,O=Windows.Networking,G=O.NetworkOperators,l=Roox.DotNetWrapper,K=signals.Signal,I=v.AppState,J=v.ConnectionMode,
W=v.DeviceGroup,L=v.MobileState,R=v.NetworkTechnology,ba=v.PasswordProtectionMode,P=v.RegistrationStatus,da=v.SignalLevel,aa=G.DataClasses,U=G.MobileBroadbandRadioState,oa=O.Connectivity.NetworkConnectivityLevel,A=G.NetworkDeviceStatus,fa=G.NetworkRegistrationState,ma=Windows.UI.ApplicationSettings.SettingsPane,T=l.NetworkActivationState,ga=l.MbnApiProvider,V=l.Message,ha=l.MessageManager,X,Z,Q,sa,ja,wa,H,ea,ca=null,S=null;$.extend(w,{Mbn:$.Class.extend({init:function(){_enterPasswordCompleted=new K;
_resetPasswordCompleted=new K;_changePasswordCompleted=new K;_enablePasswordCompleted=new K;_disablePasswordCompleted=new K},initProxy:function(){X=v.getMobileDevice();Z=X.getDeviceInfo();Q=X.getNetworkStatistics();sa=v.getWifiDevice();sa.getDeviceInfo();sa.getNetworkStatistics();ja=v.getFixedDevice();ja.getDeviceInfo();ja.getNetworkStatistics();wa=v.getMessageStore();v._appState.set(I.normal);ea=ha.instance;ea.addEventListener("messageadded",C);ea.addEventListener("messageupdated",x);ea.addEventListener("messageremoved",
s);H=ga.instance;H.addEventListener("adapteradded",m);H.addEventListener("adapterupdated",p);H.addEventListener("adapterremoved",t);H.addEventListener("internetconnectionchanged",M);H.addEventListener("enterpasswordcompleted",B);H.addEventListener("disablepasswordcompleted",D);H.addEventListener("enablepasswordcompleted",F);H.addEventListener("changepasswordcompleted",E);H.addEventListener("resetpasswordcompleted",z);H.addEventListener("accountadded",n);H.addEventListener("accountupdated",q);H.addEventListener("accountremoved",
r);H.start();M();for(var a=H.availableNetworkAccountIds,b=0;b<a.size;b++)n({networkAccountId:a[b]});a=H.availableNetworkAdapterIds;for(b=0;b<a.size;b++)m({networkAdapterId:a[b]})},dispose:function(){H.stop();H.removeEventListener("adapteradded",m);H.removeEventListener("adapterupdated",p);H.removeEventListener("adapterremoved",t);H.removeEventListener("internetconnectionchanged",M);H.removeEventListener("enterpasswordcompleted",B);H.removeEventListener("disablepasswordcompleted",D);H.removeEventListener("enablepasswordcompleted",
F);H.removeEventListener("changepasswordcompleted",E);H.removeEventListener("resetpasswordcompleted",z);H.removeEventListener("accountadded",n);H.removeEventListener("accountupdated",q);H.removeEventListener("accountremoved",r);ea.removeEventListener("messageadded",C);ea.removeEventListener("messageupdated",x);ea.removeEventListener("messageremoved",s)},getLocalUsage:function(a,b,c,e){a==W.mobile&&H&&S?H.getLocalUsageAsync(S,b,c).done(function(a){e&&e(a)}):e&&e({bytesReceived:0,bytesSent:0})},getLocalUsages:function(a,
b,c){a==W.mobile&&H&&S&&b?H.getLocalUsagesAsync(S,b).done(function(a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(a[e]);c&&c(b)}):c&&c([])},enterDevicePassword:function(a,b,c){a==W.mobile&&(H&&S)&&(c&&_enterPasswordCompleted.addOnce(function(a){c(a)}),H.enterPassword(S,b))},disableDevicePassword:function(a,b,c){a==W.mobile&&(H&&S)&&(c&&_disablePasswordCompleted.addOnce(function(a){c(a)}),H.disablePassword(S,b))},enableDevicePassword:function(a,b,c){a==W.mobile&&(H&&S)&&(c&&_enablePasswordCompleted.addOnce(function(a){c(a)}),
H.enablePassword(S,b))},changeDevicePassword:function(a,b,c,e){a==W.mobile&&(H&&S)&&(e&&_changePasswordCompleted.addOnce(function(a){e(a)}),H.changePassword(S,b,c))},resetDevicePassword:function(a,b,c,e){a==W.mobile&&(H&&S)&&(e&&_resetPasswordCompleted.addOnce(function(a){e(a)}),H.resetPassword(S,b,c))},enterDeviceCardUnlockCode:function(a,b,c){},turnOnDevice:function(a){},turnOffDevice:function(a){},connectDevice:function(a){if(a==W.mobile&&H)if(ca)H.connect(ca);else try{ma.show()}catch(b){}},disconnectDevice:function(a){if(a==
W.mobile&&H)if(ca)H.disconnect(ca);else try{ma.show()}catch(b){}},sendNetworkMessage:function(a,b){a==W.mobile&&(H&&ca)&&H.sendMessage(ca,y(b))},getNetworkMessages:function(){var a=ea.getMessages(),b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c].data);return b},addNetworkMessage:function(a){ea.addMessage(y(a))},removeNetworkMessage:function(a){ea.removeMessage(a)},updateNetworkMessage:function(a){ea.updateMessage(y(a))},updateNetworkMessageUnread:function(a,b){ea.updateMessageUnread(a,b)},addChangeNetworkProfile:function(a){},
removeNetworkProfile:function(a){},activateNetworkProfile:function(a){}})})}})();
(function(){var b=$.namespace("com.rooxteam.network"),a=b.proxy,c=a.Cm,d=b.Device,h=b.DeviceGroup,g=b.FixedState,f=a.Mbn,e=b.MessageStore,a=b.MobileState,m=b.Property,n=b.WifiState,p,q,t,r,C;b._appState=new m(b.AppState.initializing);b._mobileState=new m(a.deviceAbsent);b._wifiState=new m(n.deviceAbsent);b._fixedState=new m(g.deviceAbsent);b._isOnline=new m(!1);b._isRoaming=new m(!1);$.extend(b,{init:function(){p="undefined"!==typeof f?new f:new c;q=new d(h.mobile,p);t=new d(h.wifi,p);r=new d(h.fixed,
p);C=new e(p);p.initProxy()},deinit:function(){p.dispose()},getAppState:function(){return b._appState.get()},getMobileState:function(){return b._mobileState.get()},getWifiState:function(){return b._wifiState.get()},getFixedState:function(){return b._fixedState.get()},isOnline:function(){return b._isOnline.get()},isRoaming:function(){return b._isRoaming.get()},watchAppState:function(a){return b._appState.valueChanged.add(a)},unwatchAppState:function(a){return b._appState.valueChanged.remove(a)},watchMobileState:function(a){return b._mobileState.valueChanged.add(a)},
unwatchMobileState:function(a){return b._mobileState.valueChanged.remove(a)},watchWifiState:function(a){return b._wifiState.valueChanged.add(a)},unwatchWifiState:function(a){return b._wifiState.valueChanged.remove(a)},watchFixedState:function(a){return b._fixedState.valueChanged.add(a)},unwatchFixedState:function(a){return b._fixedState.valueChanged.remove(a)},watchOnline:function(a){return b._isOnline.valueChanged.add(a)},unwatchOnline:function(a){return b._isOnline.valueChanged.remove(a)},watchRoaming:function(a){return b._isRoaming.valueChanged.add(a)},
unwatchRoaming:function(a){return b._isRoaming.valueChanged.remove(a)},getMobileDevice:function(){return q},getWifiDevice:function(){return t},getFixedDevice:function(){return r},getMessageStore:function(){return C},addChangeProfile:function(a){p.addChangeNetworkProfile(a)},removeProfile:function(a){p.removeNetworkProfile(a)},activateProfile:function(a){p.activateNetworkProfile(a)}})})();
(function(b){function a(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(a,b){return function(c){return n(a.call(this,c),b)}}function d(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function h(){}function g(a){D(a);e(this,a)}function f(a){a=C(a);var b=a.year||0,c=a.month||0,e=a.week||0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||
0)+36E5*(a.hour||0);this._days=+f+7*e;this._months=+c+12*b;this._data={};this._bubble()}function e(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);b.hasOwnProperty("toString")&&(a.toString=b.toString);b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf);return a}function m(a){return 0>a?Math.ceil(a):Math.floor(a)}function n(a,b,c){for(var e=""+Math.abs(a);e.length<b;)e="0"+e;return(0<=a?c?"+":"":"-")+e}function p(a,b,c,e){var f=b._milliseconds,l=b._days;b=b._months;var d,g;f&&a._d.setTime(+a._d+
f*c);if(l||b)d=a.minute(),g=a.hour();l&&a.date(a.date()+l*c);b&&a.month(a.month()+b*c);f&&!e&&A.updateOffset(a);if(l||b)a.minute(d),a.hour(g)}function q(a){return"[object Array]"===Object.prototype.toString.call(a)}function t(a,b,c){var e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),l=0,d;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&s(a[d])!==s(b[d]))&&l++;return l+f}function r(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=gb[a]||hb[b]||b}return a}function C(a){var b={},c,e;for(e in a)a.hasOwnProperty(e)&&
(c=r(e))&&(b[c]=a[e]);return b}function x(a){var c,e;if(0===a.indexOf("week"))c=7,e="day";else if(0===a.indexOf("month"))c=12,e="month";else return;A[a]=function(f,l){var d,g,h=A.fn._lang[a],m=[];"number"===typeof f&&(l=f,f=b);g=function(a){a=A().utc().set(e,a);return h.call(A.fn._lang,a,f||"")};if(null!=l)return g(l);for(d=0;d<c;d++)m.push(g(d));return m}}function s(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function B(a){return 0===a%4&&0!==a%100||0===a%400}
function D(a){var b;if(a._a&&-2===a._pf.overflow){b=0>a._a[V]||11<a._a[V]?V:1>a._a[ha]||a._a[ha]>(new Date(Date.UTC(a._a[ga],a._a[V]+1,0))).getUTCDate()?ha:0>a._a[X]||23<a._a[X]?X:0>a._a[Z]||59<a._a[Z]?Z:0>a._a[Q]||59<a._a[Q]?Q:0>a._a[sa]||999<a._a[sa]?sa:-1;if(a._pf._overflowDayOfYear&&(b<ga||b>ha))b=ha;a._pf.overflow=b}}function F(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,
a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length));return a._isValid}function E(a){return a?a.toLowerCase().replace("_","-"):a}function z(a,b){return b._isUTC?A(a).zone(b._offset||0):A(a).local()}function N(a){var b=0,c,e,f,l,d=function(a){if(!ja[a]&&H)try{require("./lang/"+a)}catch(b){}return ja[a]};if(!a)return A.fn._lang;if(!q(a)){if(e=d(a))return e;a=[a]}for(;b<a.length;){l=E(a[b]).split("-");c=l.length;for(f=(f=E(a[b+1]))?f.split("-"):null;0<c;){if(e=
d(l.slice(0,c).join("-")))return e;if(f&&f.length>=c&&t(l,f,!0)>=c-1)break;c--}b++}return A.fn._lang}function M(a){var b=a.match(ka),c,e;c=0;for(e=b.length;c<e;c++)b[c]=pa[b[c]]?pa[b[c]]:b[c].match(/\[[\s\S]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(f){var l="";for(c=0;c<e;c++)l+=b[c]instanceof Function?b[c].call(f,a):b[c];return l}}function y(a,b){if(!a.isValid())return a.lang().invalidDate();b=w(b,a.lang());ra[b]||(ra[b]=M(b));return ra[b](a)}function w(a,b){function c(a){return b.longDateFormat(a)||
a}var e=5;for(Da.lastIndex=0;0<=e&&Da.test(a);)a=a.replace(Da,c),Da.lastIndex=0,e-=1;return a}function v(a,b){var c=b._strict;switch(a){case "DDDD":return Ja;case "YYYY":case "GGGG":case "gggg":return c?eb:Ga;case "Y":case "G":case "g":return Ka;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?ia:Ta;case "S":if(c)return Va;case "SS":if(c)return Ia;case "SSS":if(c)return Ja;case "DDD":return ab;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return bb;case "a":case "A":return N(b._l)._meridiemParse;
case "X":return db;case "Z":case "ZZ":return Ha;case "T":return cb;case "SSSS":return Ua;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?Ia:Fa;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return Fa;default:var c=RegExp,e;e=I(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26");return new c(e)}}function O(a){a=(a||"").match(Ha)||[];a=((a[a.length-1]||[])+"").match(fb)||
["-",0,0];var b=+(60*a[1])+s(a[2]);return"+"===a[0]?-b:b}function G(a){var b,c=[],e,f,d,g,h;if(!a._d){e=l(a);a._w&&(null==a._a[ha]&&null==a._a[V])&&(b=function(b){var c=parseInt(b,10);return b?3>b.length?68<c?1900+c:2E3+c:c:null==a._a[ga]?A().weekYear():a._a[ga]},f=a._w,null!=f.GG||null!=f.W||null!=f.E?b=P(b(f.GG),f.W||1,f.E,4,1):(d=N(a._l),g=null!=f.d?L(f.d,d):null!=f.e?parseInt(f.e,10)+d._week.dow:0,h=parseInt(f.w,10)||1,null!=f.d&&g<d._week.dow&&h++,b=P(b(f.gg),h,g,d._week.doy,d._week.dow)),a._a[ga]=
b.year,a._dayOfYear=b.dayOfYear);if(a._dayOfYear){b=null==a._a[ga]?e[ga]:a._a[ga];if(a._dayOfYear>(B(b)?366:365))a._pf._overflowDayOfYear=!0;b=W(b,0,a._dayOfYear);a._a[V]=b.getUTCMonth();a._a[ha]=b.getUTCDate()}for(b=0;3>b&&null==a._a[b];++b)a._a[b]=c[b]=e[b];for(;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[X]+=s((a._tzm||0)/60);c[Z]+=s((a._tzm||0)%60);a._d=(a._useUTC?W:J).apply(null,c)}}function l(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),
b.getMonth(),b.getDate()]}function K(a){a._a=[];a._pf.empty=!0;var b=N(a._l),c=""+a._i,e,f,l,d,g=c.length,h=0;f=w(a._f,b).match(ka)||[];for(b=0;b<f.length;b++){l=f[b];if(e=(c.match(v(l,a))||[])[0])d=c.substr(0,c.indexOf(e)),0<d.length&&a._pf.unusedInput.push(d),c=c.slice(c.indexOf(e)+e.length),h+=e.length;if(pa[l]){e?a._pf.empty=!1:a._pf.unusedTokens.push(l);d=a;var m=void 0,y=d._a;switch(l){case "M":case "MM":null!=e&&(y[V]=s(e)-1);break;case "MMM":case "MMMM":m=N(d._l).monthsParse(e);null!=m?y[V]=
m:d._pf.invalidMonth=e;break;case "D":case "DD":null!=e&&(y[ha]=s(e));break;case "DDD":case "DDDD":null!=e&&(d._dayOfYear=s(e));break;case "YY":y[ga]=s(e)+(68<s(e)?1900:2E3);break;case "YYYY":case "YYYYY":case "YYYYYY":y[ga]=s(e);break;case "a":case "A":d._isPm=N(d._l).isPM(e);break;case "H":case "HH":case "h":case "hh":y[X]=s(e);break;case "m":case "mm":y[Z]=s(e);break;case "s":case "ss":y[Q]=s(e);break;case "S":case "SS":case "SSS":case "SSSS":y[sa]=s(1E3*("0."+e));break;case "X":d._d=new Date(1E3*
parseFloat(e));break;case "Z":case "ZZ":d._useUTC=!0;d._tzm=O(e);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":l=l.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":l=l.substr(0,2),e&&(d._w=d._w||{},d._w[l]=e)}}else a._strict&&!e&&a._pf.unusedTokens.push(l)}a._pf.charsLeftOver=g-h;0<c.length&&a._pf.unusedInput.push(c);a._isPm&&12>a._a[X]&&(a._a[X]+=12);!1===a._isPm&&12===a._a[X]&&(a._a[X]=0);G(a);D(a)}function I(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
function(a,b,c,e,f){return b||c||e||f})}function J(a,b,c,e,f,l,d){b=new Date(a,b,c,e,f,l,d);1970>a&&b.setFullYear(a);return b}function W(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function L(a,b){if("string"===typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!==typeof a)return null}else a=parseInt(a,10);return a}function R(a,b,c,e,f){return f.relativeTime(b||1,!!c,a,e)}function ba(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=A(a).add("d",c);
return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function P(a,b,c,e,f){var l=W(a,0,1).getUTCDay();b=7*(b-1)+((null!=c?c:f)-f)+(f-l+(l>e?7:0)-(l<f?7:0))+1;return{year:0<b?a:a-1,dayOfYear:0<b?b:(B(a-1)?366:365)+b}}function da(c){var f=c._i,l=c._f;if(null===f)return A.invalid({nullInput:!0});"string"===typeof f&&(c._i=f=N().preparse(f));if(A.isMoment(f)){c=f;var d={},h;for(h in c)c.hasOwnProperty(h)&&wa.hasOwnProperty(h)&&(d[h]=c[h]);c=d;c._d=new Date(+f._d)}else if(l)if(q(l)){var f=c,m,w;if(0===
f._f.length)f._pf.invalidFormat=!0,f._d=new Date(NaN);else{for(h=0;h<f._f.length;h++)if(l=0,d=e({},f),d._pf=a(),d._f=f._f[h],K(d),F(d)&&(l+=d._pf.charsLeftOver,l+=10*d._pf.unusedTokens.length,d._pf.score=l,null==w||l<w))w=l,m=d;e(f,m||d)}}else K(c);else if(d=c,m=d._i,w=ea.exec(m),m===b)d._d=new Date;else if(w)d._d=new Date(+w[1]);else if("string"===typeof m)if(f=d._i,h=La.exec(f)){d._pf.iso=!0;m=0;for(w=Ma.length;m<w;m++)if(Ma[m][1].exec(f)){d._f=Ma[m][0]+(h[6]||" ");break}m=0;for(w=Na.length;m<w;m++)if(Na[m][1].exec(f)){d._f+=
Na[m][0];break}f.match(Ha)&&(d._f+="Z");K(d)}else d._d=new Date(f);else q(m)?(d._a=m.slice(0),G(d)):"[object Date]"===Object.prototype.toString.call(m)||m instanceof Date?d._d=new Date(+m):"object"===typeof m?d._d||(m=C(d._i),d._a=[m.year,m.month,m.day,m.hour,m.minute,m.second,m.millisecond],G(d)):d._d=new Date(m);return new g(c)}function aa(a,b){A.fn[a]=A.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),A.updateOffset(this),this):this._d["get"+c+b]()}}function U(a){A.duration.fn[a]=
function(){return this._data[a]}}function oa(a,b){A.duration.fn["as"+a]=function(){return+this/b}}for(var A,fa=this,ma=Math.round,T,ga=0,V=1,ha=2,X=3,Z=4,Q=5,sa=6,ja={},wa={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},H="undefined"!==typeof module&&module.exports&&"undefined"!==typeof require,ea=/^\/?Date\((\-?\d+)/i,ca=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,S=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,
ka=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Da=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Fa=/\d\d?/,ab=/\d{1,3}/,Ga=/\d{1,4}/,Ta=/[+\-]?\d{1,6}/,Ua=/\d+/,bb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ha=/Z|[\+\-]\d\d:?\d\d/gi,cb=/T/i,db=/[\+\-]?\d+(\.\d{1,3})?/,Va=/\d/,Ia=/\d\d/,Ja=/\d{3}/,eb=/\d{4}/,ia=/[+-]?\d{6}/,
Ka=/[+-]?\d+/,La=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ma=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Na=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],fb=/([\+\-]|\d\d)/gi,ya=["Date","Hours",
"Minutes","Seconds","Milliseconds"],Oa={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},gb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},hb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ra={},ua="DDD w W M D d".split(" "),Pa="MDHhmswW".split(""),pa={M:function(){return this.month()+
1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return n(this.year()%100,2)},YYYY:function(){return n(this.year(),
4)},YYYYY:function(){return n(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+n(Math.abs(a),6)},gg:function(){return n(this.weekYear()%100,2)},gggg:function(){return n(this.weekYear(),4)},ggggg:function(){return n(this.weekYear(),5)},GG:function(){return n(this.isoWeekYear()%100,2)},GGGG:function(){return n(this.isoWeekYear(),4)},GGGGG:function(){return n(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),
this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return s(this.milliseconds()/100)},SS:function(){return n(s(this.milliseconds()/10),2)},SSS:function(){return n(this.milliseconds(),3)},SSSS:function(){return n(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+
n(s(a/60),2)+":"+n(s(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+n(s(a/60),2)+n(s(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Wa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ua.length;)T=ua.pop(),pa[T+"o"]=d(pa[T],T);for(;Pa.length;)T=Pa.pop(),pa[T+T]=c(pa[T],2);pa.DDDD=c(pa.DDD,3);e(h.prototype,{set:function(a){var b,c;for(c in a)b=a[c],
"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=A.utc([2E3,b]),c="^"+this.months(c,"")+"|^"+
this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,
c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=A([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===
typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,e){var f=this._relativeTime[c];return"function"===typeof f?f(a,b,c,e):f.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",
a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ba(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});A=function(c,e,f,l){var d;"boolean"===typeof f&&(l=f,f=b);d={_isAMomentObject:!0};d._i=c;d._f=e;d._l=f;d._strict=l;d._isUTC=!1;d._pf=a();return da(d)};A.utc=function(c,e,f,l){var d;"boolean"===typeof f&&(l=f,f=b);d={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};
d._l=f;d._i=c;d._f=e;d._strict=l;d._pf=a();return da(d).utc()};A.unix=function(a){return A(1E3*a)};A.duration=function(a,b){var c=a,e=null,l;if(A.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(e=ca.exec(a))l="-"===e[1]?-1:1,c={y:0,d:s(e[ha])*l,h:s(e[X])*l,m:s(e[Z])*l,s:s(e[Q])*l,ms:s(e[sa])*l};else if(e=S.exec(a))l="-"===e[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*l},c={y:c(e[2]),M:c(e[3]),
d:c(e[4]),h:c(e[5]),m:c(e[6]),s:c(e[7]),w:c(e[8])};e=new f(c);A.isDuration(a)&&a.hasOwnProperty("_lang")&&(e._lang=a._lang);return e};A.version="2.5.1";A.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";A.updateOffset=function(){};A.lang=function(a,b){if(!a)return A.fn._lang._abbr;if(b){var c=E(a);b.abbr=c;ja[c]||(ja[c]=new h);ja[c].set(b)}else null===b?(delete ja[a],a="en"):ja[a]||N(a);return(A.duration.fn._lang=A.fn._lang=N(a))._abbr};A.langData=function(a){a&&(a._lang&&a._lang._abbr)&&(a=a._lang._abbr);return N(a)};
A.isMoment=function(a){return a instanceof g||null!=a&&a.hasOwnProperty("_isAMomentObject")};A.isDuration=function(a){return a instanceof f};for(T=Wa.length-1;0<=T;--T)x(Wa[T]);A.normalizeUnits=function(a){return r(a)};A.invalid=function(a){var b=A.utc(NaN);null!=a?e(b._pf,a):b._pf.userInvalidated=!0;return b};A.parseZone=function(a){return A(a).parseZone()};e(A.fn=g.prototype,{clone:function(){return A(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/
1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=A(this).utc();return 0<a.year()&&9999>=a.year()?y(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):y(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return F(this)},isDSTShifted:function(){return this._a?
this.isValid()&&0<t(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):!1},parsingFlags:function(){return e({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=!1;return this},format:function(a){a=y(this,a||A.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c="string"===typeof a?A.duration(+b,a):A.duration(a,b);p(this,c,1);return this},subtract:function(a,b){var c;c="string"===typeof a?
A.duration(+b,a):A.duration(a,b);p(this,c,-1);return this},diff:function(a,b,c){a=z(a,this);var e=6E4*(this.zone()-a.zone()),f;b=r(b);"year"===b||"month"===b?(f=432E5*(this.daysInMonth()+a.daysInMonth()),e=12*(this.year()-a.year())+(this.month()-a.month()),e+=(this-A(this).startOf("month")-(a-A(a).startOf("month")))/f,e-=6E4*(this.zone()-A(this).startOf("month").zone()-(a.zone()-A(a).startOf("month").zone()))/f,"year"===b&&(e/=12)):(f=this-a,e="second"===b?f/1E3:"minute"===b?f/6E4:"hour"===b?f/36E5:
"day"===b?(f-e)/864E5:"week"===b?(f-e)/6048E5:f);return c?e:m(e)},from:function(a,b){return A.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(A(),a)},calendar:function(){var a=z(A(),this).startOf("day"),a=this.diff(a,"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){return B(this.year())},isDST:function(){return this.zone()<
this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=L(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b=this._isUTC?"UTC":"",c;if(null!=a){if("string"===typeof a&&(a=this.lang().monthsParse(a),"number"!==typeof a))return this;c=this.date();this.date(1);this._d["set"+b+"Month"](a);this.date(Math.min(c,this.daysInMonth()));A.updateOffset(this);return this}return this._d["get"+b+"Month"]()},
startOf:function(a){a=r(a);switch(a){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);return this},endOf:function(a){a=r(a);return this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)>+A(a).startOf(b)},
isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+A(a).startOf(b)},isSame:function(a,b){b=b||"ms";return+this.clone().startOf(b)===+z(a,this).startOf(b)},min:function(a){a=A.apply(null,arguments);return a<this?this:a},max:function(a){a=A.apply(null,arguments);return a>this?this:a},zone:function(a){var b=this._offset||0;if(null!=a)"string"===typeof a&&(a=O(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&p(this,A.duration(b-a,"m"),1,!0);
else return this._isUTC?b:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?A(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),b=this.month();return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},dayOfYear:function(a){var b=
ma((A(this).startOf("day")-A(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(a){var b=ba(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=ba(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=ba(this,1,4).week;return null==
a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){a=r(a);return this[a]()},set:function(a,b){a=r(a);if("function"===typeof this[a])this[a](b);return this},lang:function(a){if(a===b)return this._lang;this._lang=N(a);return this}});for(T=0;T<ya.length;T++)aa(ya[T].toLowerCase().replace(/s$/,""),ya[T]);aa("year","FullYear");A.fn.days=
A.fn.day;A.fn.months=A.fn.month;A.fn.weeks=A.fn.week;A.fn.isoWeeks=A.fn.isoWeek;A.fn.toJSON=A.fn.toISOString;e(A.duration.fn=f.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,e=this._data;e.milliseconds=a%1E3;a=m(a/1E3);e.seconds=a%60;a=m(a/60);e.minutes=a%60;a=m(a/60);e.hours=a%24;b+=m(a/24);e.days=b%30;c+=m(b/30);e.months=c%12;b=m(c/12);e.years=b},weeks:function(){return m(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%
12)+31536E6*s(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var e=this.lang(),f=ma(Math.abs(b)/1E3),l=ma(f/60),d=ma(l/60),g=ma(d/24),h=ma(g/365),f=45>f&&["s",f]||1===l&&["m"]||45>l&&["mm",l]||1===d&&["h"]||22>d&&["hh",d]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",ma(g/30)]||1===h&&["y"]||["yy",h];f[2]=c;f[3]=0<b;f[4]=e;c=R.apply({},f);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},add:function(a,b){var c=A.duration(a,b);this._milliseconds+=c._milliseconds;
this._days+=c._days;this._months+=c._months;this._bubble();return this},subtract:function(a,b){var c=A.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=r(a);return this[a.toLowerCase()+"s"]()},as:function(a){a=r(a);return this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:A.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),e=Math.abs(this.hours()),
f=Math.abs(this.minutes()),l=Math.abs(this.seconds()+this.milliseconds()/1E3);return!this.asSeconds()?"P0D":(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(e||f||l?"T":"")+(e?e+"H":"")+(f?f+"M":"")+(l?l+"S":"")}});for(T in Oa)Oa.hasOwnProperty(T)&&(oa(T,Oa[T]),U(T.toLowerCase()));oa("Weeks",6048E5);A.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};A.lang("en",{ordinal:function(a){var b=a%10,b=1===s(a%100/10)?"th":1===b?"st":2===b?
"nd":3===b?"rd":"th";return a+b}});(function(a){var b=!1,c=A;"undefined"===typeof ender&&(a?(fa.moment=function(){!b&&(console&&console.warn)&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release."));return c.apply(null,arguments)},e(fa.moment,c)):fa.moment=A)})()}).call(this);
(function(b){b(window.moment)})(function(b){function a(a,b,h){if("m"===h)return b?"":"";b=a+" ";a=+a;h={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"}[h].split("_");return b+(1===a%10&&11!==a%100?h[0]:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?h[1]:h[2])}return b.lang("ru",{months:function(a,b){return{nominative:"           ".split(" "),accusative:"           ".split(" ")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?
"accusative":"nominative"][a.month()]},monthsShort:function(a,b){return{nominative:"           ".split(" "),accusative:"           ".split(" ")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative"][a.month()]},weekdays:function(a,b){return{nominative:"      ".split(" "),accusative:"      ".split(" ")}[/\[ ?[] ?(?:|)? ?\] ?dddd/.test(b)?
"accusative":"nominative"][a.day()]},weekdaysShort:"      ".split(" "),weekdaysMin:"      ".split(" "),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":
"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:a,mm:a,h:"",hh:a,d:"",dd:a,M:"",MM:a,y:"",yy:a},meridiem:function(a,b,h){return 4>a?"":12>a?"":17>a?"":""},ordinal:function(a,b){switch(b){case "M":case "d":case "DDD":return a+"-";
case "D":return a+"-";case "w":case "W":return a+"-";default:return a}},week:{dow:1,doy:7}})});com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.momentjs=com.rooxteam.momentjs||{};com.rooxteam.momentjs.moment=moment;"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.moment=function(b,a,c,d){c=dust.helpers.tap(d.value,b,a);a=dust.helpers.tap(d.format,b,a);return"fromNow"===a?b.write(moment(c).fromNow()):b.write(moment(c).format(a))});
var JSON=window.JSON||gadgets.json,_IG_Prefs=function(){var b=null,a=function(){b||(b=new gadgets.Prefs,b.setDontEscape_());return b};a._parseURL=gadgets.Prefs.parseUrl;return a}();function _IG_Fetch_wrapper(b,a){b(a.data?a.data:"")}function _IG_FetchContent(b,a,c){c=c||{};c.REFRESH_INTERVAL=c.refreshInterval?c.refreshInterval:3600;for(var d in c){var h=c[d];delete c[d];c[d.toUpperCase()]=h}a=gadgets.util.makeClosure(null,_IG_Fetch_wrapper,a);gadgets.io.makeRequest(b,a,c)}
function _IG_FetchXmlContent(b,a,c){c=c||{};c.REFRESH_INTERVAL=c.refreshInterval?c.refreshInterval:3600;c.CONTENT_TYPE="DOM";a=gadgets.util.makeClosure(null,_IG_Fetch_wrapper,a);gadgets.io.makeRequest(b,a,c)}
function _IG_FetchFeedAsJSON(b,a,c,d,h){h=h||{};h.CONTENT_TYPE="FEED";h.NUM_ENTRIES=c;h.GET_SUMMARIES=d;gadgets.io.makeRequest(b,function(c){c.data=c.data||{};c.errors&&0<c.errors.length&&(c.data.ErrorMsg=c.errors[0]);c.data.link&&(c.data.URL=b);c.data.title&&(c.data.Title=c.data.title);c.data.description&&(c.data.Description=c.data.description);c.data.link&&(c.data.Link=c.data.link);if(c.data.items&&0<c.data.items.length){c.data.Entry=c.data.items;for(var f=0;f<c.data.Entry.length;++f){var e=c.data.Entry[f];
e.Title=e.title;e.Link=e.link;e.Summary=e.summary||e.description;e.Date=e.pubDate}}for(f=0;f<c.data.Entry.length;++f)e=c.data.Entry[f],e.Date/=1E3;a(c.data)},h)}function _IG_GetCachedUrl(b,a){var c=a||{};c.REFRESH_INTERVAL=3600;c.refreshInterval&&(c.REFRESH_INTERVAL=c.refreshInterval);return gadgets.io.getProxyUrl(b,c)}function _IG_GetImageUrl(b,a){return _IG_GetCachedUrl(b,a)}function _IG_GetImage(b){var a=document.createElement("img");a.src=_IG_GetCachedUrl(b);return a}
function _IG_RegisterOnloadHandler(b){gadgets.util.registerOnLoadHandler(b)}function _IG_Callback(b,a){var c=arguments;return function(){var a=Array.prototype.slice.call(arguments);b.apply(null,a.concat(Array.prototype.slice.call(c,1)))}}var _args=gadgets.util.getUrlParameters;function _gel(b){return document.getElementById?document.getElementById(b):null}function _gelstn(b){return"*"===b&&document.all?document.all:document.getElementsByTagName?document.getElementsByTagName(b):[]}
function _gelsbyregex(b,a){for(var c=_gelstn(b),d=[],h=0,g=c.length;h<g;++h)a.test(c[h].id)&&d.push(c[h]);return d}function _esc(b){return window.encodeURIComponent?encodeURIComponent(b):escape(b)}function _unesc(b){return window.decodeURIComponent?decodeURIComponent(b):unescape(b)}function _hesc(b){return gadgets.util.escapeString(b)}function _striptags(b){return b.replace(/<\/?[^>]+>/g,"")}function _trim(b){return b.replace(/^\s+|\s+$/g,"")}
function _toggle(b){b="string"===typeof b?_gel(b):b;null!==b&&(0===b.style.display.length||"block"===b.style.display?b.style.display="none":"none"===b.style.display&&(b.style.display="block"))}var _uid=function(){var b=0;return function(){return b++}}();function _min(b,a){return b<a?b:a}function _max(b,a){return b>a?b:a}function _exportSymbols(b,a){for(var c=window,d=b.split("."),h=0,g=d.length;h<g;h++){var f=d[h];c[f]=c[f]||{};c=c[f]}d=0;for(h=a.length;d<h;d+=2)c[a[d]]=a[d+1]}
function _IG_AddDOMEventHandler(b,a,c){gadgets.warn("_IG_AddDOMEventHandler not implemented - see SHINDIG-198")}var OpenAjax=OpenAjax||{};
OpenAjax.hub||(OpenAjax.hub=function(){var b={};return{implementer:"http://openajax.org",implVersion:"2.0.5",specVersion:"2.0",implExtraData:{},libraries:b,registerLibrary:function(a,c,d,h){b[a]={prefix:a,namespaceURI:c,version:d,extraData:h};this.publish("org.openajax.hub.registerLibrary",b[a])},unregisterLibrary:function(a){this.publish("org.openajax.hub.unregisterLibrary",b[a]);delete b[a]}}}(),OpenAjax.hub.Error={BadParameters:"OpenAjax.hub.Error.BadParameters",Disconnected:"OpenAjax.hub.Error.Disconnected",
Duplicate:"OpenAjax.hub.Error.Duplicate",NoContainer:"OpenAjax.hub.Error.NoContainer",NoSubscription:"OpenAjax.hub.Error.NoSubscription",NotAllowed:"OpenAjax.hub.Error.NotAllowed",WrongProtocol:"OpenAjax.hub.Error.WrongProtocol",IncompatBrowser:"OpenAjax.hub.Error.IncompatBrowser"},OpenAjax.hub.SecurityAlert={LoadTimeout:"OpenAjax.hub.SecurityAlert.LoadTimeout",FramePhish:"OpenAjax.hub.SecurityAlert.FramePhish",ForgedMsg:"OpenAjax.hub.SecurityAlert.ForgedMsg"},OpenAjax.hub._debugger=function(){},
OpenAjax.hub.ManagedHub=function(b){if(!b||!b.onPublish||!b.onSubscribe)throw Error(OpenAjax.hub.Error.BadParameters);this._p=b;this._onUnsubscribe=b.onUnsubscribe?b.onUnsubscribe:null;this._scope=b.scope||window;if(b.log){var a=this;this._log=function(c){try{b.log.call(a._scope,"ManagedHub: "+c)}catch(d){OpenAjax.hub._debugger()}}}else this._log=function(){};this._subscriptions={c:{},s:null};this._containers={};this._seq=0;this._active=!0;this._isPublishing=!1;this._pubQ=[]},OpenAjax.hub.ManagedHub.prototype.subscribeForClient=
function(b,a,c){this._assertConn();if(this._invokeOnSubscribe(a,b))return this._subscribe(a,this._sendToClient,this,{c:b,sid:c});throw Error(OpenAjax.hub.Error.NotAllowed);},OpenAjax.hub.ManagedHub.prototype.unsubscribeForClient=function(b,a){this._unsubscribe(a);this._invokeOnUnsubscribe(b,a)},OpenAjax.hub.ManagedHub.prototype.publishForClient=function(b,a,c){this._assertConn();this._publish(a,c,b)},OpenAjax.hub.ManagedHub.prototype.disconnect=function(){this._active=!1;for(var b in this._containers)this.removeContainer(this._containers[b])},
OpenAjax.hub.ManagedHub.prototype.getContainer=function(b){return(b=this._containers[b])?b:null},OpenAjax.hub.ManagedHub.prototype.listContainers=function(){var b=[],a;for(a in this._containers)b.push(this._containers[a]);return b},OpenAjax.hub.ManagedHub.prototype.addContainer=function(b){this._assertConn();var a=b.getClientID();if(this._containers[a])throw Error(OpenAjax.hub.Error.Duplicate);this._containers[a]=b},OpenAjax.hub.ManagedHub.prototype.removeContainer=function(b){var a=b.getClientID();
if(!this._containers[a])throw Error(OpenAjax.hub.Error.NoContainer);b.remove();delete this._containers[a]},OpenAjax.hub.ManagedHub.prototype.subscribe=function(b,a,c,d,h){function g(b,d,g,p){if(f._invokeOnPublish(b,d,p,null))try{a.call(c,b,d,h)}catch(q){OpenAjax.hub._debugger(),f._log("caught error from onData callback to Hub.subscribe(): "+q.message)}}this._assertConn();this._assertSubTopic(b);if(!a)throw Error(OpenAjax.hub.Error.BadParameters);c=c||window;if(this._invokeOnSubscribe(b,null)){var f=
this;b=this._subscribe(b,g,c,h);this._invokeOnComplete(d,c,b,!0);return b}this._invokeOnComplete(d,c,null,!1,OpenAjax.hub.Error.NotAllowed)},OpenAjax.hub.ManagedHub.prototype.publish=function(b,a){this._assertConn();this._assertPubTopic(b);this._publish(b,a,null)},OpenAjax.hub.ManagedHub.prototype.unsubscribe=function(b,a,c){this._assertConn();if(!b)throw Error(OpenAjax.hub.Error.BadParameters);this._unsubscribe(b);this._invokeOnUnsubscribe(null,b);this._invokeOnComplete(a,c,b,!0)},OpenAjax.hub.ManagedHub.prototype.isConnected=
function(){return this._active},OpenAjax.hub.ManagedHub.prototype.getScope=function(){return this._scope},OpenAjax.hub.ManagedHub.prototype.getSubscriberData=function(b){this._assertConn();b=b.split(".");var a=b.pop();if(b=this._getSubscriptionObject(this._subscriptions,b,0,a))return b.data;throw Error(OpenAjax.hub.Error.NoSubscription);},OpenAjax.hub.ManagedHub.prototype.getSubscriberScope=function(b){this._assertConn();b=b.split(".");var a=b.pop();if(b=this._getSubscriptionObject(this._subscriptions,
b,0,a))return b.scope;throw Error(OpenAjax.hub.Error.NoSubscription);},OpenAjax.hub.ManagedHub.prototype.getParameters=function(){return this._p},OpenAjax.hub.ManagedHub.prototype._sendToClient=function(b,a,c,d){this.isConnected()&&this._invokeOnPublish(b,a,d,c.c)&&c.c.sendToClient(b,a,c.sid)},OpenAjax.hub.ManagedHub.prototype._assertConn=function(){if(!this.isConnected())throw Error(OpenAjax.hub.Error.Disconnected);},OpenAjax.hub.ManagedHub.prototype._assertPubTopic=function(b){if(!b||""===b||-1!=
b.indexOf("*")||-1!=b.indexOf("..")||"."==b.charAt(0)||"."==b.charAt(b.length-1))throw Error(OpenAjax.hub.Error.BadParameters);},OpenAjax.hub.ManagedHub.prototype._assertSubTopic=function(b){if(!b)throw Error(OpenAjax.hub.Error.BadParameters);b=b.split(".");for(var a=b.length,c=0;c<a;c++){var d=b[c];if(""===d||-1!=d.indexOf("*")&&"*"!=d&&"**"!=d)throw Error(OpenAjax.hub.Error.BadParameters);if("**"==d&&c<a-1)throw Error(OpenAjax.hub.Error.BadParameters);}},OpenAjax.hub.ManagedHub.prototype._invokeOnComplete=
function(b,a,c,d,h){if(b)try{a=a||window,b.call(a,c,d,h)}catch(g){OpenAjax.hub._debugger(),this._log("caught error from onComplete callback: "+g.message)}},OpenAjax.hub.ManagedHub.prototype._invokeOnPublish=function(b,a,c,d){try{return this._p.onPublish.call(this._scope,b,a,c,d)}catch(h){OpenAjax.hub._debugger(),this._log("caught error from onPublish callback to constructor: "+h.message)}return!1},OpenAjax.hub.ManagedHub.prototype._invokeOnSubscribe=function(b,a){try{return this._p.onSubscribe.call(this._scope,
b,a)}catch(c){OpenAjax.hub._debugger(),this._log("caught error from onSubscribe callback to constructor: "+c.message)}return!1},OpenAjax.hub.ManagedHub.prototype._invokeOnUnsubscribe=function(b,a){if(this._onUnsubscribe){var c=a.slice(0,a.lastIndexOf("."));try{this._onUnsubscribe.call(this._scope,c,b)}catch(d){OpenAjax.hub._debugger(),this._log("caught error from onUnsubscribe callback to constructor: "+d.message)}}},OpenAjax.hub.ManagedHub.prototype._subscribe=function(b,a,c,d){var h=b+"."+this._seq;
a={scope:c,cb:a,data:d,sid:this._seq++};b=b.split(".");this._recursiveSubscribe(this._subscriptions,b,0,a);return h},OpenAjax.hub.ManagedHub.prototype._recursiveSubscribe=function(b,a,c,d){var h=a[c];c==a.length?(d.next=b.s,b.s=d):("undefined"==typeof b.c&&(b.c={}),"undefined"==typeof b.c[h]&&(b.c[h]={c:{},s:null}),this._recursiveSubscribe(b.c[h],a,c+1,d))},OpenAjax.hub.ManagedHub.prototype._publish=function(b,a,c){if(this._isPublishing)this._pubQ.push({t:b,d:a,p:c});else for(this._safePublish(b,
a,c);0<this._pubQ.length;)b=this._pubQ.shift(),this._safePublish(b.t,b.d,b.p)},OpenAjax.hub.ManagedHub.prototype._safePublish=function(b,a,c){this._isPublishing=!0;var d=b.split(".");this._recursivePublish(this._subscriptions,d,0,b,a,c);this._isPublishing=!1},OpenAjax.hub.ManagedHub.prototype._recursivePublish=function(b,a,c,d,h,g){if("undefined"!=typeof b&&(c!=a.length&&(this._recursivePublish(b.c[a[c]],a,c+1,d,h,g),this._recursivePublish(b.c["*"],a,c+1,d,h,g),b=b.c["**"]),"undefined"!=typeof b))for(b=
b.s;b;){a=b.scope;c=b.cb;var f=b.data;"string"==typeof c&&(c=a[c]);c.call(a,d,h,f,g);b=b.next}},OpenAjax.hub.ManagedHub.prototype._unsubscribe=function(b){b=b.split(".");var a=b.pop();if(!this._recursiveUnsubscribe(this._subscriptions,b,0,a))throw Error(OpenAjax.hub.Error.NoSubscription);},OpenAjax.hub.ManagedHub.prototype._recursiveUnsubscribe=function(b,a,c,d){if("undefined"==typeof b)return!1;if(c<a.length){var h=b.c[a[c]];if(!h)return!1;this._recursiveUnsubscribe(h,a,c+1,d);if(!h.s){for(var g in h.c)return!0;
delete b.c[a[c]]}}else{a=b.s;c=null;for(h=!1;a;){if(d==a.sid){h=!0;a==b.s?b.s=a.next:c.next=a.next;break}c=a;a=a.next}if(!h)return!1}return!0},OpenAjax.hub.ManagedHub.prototype._getSubscriptionObject=function(b,a,c,d){if("undefined"!=typeof b){if(c<a.length)return this._getSubscriptionObject(b.c[a[c]],a,c+1,d);for(b=b.s;b;){if(d==b.sid)return b;b=b.next}}return null},OpenAjax.hub._hub=new OpenAjax.hub.ManagedHub({onSubscribe:function(b,a){return!0},onPublish:function(b,a,c,d){return!0}}),OpenAjax.hub.subscribe=
function(b,a,c,d){"string"===typeof a&&(c=c||window,a=c[a]||null);return OpenAjax.hub._hub.subscribe(b,a,c,null,d)},OpenAjax.hub.unsubscribe=function(b){return OpenAjax.hub._hub.unsubscribe(b)},OpenAjax.hub.publish=function(b,a){OpenAjax.hub._hub.publish(b,a)},OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","2.0",{}));OpenAjax=OpenAjax||{};OpenAjax.hub=OpenAjax.hub||{};OpenAjax.gadgets="object"===typeof OpenAjax.gadgets?OpenAjax.gadgets:"object"===typeof gadgets?gadgets:{};
OpenAjax.gadgets.rpctx=OpenAjax.gadgets.rpctx||{};(function(){if("undefined"===typeof gadgets){if("undefined"===typeof oaaConfig)for(var b=document.getElementsByTagName("script"),a=/openajax(?:managedhub-(?:all|core).*|-mashup)\.js$/i,c=b.length-1;0<=c;c--){var d=b[c].getAttribute("src");if(d&&d.match(a)){if(b=b[c].getAttribute("oaaConfig"))try{oaaConfig=eval("({ "+b+" })")}catch(h){}break}}"undefined"!==typeof oaaConfig&&oaaConfig.gadgetsGlobal&&(gadgets=OpenAjax.gadgets)}})();
OpenAjax.hub.IframeContainer||function(){OpenAjax.hub.IframeContainer=function(a,c,d){function h(){OpenAjax.gadgets.rpc.call(r,"openajax.pubsub",function(a){if(a&&(p=!0,clearTimeout(x),document.getElementById(r).style.visibility="visible",d.Container.onConnect))try{d.Container.onConnect.call(n,m)}catch(b){OpenAjax.hub._debugger(),s("caught error from onConnect callback to constructor: "+b.message)}},"cmd","con")}function g(){if(p){p=!1;document.getElementById(r).style.visibility="hidden";for(var b in q)a.unsubscribeForClient(m,
q[b]);q={}}}function f(a){try{d.Container.onSecurityAlert.call(n,m,a)}catch(b){OpenAjax.hub._debugger(),s("caught error from onSecurityAlert callback to constructor: "+b.message)}}function e(){x=setTimeout(function(){f(OpenAjax.hub.SecurityAlert.LoadTimeout);m._handleIncomingRPC=function(){}},C)}(function(a){var b=a[1],c=a[2];if(!a[0]||!b||!c||!c.Container||!c.Container.onSecurityAlert||!c.IframeContainer||!c.IframeContainer.parent||!c.IframeContainer.uri)throw Error(OpenAjax.hub.Error.BadParameters);
})(arguments);var m=this,n=d.Container.scope||window,p=!1,q={},t,r,C=d.IframeContainer.timeout||15E3,x,s=d.Container.log?function(a){try{d.Container.log.call(n,"IframeContainer::"+c+": "+a)}catch(b){OpenAjax.hub._debugger()}}:function(){};this._init=function(){a.addContainer(this);r=OpenAjax.hub.IframeContainer._rpcRouter.add(c,this);var b=d,f=n,g=s;if(!OpenAjax.hub.IframeContainer._prng){var h=(new Date).getTime()+Math.random()+document.cookie;OpenAjax.hub.IframeContainer._prng=OpenAjax._smash.crypto.newPRNG(h)}if((b=
b.IframeContainer||b.IframeHubClient)&&b.seed)try{var m=b.seed.call(f);OpenAjax.hub.IframeContainer._prng.addSeed(m)}catch(q){OpenAjax.hub._debugger(),g("caught error from 'seed' callback: "+q.message)}t=OpenAjax.hub.IframeContainer._prng.nextRandomB64Str(b&&b.tokenLength||6);f=null;g=OpenAjax.gadgets.rpc.getRelayChannel();if(d.IframeContainer.tunnelURI){if("wpm"!==g&&"nix"!==g)throw Error(OpenAjax.hub.Error.IncompatBrowser);}else s("WARNING: Parameter 'IframeContaienr.tunnelURI' not specified. Connection will not be fully secure."),
"rmr"===g&&(f=OpenAjax.gadgets.rpc.getOrigin(d.IframeContainer.uri)+"/robots.txt");g=document.createElement("span");d.IframeContainer.parent.appendChild(g);m='\x3ciframe id\x3d"'+r+'" name\x3d"'+r+'" src\x3d"javascript:\'\x3chtml\x3e\x3c/html\x3e\'"';b="";if(h=d.IframeContainer.iframeAttrs)for(var p in h)switch(p){case "style":for(var y in h.style)b+=y+":"+h.style[y]+";";break;case "className":m+=' class\x3d"'+h[p]+'"';break;default:m+=" "+p+'\x3d"'+h[p]+'"'}m+=' style\x3d"'+(b+"visibility:hidden;")+
'"\x3e\x3c/iframe\x3e';g.innerHTML=m;p=d.IframeContainer.tunnelURI?"\x26parent\x3d"+encodeURIComponent(d.IframeContainer.tunnelURI)+"\x26forcesecure\x3dtrue":"\x26oahParent\x3d"+encodeURIComponent(OpenAjax.gadgets.rpc.getOrigin(window.location.href));y="";r!==c&&(y="\x26oahId\x3d"+r.substring(r.lastIndexOf("_")+1));document.getElementById(r).src=d.IframeContainer.uri+"#rpctoken\x3d"+t+p+y;OpenAjax.gadgets.rpc.setupReceiver(r,f);e()};this.sendToClient=function(a,b,c){OpenAjax.gadgets.rpc.call(r,"openajax.pubsub",
null,"pub",a,b,c)};this.remove=function(){g();clearTimeout(x);OpenAjax.gadgets.rpc.removeReceiver(r);var a=document.getElementById(r);a.parentNode.removeChild(a);OpenAjax.hub.IframeContainer._rpcRouter.remove(r)};this.isConnected=function(){return p};this.getClientID=function(){return c};this.getPartnerOrigin=function(){if(p){var a=OpenAjax.gadgets.rpc.getReceiverOrigin(r);if(a)return/^([a-zA-Z]+:\/\/[^:]+).*/.exec(a)[1]}return null};this.getParameters=function(){return d};this.getHub=function(){return a};
this.getIframe=function(){return document.getElementById(r)};this._handleIncomingRPC=function(b,c,f){switch(b){case "pub":a.publishForClient(m,c,f);break;case "sub":b="";try{q[f]=a.subscribeForClient(m,c,f)}catch(r){b=r.message}return b;case "uns":return a.unsubscribeForClient(m,q[f]),delete q[f],f;case "con":return h(),!0;case "dis":e();g();if(d.Container.onDisconnect)try{d.Container.onDisconnect.call(n,m)}catch(p){OpenAjax.hub._debugger(),s("caught error from onDisconnect callback to constructor: "+
p.message)}return!0}};this._onSecurityAlert=function(a){f(b[a])};this._init()};OpenAjax.hub.IframeHubClient=function(a){function b(){if(!f)throw Error(OpenAjax.hub.Error.Disconnected);}function d(a){if(!a)throw Error(OpenAjax.hub.Error.BadParameters);a=a.split(".");for(var b=a.length,c=0;c<b;c++){var e=a[c];if(""===e||-1!=e.indexOf("*")&&"*"!=e&&"**"!=e)throw Error(OpenAjax.hub.Error.BadParameters);if("**"==e&&c<b-1)throw Error(OpenAjax.hub.Error.BadParameters);}}if(!a||!a.HubClient||!a.HubClient.onSecurityAlert)throw Error(OpenAjax.hub.Error.BadParameters);
var h=this,g=a.HubClient.scope||window,f=!1,e={},m=0,n,p=a.HubClient.log?function(b){try{a.HubClient.log.call(g,"IframeHubClient::"+n+": "+b)}catch(c){OpenAjax.hub._debugger()}}:function(){};this._init=function(){var b=OpenAjax.gadgets,c=b.util.getUrlParameters();c.parent||b.rpc.setupReceiver("..",c.oahParent+"/robots.txt");if(a.IframeHubClient&&a.IframeHubClient.requireParentVerifiable&&null===b.rpc.getReceiverOrigin(".."))throw b.rpc.removeReceiver(".."),Error(OpenAjax.hub.Error.IncompatBrowser);
OpenAjax.hub.IframeContainer._rpcRouter.add("..",this);n=OpenAjax.gadgets.rpc.RPC_ID;c.oahId&&(n=n.substring(0,n.lastIndexOf("_")))};this.connect=function(a,b){if(f)throw Error(OpenAjax.hub.Error.Duplicate);OpenAjax.gadgets.rpc.call("..","openajax.pubsub",function(c){if(c&&(f=!0,a))try{a.call(b||window,h,!0)}catch(e){OpenAjax.hub._debugger(),p("caught error from onComplete callback to connect(): "+e.message)}},"con")};this.disconnect=function(a,b){if(!f)throw Error(OpenAjax.hub.Error.Disconnected);
f=!1;var c=null;a&&(c=function(c){try{a.call(b||window,h,!0)}catch(e){OpenAjax.hub._debugger(),p("caught error from onComplete callback to disconnect(): "+e.message)}});OpenAjax.gadgets.rpc.call("..","openajax.pubsub",c,"dis")};this.getPartnerOrigin=function(){if(f){var a=OpenAjax.gadgets.rpc.getReceiverOrigin("..");if(a)return/^([a-zA-Z]+:\/\/[^:]+).*/.exec(a)[1]}return null};this.getClientID=function(){return n};this.subscribe=function(a,f,g,h,n){b();d(a);if(!f)throw Error(OpenAjax.hub.Error.BadParameters);
g=g||window;var s=""+m++;e[s]={cb:f,sc:g,d:n};OpenAjax.gadgets.rpc.call("..","openajax.pubsub",function(a){""!==a&&delete e[s];if(h)try{h.call(g,s,""===a,a)}catch(b){OpenAjax.hub._debugger(),p("caught error from onComplete callback to subscribe(): "+b.message)}},"sub",a,s);return s};this.publish=function(a,e){b();if(!a||""===a||-1!=a.indexOf("*")||-1!=a.indexOf("..")||"."==a.charAt(0)||"."==a.charAt(a.length-1))throw Error(OpenAjax.hub.Error.BadParameters);OpenAjax.gadgets.rpc.call("..","openajax.pubsub",
null,"pub",a,e)};this.unsubscribe=function(a,f,d){b();if(!a)throw Error(OpenAjax.hub.Error.BadParameters);if(!e[a]||e[a].uns)throw Error(OpenAjax.hub.Error.NoSubscription);e[a].uns=!0;OpenAjax.gadgets.rpc.call("..","openajax.pubsub",function(b){delete e[a];if(f)try{f.call(d||window,a,!0)}catch(c){OpenAjax.hub._debugger(),p("caught error from onComplete callback to unsubscribe(): "+c.message)}},"uns",null,a)};this.isConnected=function(){return f};this.getScope=function(){return g};this.getSubscriberData=
function(a){b();if(e[a])return e[a].d;throw Error(OpenAjax.hub.Error.NoSubscription);};this.getSubscriberScope=function(a){b();if(e[a])return e[a].sc;throw Error(OpenAjax.hub.Error.NoSubscription);};this.getParameters=function(){return a};this._handleIncomingRPC=function(a,b,c,f){if("pub"===a&&e[f]&&!e[f].uns)try{e[f].cb.call(e[f].sc,b,c,e[f].d)}catch(d){OpenAjax.hub._debugger(),p("caught error from onData callback to subscribe(): "+d.message)}return"con"===b?!0:!1};this._init()};OpenAjax.hub.IframeContainer._rpcRouter=
function(){function a(){var a=d[this.f];if(a)return a._handleIncomingRPC.apply(a,arguments)}function c(a,b){var c=d[a];c&&c._onSecurityAlert.call(c,b)}var d={};return{add:function(h,g){function f(a,b){if(".."===a)d[".."]||(d[".."]=b);else{for(var c=a;document.getElementById(c);)c=a+"_"+(32767*Math.random()|0).toString(16);d[c]=b;return c}}OpenAjax.gadgets.rpc.register("openajax.pubsub",a);OpenAjax.gadgets.rpc.config({securityCallback:c});b[OpenAjax.gadgets.rpc.SEC_ERROR_LOAD_TIMEOUT]=OpenAjax.hub.SecurityAlert.LoadTimeout;
b[OpenAjax.gadgets.rpc.SEC_ERROR_FRAME_PHISH]=OpenAjax.hub.SecurityAlert.FramePhish;b[OpenAjax.gadgets.rpc.SEC_ERROR_FORGED_MSG]=OpenAjax.hub.SecurityAlert.ForgedMsg;this.add=f;return f(h,g)},remove:function(a){delete d[a]}}}();var b={}}();"undefined"==typeof OpenAjax._smash&&(OpenAjax._smash={});
OpenAjax._smash.crypto={strToWA:function(b,a){for(var c=[],d=(1<<a)-1,h=0;h<b.length*a;h+=a)c[h>>5]|=(b.charCodeAt(h/a)&d)<<32-a-h%32;return c},hmac_sha1:function(b,a,c){for(var d=Array(16),h=Array(16),g=0;16>g;g++)d[g]=b[g]^909522486,h[g]=b[g]^1549556828;b=this.sha1(d.concat(this.strToWA(a,c)),512+a.length*c);return this.sha1(h.concat(b),672)},newPRNG:function(b){function a(a){a=c.hmac_sha1(d,a,8);for(var b=0;5>b;b++)h[b]^=a[b]}var c=this;("string"!=typeof b||12>b.length)&&alert("WARNING: Seed length too short ...");
var d=[43417,15926,18182,33130,9585,30800,49772,40144,47678,55453,4659,38181,65340,6787,54417,65301],h=[],g=0;a(b);return{addSeed:function(b){a(b)},nextRandomOctets:function(a){for(var b=[];0<a;){g+=1;var d=c.hmac_sha1(h,g.toString(16),8);for(i=0;20>i&0<a;i++,a--)b.push((d[i>>2]>>i%4)%256)}return b},nextRandomB64Str:function(a){for(var b=this.nextRandomOctets(a),c="",d=0;d<a;d++)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(b[d]&63);return c}}},sha1:function(){var b=
function(a,b){var d=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(d>>16)<<16|d&65535};return function(a,c){a[c>>5]|=128<<24-c%32;a[(c+64>>9<<4)+15]=c;for(var d=Array(80),h=1732584193,g=-271733879,f=-1732584194,e=271733878,m=-1009589776,n=0;n<a.length;n+=16){for(var p=h,q=g,t=f,r=e,C=m,x=0;80>x;x++){d[x]=16>x?a[n+x]:(d[x-3]^d[x-8]^d[x-14]^d[x-16])<<1|(d[x-3]^d[x-8]^d[x-14]^d[x-16])>>>31;var s=p<<5|p>>>27,B;B=20>x?q&t|~q&r:40>x?q^t^r:60>x?q&t|q&r|t&r:q^t^r;s=b(b(s,B),b(b(C,d[x]),20>x?1518500249:40>x?1859775393:
60>x?-1894007588:-899497514));C=r;r=t;t=q<<30|q>>>2;q=p;p=s}h=b(p,h);g=b(q,g);f=b(t,f);e=b(r,e);m=b(C,m)}return[h,g,f,e,m]}}()};var html4={},html,html_sanitize;html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10};
html4.ATTRIBS={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,
"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,
"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,
"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,
"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,
"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,
"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128};
html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,nobr:0,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,
p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0};html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};html4.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"body::background":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0};html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0};
html4.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"body::background":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2};
html=function(b){function a(a,b){var c=b,f;return c=s(c),e.hasOwnProperty(c)?e[c]:(f=c.match(q),f?String.fromCharCode(parseInt(f[1],10)):(f=c.match(x))?String.fromCharCode(parseInt(f[1],16)):"")}function c(b){return b.replace(t,a)}function d(a){return a.replace(p,"\x26amp;").replace(D,"\x26lt;").replace(C,"\x26gt;").replace(E,"\x26#34;").replace(r,"\x26#61;")}function h(a){return a.replace(B,"\x26amp;$1").replace(D,"\x26lt;").replace(C,"\x26gt;")}function g(a){return function(e,f){var d,g,v,r,q,l,
p,x,C;e=String(e);l=null;p=!1;g=[];x=q=C=void 0;for(a.startDoc&&a.startDoc(f);e;)if(r=e.match(p?m:n),e=e.substring(r[0].length),p)if(r[1]){d=s(r[1]);if(r[2]){r=r[3];switch(r.charCodeAt(0)){case 34:case 39:r=r.substring(1,r.length-1)}r=c(r.replace(F,""))}else r=d;g.push(d,r)}else r[4]&&(void 0!==q&&(x?a.startTag&&a.startTag(C,g,f):a.endTag&&a.endTag(C,f)),x&&q&(b.eflags.CDATA|b.eflags.RCDATA)&&(null===l?l=s(e):l=l.substring(l.length-e.length),v=l.indexOf("\x3c/"+C),0>v&&(v=e.length),q&b.eflags.CDATA?
a.cdata&&a.cdata(e.substring(0,v),f):a.rcdata&&a.rcdata(h(e.substring(0,v)),f),e=e.substring(v)),C=q=x=void 0,g.length=0,p=!1);else if(r[1])a.pcdata&&a.pcdata(r[0],f);else if(r[3])x=!r[2],p=!0,C=s(r[3]),q=b.ELEMENTS.hasOwnProperty(C)?b.ELEMENTS[C]:void 0;else if(r[4])a.pcdata&&a.pcdata(r[4],f);else if(r[5]&&a.pcdata)switch(r[5]){case "\x3c":a.pcdata("\x26lt;",f);break;case "\x3e":a.pcdata("\x26gt;",f);break;default:a.pcdata("\x26amp;",f)}a.endDoc&&a.endDoc(f)}}function f(a){var c,e;return g({startDoc:function(a){e=
[];c=!1},startTag:function(f,g,h){var m,r,l;if(!c&&b.ELEMENTS.hasOwnProperty(f)&&(m=b.ELEMENTS[f],!(m&b.eflags.FOLDABLE))){if(m&b.eflags.UNSAFE)return c=!(m&b.eflags.EMPTY),void 0;if(g=a(f,g)){m&b.eflags.EMPTY||e.push(f);h.push("\x3c",f);m=0;for(r=g.length;m<r;m+=2)f=g[m],l=g[m+1],null!==l&&void 0!==l&&h.push(" ",f,'\x3d"',d(l),'"');h.push("\x3e")}}},endTag:function(a,f){var d,g,h;if(c)return c=!1,void 0;if(b.ELEMENTS.hasOwnProperty(a)&&(d=b.ELEMENTS[a],!(d&(b.eflags.UNSAFE|b.eflags.EMPTY|b.eflags.FOLDABLE)))){if(d&
b.eflags.OPTIONAL_ENDTAG)for(g=e.length;0<=--g;){h=e[g];if(h===a)break;if(!(b.ELEMENTS[h]&b.eflags.OPTIONAL_ENDTAG))return}else for(g=e.length;0<=--g&&e[g]!==a;);if(!(0>g)){for(d=e.length;--d>g;)h=e[d],b.ELEMENTS[h]&b.eflags.OPTIONAL_ENDTAG||f.push("\x3c/",h,"\x3e");e.length=g;f.push("\x3c/",a,"\x3e")}}},pcdata:function(a,b){c||b.push(a)},rcdata:function(a,b){c||b.push(a)},cdata:function(a,b){c||b.push(a)},endDoc:function(a){var b;for(b=e.length;0<=--b;)a.push("\x3c/",e[b],"\x3e");e.length=0}})}var e,
m,n,p,q,t,r,C,x,s,B,D,F,E;s=function(a){return a.toLowerCase()};e={lt:"\x3c",gt:"\x3e",amp:"\x26",nbsp:"",quot:'"',apos:"'"};q=/^#(\d+)$/;x=/^#x([0-9A-Fa-f]+)$/;F=/\0/g;t=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;p=/&/g;B=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;D=/</g;C=/>/g;E=/\"/g;r=/\=/g;m=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*\x3d\\s*(\"[^\"]*\"|'[^']*'|(?\x3d[a-z][a-z-]*\\s*\x3d)|[^\x3e\"'\\s]*))?)|(/?\x3e)|[\\s\\S][^a-z\\s\x3e]*)","i");n=RegExp("^(?:\x26(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|\x3c!--[\\s\\S]*?--\x3e|\x3c!\\w[^\x3e]*\x3e|\x3c\\?[^\x3e*]*\x3e|\x3c(/)?([a-z][a-z0-9]*)|([^\x3c\x26\x3e]+)|([\x3c\x26\x3e]))",
"i");return{escapeAttrib:d,makeHtmlSanitizer:f,makeSaxParser:g,normalizeRCData:h,sanitize:function(a,c,e){var d=[];return f(function(a,f){var d,g,l,h,m;for(h=0;h<f.length;h+=2){g=f[h];m=f[h+1];l=null;((d=a+"::"+g,b.ATTRIBS.hasOwnProperty(d))||(d="*::"+g,b.ATTRIBS.hasOwnProperty(d)))&&(l=b.ATTRIBS[d]);if(null!==l)switch(l){case b.atype.NONE:break;case b.atype.SCRIPT:case b.atype.STYLE:m=null;break;case b.atype.ID:case b.atype.IDREF:case b.atype.IDREFS:case b.atype.GLOBAL_NAME:case b.atype.LOCAL_NAME:case b.atype.CLASSES:m=
e?e(m):m;break;case b.atype.URI:m=c&&c(m);break;case b.atype.URI_FRAGMENT:m&&"#"===m.charAt(0)?(m=e?e(m):m,m&&(m="#"+m)):m=null;break;default:m=null}else m=null;f[h+1]=m}return f})(a,d),d.join("")},unescapeEntities:c}}(html4);html_sanitize=html.sanitize;
(function(){gadgets.HubSettings={params:{HubClient:{onSecurityAlert:function(b,a){alert("Gadget stopped attempted security breach: "+a);window.location.href="about:blank"}},IframeHubClient:{}}};gadgets.util.getUrlParameters().forcesecure&&(gadgets.HubSettings.params.IframeHubClient.requireParentVerifiable=!0);gadgets.util.registerOnLoadHandler(function(){try{gadgets.Hub=new OpenAjax.hub.IframeHubClient(gadgets.HubSettings.params),gadgets.Hub.connect(gadgets.HubSettings.onConnect)}catch(b){gadgets.error("ERROR creating or connecting IframeHubClient in gadgets.Hub ["+
b.message+"]")}})})();com=com||{};com.rooxteam=com.rooxteam||{};var widgetUrls=[];widgetUrls[gadgets.util.getUrlParameters().mid]=gadgets.util.getUrlParameters().widgetDescriptor;com.rooxteam.cmcontainer=com.rooxteam.cmcontainer||function(){return container};
gadgets.Prefs.prototype.set=function(b,a){var c=!1;if(2<arguments.length){for(var c={},d=0,h=arguments.length;d<h;d+=2)c[arguments[d]]=arguments[d+1];c=gadgets.Prefs.setInternal_(c)}else c=gadgets.Prefs.setInternal_(b,a);c&&(c=[null,"set_pref",null,gadgets.util.getUrlParameters().ifpctok||gadgets.util.getUrlParameters().rpctoken||0].concat(Array.prototype.slice.call(arguments)),gadgets.rpc.call.apply(gadgets.rpc,c))};
gadgets.Prefs.prototype.setArray=function(b,a){for(var c=0,d=a.length;c<d;++c)"number"!==typeof a[c]&&(a[c]=a[c].replace(/\|/g,"%7C"));this.set(b,a.join("|"))};com=com||{};com.rooxteam=com.rooxteam||{};
com.rooxteam.docCookies={getItem:function(b){return!b?null:decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(b).replace(/[\-\.\+\*]/g,"\\$\x26")+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(b,a,c,d,h,g){if(!b||/^(?:expires|max\-age|path|domain|secure)$/i.test(b))return!1;var f="";if(c)switch(c.constructor){case Number:f=Infinity===c?"; expires\x3dFri, 31 Dec 9999 23:59:59 GMT":"; max-age\x3d"+c;break;case String:f="; expires\x3d"+c;break;case Date:f=
"; expires\x3d"+c.toUTCString()}document.cookie=encodeURIComponent(b)+"\x3d"+encodeURIComponent(a)+f+(h?"; domain\x3d"+h:"")+(d?"; path\x3d"+d:"")+(g?"; secure":"");return!0},removeItem:function(b,a,c){if(!this.hasItem(b))return!1;document.cookie=encodeURIComponent(b)+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain\x3d"+c:"")+(a?"; path\x3d"+a:"");return!0},hasItem:function(b){return!b?!1:RegExp("(?:^|;\\s*)"+encodeURIComponent(b).replace(/[\-\.\+\*]/g,"\\$\x26")+"\\s*\\\x3d").test(document.cookie)},
keys:function(){for(var b=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),a=b.length,c=0;c<a;c++)b[c]=decodeURIComponent(b[c]);return b}};com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};com.rooxteam.statistic.utils=com.rooxteam.statistic.utils||{};
(function(b,a){function c(a){var b=a.indexOf("?"),c=a.indexOf("#");return(-1===c?a.substr(b+1):[a.substr(b+1,c-b-1),"\x26",a.substr(c+1)].join("")).split("\x26")}var d=com.rooxteam.statistic.utils,h="url lang debug nocache country refresh delayed feature_mode".split(" "),g=null,f=null;d.parseUrlParams=c;d.getUrlParameters=function(a){var b="undefined"===typeof a;if(null!==g&&b)return g;var f={};a=c(a||document.location.href);for(var d=window.decodeURIComponent?decodeURIComponent:unescape,h=0,t=a.length;h<
t;++h){var r=a[h].indexOf("\x3d");if(-1!==r){var C=a[h].substring(0,r),r=a[h].substring(r+1),r=r.replace(/\+/g," ");try{f[C]=d(r)}catch(x){}}}b&&(g=f);return f};d.getUserPrefs=function(b){var c={},n={};if(f)return f;"undefined"!==typeof b&&window.widgetUrls&&window.widgetUrls.length&&window.widgetUrls[b]?(b=window.widgetUrls[b],c=d.getUrlParameters(b)):c=g?g:d.getUrlParameters();for(var p in c)c.hasOwnProperty(p)&&-1===a.inArray(p,h)&&(n[p]=c[p]);return f=n};d.proccessServerAddress=function(a){a&&
"//"===a.substr(0,2)&&(a=document.location.protocol+a);return a};d.getConsole=function(){return window.console&&window.console.log?window.console:{log:function(){},info:function(){},warn:function(){}}};d.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};d.getRenderTypeFromContainer=function(){return com.rooxteam.container&&"string"===typeof com.rooxteam.container.renderType?com.rooxteam.container.renderType.toUpperCase():
""};d.getWidgetNameByModuleId=function(a){return widgetUrls&&widgetUrls[a]&&(a=/([^/|^\\]*)\.xml[\?]?/.exec(widgetUrls[a]))&&a[1]?a[1]:""};d.getStorage=function(a){return a?window.localStorage:window.sessionStorage};d.getStorageItem=function(a,b){var c=d.getStorage(b),f=null;if(c)try{f=JSON.parse(c.getItem(a))}catch(g){}return f};d.setStorageItem=function(a,b,c){if(c=d.getStorage(c))b=JSON.stringify(b),c.setItem(a,b)};d.isSyncCredential=function(a){var b=!1;if(com.rooxteam.config.statistic.CREDENTIALS_SYNC_ENABLED&&
com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP&&"object"===typeof com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP)for(var c in com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP)com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP.hasOwnProperty(c)&&com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP[c]===a&&(b=!0);return b};d.syncCredentialItem=function(a,c){var f,g=window.gadgets?window.gadgets:d.getConsole();b.hasItem(a)?(f=b.getItem(a),d.setStorageItem(c,f,!0),g.warn("localStorage CREDENTIAL:"+
c+" was overriden by cookie CREDENTIAL:"+a)):(f=d.getStorageItem(c,!0))&&b.setItem(a,f,Infinity,"/",com.rooxteam.config.statistic.CREDENTIALS_COOKIE_DOMAIN)};d.syncCredentials=function(a){if(a&&com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP&&"object"===typeof com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP)for(var b in com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP)com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP.hasOwnProperty(b)&&d.syncCredentialItem(b,com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP[b])}})(com.rooxteam.docCookies,
window.jQuery);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.config=com.rooxteam.config||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
com.rooxteam.config.statistic={ENABLED:!0,LIC_ENABLED:!1,LIC_SERVER_ADDRESS:"http://rcmlic.roox.ru/YA/PushReport/",LIC_OBFUSCATED_DATA:["userid","msisdn","^pn$","authentication_token"],TRANSPORT:"GET",DISABLE_IN_ROAMING:!1,SERVER_ADDRESS:"http://rcmlic.roox.ru/YA/PushReport/",SERVICE_TYPE_PARAMETER:"YA_REPORT_SERVICE",CHECKSUM_PARAMETER:"YA_REPORT_CHECKSUM",SENDING_TIME_PARAMETER:"YA_REPORT_SENDING_TIME",FILTERING_ERROR_PARAMETER:"filtering_error",COUNTER_SERVICE_TYPE:"counter",ACCUMULATE_TIME:6E4,
TIMER_UPDATE_INTERVAL:5E3,ACCUMULATE_OPERATION_LIMIT:20,OVER_ACCUMULATE_OPERATION_LIMIT:100,COUNT_OF_IMMEDIATE_SENDING:3,MAX_URL_LENGTH:2E3,TRACEKIT_ENABLED:!1,IO_EVENTS_ENABLED:!0,VIEW_EVENTS_ENABLED:!0,DOM_EVENTS_ENABLED:!0,DOM_EVENTS:{click:{verbose:4,selector:"a, button"}},META:{CONTAINER:{LOADED:null},WIDGET:{LOADED:null}},CREDENTIALS_SYNC_ENABLED:!1,CREDENTIALS_COOKIE_DOMAIN:"",CREDENTIALS_SYNC_MAP:{roox_uiid:"com.roox.cm.Common.App.Properties.unit.UserInstallationId"}};
(function(b,a,c){function d(a,b){for(var c in a)a.hasOwnProperty(c)&&("object"==typeof a[c]?d(a[c],b):b.apply(a,[c,a[c]]))}function h(a){d(a,function(a,b){/^[\s]*true[\s]*$/i.test(b)?this[a]=!0:/^[\s]*false[\s]*$/i.test(b)?this[a]=!1:/^[\s]*[\d]+[\s]*$/.test(b)&&(this[a]=parseInt(b,10))});return a}com.rooxteam.statistic.updateConfiguration=function(a,b,c,d){c?"undefined"!=typeof b.DOM_EVENTS_WIDGETS&&"undefined"!=typeof b.DOM_EVENTS_WIDGETS[c]?$.extend(a,b,{DOM_EVENTS:b.DOM_EVENTS_WIDGETS[c]}):$.extend(a,
b):d?"undefined"!=typeof b.DOM_EVENTS_PAGES&&"undefined"!=typeof b.DOM_EVENTS_PAGES[d]?$.extend(a,b,{DOM_EVENTS:b.DOM_EVENTS_PAGES[d]}):$.extend(a,b):$.extend(a,b);!0===com.rooxteam.sharedcontext.getDataContext().getDataSet("com.roox.cm.Common.App.Properties.unit.IsScreenshotting")&&(a.ENABLED=!1)};com.rooxteam.statistic.initConfiguration=function(a,f){f&&(!0===com.rooxteam.config.statistic.ENABLED&&null===com.rooxteam.config.statistic.META.CONTAINER.LOADED)&&$.ajax({url:"container-ver.json",dataType:"json"}).done(function(a){com.rooxteam.config.statistic.META.CONTAINER.LOADED=
!0;$.extend(com.rooxteam.config.statistic.META.CONTAINER,a)}).fail(function(){com.rooxteam.config.statistic.META.CONTAINER.LOADED=!1});if(b&&b.config){com.rooxteam.config.statistic.ENABLED=!1;var e=function(){com.rooxteam.statistic.updateConfiguration(com.rooxteam.config.statistic,h(b.config.get("com.rooxteam.statistic")),a,f);!0===com.rooxteam.config.statistic.ENABLED?c.log("Stats enabled"):c.log("Stats disabled");com.rooxteam.statistic.client.initTransport(com.rooxteam.config.statistic.TRANSPORT)};
b.config.register("com.rooxteam.statistic",{},e,e);b.config.get()&&com.rooxteam.statistic.updateConfiguration(com.rooxteam.config.statistic,h(b.config.get("com.rooxteam.statistic")),a,f)}};a.syncCredentials(com.rooxteam.config.statistic.CREDENTIALS_SYNC_ENABLED)})(window.gadgets,com.rooxteam.statistic.utils,com.rooxteam.statistic.utils.getConsole());com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(){function b(b,d){var h={};this.storage={getDataSet:function(a){return h[a]||null},putDataSet:function(a,b){h[a]=b}};this.storageId=a;this.storage_statistic=b?b:"statistic";this.storage_statistic_context=this.storage_statistic+"_context";this._init(d)}var a="com.rooxteam.statistic";b.prototype={_init:function(a){var b=this.storage.getDataSet(this.storageId);if(b){if(!b.version||b.version&&"2.1"!==b.version)b={version:"2.1"}}else b={version:"2.1"};b[this.storage_statistic]||(b[this.storage_statistic]=
[]);b[this.storage_statistic_context]||(b[this.storage_statistic_context]={});this.storage.putDataSet(this.storageId,b);a&&this._initContext(a)},saveUpdateStatistic:function(a){this._saveUpdateStorageItem(this.storage_statistic,a)},getStatistic:function(){return this._getStorageItem(this.storage_statistic)||[]},saveUpdateContextValue:function(a,b){var h=this._getStorageItem(this.storage_statistic_context);h||(h={});h[a]=b;this._saveUpdateStorageItem(this.storage_statistic_context,h)},getContextValue:function(a){var b=
this._getStorageItem(this.storage_statistic_context);return b?b[a]:null},getContext:function(){return this._getStorageItem(this.storage_statistic_context)},_initContext:function(a){var b=this._getStorageItem(this.storage_statistic_context);b||(b={});for(var h in a)b[h]||(b[h]=a[h]);this._saveUpdateStorageItem(this.storage_statistic_context,b)},_saveUpdateStorageItem:function(a,b){var h=this.storage.getDataSet(this.storageId);h&&(h[a]=b,this.storage.putDataSet(this.storageId,h))},_getStorageItem:function(a){var b=
this.storage.getDataSet(this.storageId);return b?b[a]:null}};com.rooxteam.statistic.StatisticDao=b})();
var CryptoJS=CryptoJS||function(b,a){var c={},d=c.lib={},h=function(){},g=d.Base={extend:function(a){h.prototype=this;var b=new h;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
f=d.WordArray=g.extend({init:function(b,c){b=this.words=b||[];this.sigBytes=c!=a?c:4*b.length},toString:function(a){return(a||m).stringify(this)},concat:function(a){var b=this.words,c=a.words,e=this.sigBytes;a=a.sigBytes;this.clamp();if(e%4)for(var f=0;f<a;f++)b[e+f>>>2]|=(c[f>>>2]>>>24-8*(f%4)&255)<<24-8*((e+f)%4);else if(65535<c.length)for(f=0;f<a;f+=4)b[e+f>>>2]=c[f>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<
32-8*(c%4);a.length=b.ceil(c/4)},clone:function(){var a=g.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*b.random()|0);return new f.init(c,a)}}),e=c.enc={},m=e.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++){var f=b[e>>>2]>>>24-8*(e%4)&255;c.push((f>>>4).toString(16));c.push((f&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],e=0;e<b;e+=2)c[e>>>3]|=parseInt(a.substr(e,
2),16)<<24-4*(e%8);return new f.init(c,b/2)}},n=e.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++)c.push(String.fromCharCode(b[e>>>2]>>>24-8*(e%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],e=0;e<b;e++)c[e>>>2]|=(a.charCodeAt(e)&255)<<24-8*(e%4);return new f.init(c,b)}},p=e.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},
q=d.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new f.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=p.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,e=c.words,d=c.sigBytes,g=this.blockSize,h=d/(4*g),h=a?b.ceil(h):b.max((h|0)-this._minBufferSize,0);a=h*g;d=b.min(4*a,d);if(a){for(var m=0;m<a;m+=g)this._doProcessBlock(e,m);m=e.splice(0,a);c.sigBytes-=d}return new f.init(m,d)},clone:function(){var a=g.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=q.extend({cfg:g.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new t.HMAC.init(a,
c)).finalize(b)}}});var t=c.algo={};return c}(Math);
(function(){var b=CryptoJS,a=b.lib,c=a.WordArray,d=a.Hasher,h=[],a=b.algo.SHA1=d.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],n=c[1],p=c[2],q=c[3],t=c[4],r=0;80>r;r++){if(16>r)h[r]=a[b+r]|0;else{var C=h[r-3]^h[r-8]^h[r-14]^h[r-16];h[r]=C<<1|C>>>31}C=(d<<5|d>>>27)+t+h[r];C=20>r?C+((n&p|~n&q)+1518500249):40>r?C+((n^p^q)+1859775393):60>r?C+((n&p|n&q|p&q)-1894007588):C+((n^p^
q)-899497514);t=q;q=p;p=n<<30|n>>>2;n=d;d=C}c[0]=c[0]+d|0;c[1]=c[1]+n|0;c[2]=c[2]+p|0;c[3]=c[3]+q|0;c[4]=c[4]+t|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296);b[(d+64>>>9<<4)+15]=c;a.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var a=d.clone.call(this);a._hash=this._hash.clone();return a}});b.SHA1=d._createHelper(a);b.HmacSHA1=d._createHmacHelper(a)})();
com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a,c){function d(a){var b=a.indexOf("?"),d=c.parseUrlParams(a),h=function(a){var b=a.split("\x3d");if(2!==b.length)return a;b[1]="NA";return b.join("\x3d")},p=function(a,b){var c=b.split("\x3d")[0];return a.test(c)},q=function(){var a=[],b;for(b in g)g.hasOwnProperty(b)&&a.push(g[b]);return RegExp(a.join("|"),"i")}(),t=[],r;for(r in d)p(q,d[r])?t[r]=h(d[r]):t[r]=d[r];return a.substr(0,b+1)+t.join("\x26")}function h(a,c){"undefined"===typeof c&&(c=0);if(1E3<c)return!1;for(var m in a)if(a.hasOwnProperty(m))if(Array.isArray(a))h(a[m],
++c);else if(null!==a[m]&&void 0!==a[m]&&"object"===typeof a[m])h(a[m],++c);else if("url"===m&&"string"===typeof a[m])a[m]=d(a[m]);else{var n=m,p=RegExp(g.join("|"),"i");null!==n.match(p)&&("string"!==typeof a[m]&&"number"!==typeof a[m]&&console.log("Attempt to obfuscate non string or number - "+typeof a[m]),a[m]&&(a[m].toString&&a[m].toString().length)&&(a[m]=b.SHA1(a[m].toString()).toString(b.enc.Base64)))}}var g=com.rooxteam.config.statistic.LIC_OBFUSCATED_DATA;Array.isArray||(Array.isArray=function(a){return"[object Array]"===
Object.prototype.toString.call(a)});com.rooxteam.statistic.deepDataFilter=h;com.rooxteam.statistic.obfuscateUrlParams=d;com.rooxteam.statistic.deepFilter=function(a){var b={data:a},c,d;try{if(c=JSON.parse(a),c.data&&"object"!==typeof c.data)return b.error="wrong_structure",b}catch(g){return b.error="json_parse",b}try{h(c)}catch(q){return b.error="deep_filter",b}try{d=JSON.stringify({data:c.data})}catch(t){return b.error="stringify",b}return d}})(window.CryptoJS,window.jQuery,com.rooxteam.statistic.utils);
com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};(function(b){function a(){c=arguments}var c;a.prototype={setReport:function(a){b.each(c,function(b,c){c.setReport(a)})},sendReport:function(a,h,g,f){var e=[];b.each(c,function(b,c){e.push(c.sendReport(a,h))});return com.rooxteam.deferred.whenSomeArray(e).then(g,f)},validate:function(a,h){var g=!0;b.each(c,function(b,c){g=g&&c.validate(a,h)});return g}};com.rooxteam.statistic.JoinStatisticTransport=a})(window.jQuery);
com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a){function c(a,b){this.serverAddressKey=a;this.useFilters=b||!1;this.content=this.params=this.statistic=null}var d=com.rooxteam.config.statistic,h=d.MAX_URL_LENGTH;c.prototype={setReport:function(a){a=this.filterReport(a);this.content=a.content;this.params=a.parameters},getReport:function(){return this.content},getParameters:function(){return this.params?this.params:{}},isRcmLicUrl:function(){return d[this.serverAddressKey||"SERVER_ADDRESS"]===d.LIC_SERVER_ADDRESS},sendReport:function(a,
c,e,d){null===this.content&&this.setReport(a);c=b.extend({},c,this.getParameters());a=this.getReport();return this._createUpdateImage(this._composeUrl(a,c),e,d)},validate:function(a,c){c=b.extend({},c,this.getParameters());a=this.getReport();return this._composeUrl(a,c).length<=h},filterReport:function(a){var b;this.useFilters&&(a=com.rooxteam.statistic.deepFilter(a),b={},"string"!==typeof a&&(a&&"string"===typeof a.data)&&(a.error&&(b[d.FILTERING_ERROR_PARAMETER]=a.error),a=a.data),b[d.CHECKSUM_PARAMETER]=
com.rooxteam.statistic.calculateChecksum(a));return{content:a,parameters:b}},_composeUrl:function(b,c){var e=a.proccessServerAddress(d[this.serverAddressKey||"SERVER_ADDRESS"])+"?content\x3d"+encodeURIComponent(b),h;for(h in c)e+="\x26"+h+"\x3d"+c[h];return e},_createUpdateImage:function(a,c,e){return b.Deferred(b.proxy(function(d){var h=document.getElementById("roox-statistic-img-"+this.serverAddressKey);h||(h=new Image(1,1),h.id="roox-statistic-img-"+this.serverAddressKey,h.style.position="absolute",
h.style.left="-99999",b("body").append(h));h.onload=function(){"function"===typeof c&&c();d.resolveWith(h,["success"])};h.onerror=function(){"function"===typeof e&&e();d.rejectWith(h,["error"])};h.src=a},this)).promise()}};com.rooxteam.statistic.GetStatisticTransport=c})(window.jQuery,com.rooxteam.statistic.utils);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a){function c(a,b){this.serverAddressKey=a;this.useFilters=b||!1;this.content=this.params=this.statistic=null}var d=com.rooxteam.config.statistic;c.prototype={setReport:function(a){a=this.filterReport(a);this.content=a.content;this.params=a.parameters},getReport:function(){return this.content},getParameters:function(){return this.params?this.params:{}},isRcmLicUrl:function(){return d[this.serverAddressKey||"SERVER_ADDRESS"]===d.LIC_SERVER_ADDRESS},filterReport:function(a){var b;this.useFilters&&
(a=com.rooxteam.statistic.deepFilter(a),b={},"string"!==typeof a&&(a&&"string"===typeof a.data)&&(a.error&&(b[d.FILTERING_ERROR_PARAMETER]=a.error),a=a.data),b[d.CHECKSUM_PARAMETER]=com.rooxteam.statistic.calculateChecksum(a));return{content:a,parameters:b}},sendReport:function(c,g,f,e){var m=a.proccessServerAddress(d[this.serverAddressKey||"SERVER_ADDRESS"]);null===this.content&&this.setReport(c);g=b.extend({},g,this.getParameters());c=this.getReport();return b.ajax({url:m,type:"POST",data:c,beforeSend:function(a){for(var b in g)a.setRequestHeader(b,
g[b])},success:function(){"function"===typeof f&&f()},error:function(){"function"===typeof e&&e()}}).then(function(){return"success"},function(){return"error"})},validate:function(a,b){return!0}};com.rooxteam.statistic.PostStatisticTransport=c})(window.jQuery,com.rooxteam.statistic.utils);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(){com.rooxteam.statistic.calculateChecksum=function(b){var a=0,c,d=[];for(c=0;c<b.length;c++){var h=b.charCodeAt(c);128>h?d.push(h):2048>h?(d.push(192+(h>>6)),d.push(128+(h&63))):65536>h?(d.push(224+(h>>12)),d.push(128+(h>>6&63)),d.push(128+(h&63))):2097152>h&&(d.push(240+(h>>18)),d.push(128+(h>>12&63)),d.push(128+(h>>6&63)),d.push(128+(h&63)))}for(c=0;c<d.length;c++)0===c%3||2===c%5?(b=127<d[c]?4294967040|d[c]:d[c],a^=b<<c%24):a^=(255&~d[c])<<c%24;return a}})();
com.rooxteam.statistic.client=function(b,a){var c=new com.rooxteam.statistic.StatisticDao("statistic",{lastSend:(new Date).getTime()}),d=new com.rooxteam.statistic.StatisticDao("statisticBuffer",{lastSend:0}),h,g=com.rooxteam.config.statistic;Date.prototype.toISOString||function(){function a(b){b=String(b);1===b.length&&(b="0"+b);return b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+
":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}();b.initTransport=function(a){var b;"GET"===a?h=new com.rooxteam.statistic.GetStatisticTransport("SERVER_ADDRESS"):"POST"===a&&(h=new com.rooxteam.statistic.PostStatisticTransport("SERVER_ADDRESS"));!0===g.LIC_ENABLED&&("GET"===a?b=new com.rooxteam.statistic.GetStatisticTransport("LIC_SERVER_ADDRESS",!0):"POST"===a&&(b=new com.rooxteam.statistic.PostStatisticTransport("LIC_SERVER_ADDRESS",!0)),h=new com.rooxteam.statistic.JoinStatisticTransport(h,
b))};b.initTransport(g.TRANSPORT);b._init=function(){if(b.beforeLoadLogData&&b.beforeLoadLogData.length)for(var a=0;a<b.beforeLoadLogData.length;a++)b.logOperation.apply(b,b.beforeLoadLogData[a]);setInterval(function(){b.trySendReport()},g.TIMER_UPDATE_INTERVAL)};b.trySendReport=function(){if(g.ENABLED){var a=d.getStatistic(),e=d.getContextValue("lastSend");if(a&&0<a.length){if(b.isExpired(g.ACCUMULATE_TIME,e)){var m=[],e=b.getCreateReport(a);h.setReport(e);for(var n=b.calculateParams(g.COUNTER_SERVICE_TYPE,
e),p=h.validate(e,n);!p&&0<a.length;){for(;!p&&0<a.length;){var q=a.pop();0<a.length?(m.push(q),e=b.getCreateReport(a),n=b.calculateParams(g.COUNTER_SERVICE_TYPE,e),p=h.validate(e,n)):window.console&&window.console.log("Remove report operation (too big): "+JSON.stringify(q))}m.reverse();p||(a=m,m=[])}p?(h.sendReport(e,n,function(){d.saveUpdateStatistic(m);var a=m.length+c.getStatistic().length;if(a>g.COUNT_OF_IMMEDIATE_SENDING)var e=(new Date).getTime(),a=Math.min(e-1,e-g.ACCUMULATE_TIME+g.ACCUMULATE_TIME*
(a/(g.ACCUMULATE_OPERATION_LIMIT+g.OVER_ACCUMULATE_OPERATION_LIMIT)));else a=0;d.saveUpdateContextValue("lastSend",a);0<m.length&&b.trySendReport()},function(){window.console&&window.console.log("Can't send statistic report.")}),d.saveUpdateContextValue("lastSend",(new Date).getTime())):(d.saveUpdateStatistic(m),0<m.length&&setTimeout(b.trySendReport,0))}}else if(a=c.getStatistic(),e=c.getContextValue("lastSend"),n=!1,g.DISABLE_IN_ROAMING&&com&&com.rooxteam&&com.rooxteam.network&&(n=com.rooxteam.network.isRoaming())&&
window.console.log("Can't send statistic report in roaming."),!n&&a&&0<a.length&&(b.isExpired(g.ACCUMULATE_TIME,e)||a.length>=g.ACCUMULATE_OPERATION_LIMIT))d.saveUpdateStatistic(a),c.saveUpdateStatistic([]),c.saveUpdateContextValue("lastSend",(new Date).getTime()),b.trySendReport()}};b.getCreateReport=function(a){var b={};b.data=a;return JSON.stringify(b)+"\n"};b.calculateParams=function(a,b){var c={};c[g.SERVICE_TYPE_PARAMETER]=a;c[g.CHECKSUM_PARAMETER]=com.rooxteam.statistic.calculateChecksum(b);
c[g.SENDING_TIME_PARAMETER]=(new Date).toISOString();return c};b.logOperation=function(a,e,d,h,p){if(g.ENABLED&&a){var q=c.getStatistic().length;if(q<g.ACCUMULATE_OPERATION_LIMIT+g.OVER_ACCUMULATE_OPERATION_LIMIT){var t={};t.name=a;t.quantity=d?d:1;t.timeStart=h?h:(new Date).getTime();t.timeEnd=p?p:t.timeStart;t.data=e?e:"";a=c.getStatistic();a.push(t);c.saveUpdateStatistic(a)}q>=g.ACCUMULATE_OPERATION_LIMIT&&b.trySendReport()}};b.logOperationAuth=function(c,e,d,g,h){if(a&&a.util&&a.util.hasFeature("com.rooxteam.auth")){var q=
com.rooxteam.auth.getPrincipal();e||(e={});e.userId=q}b.logOperation(c,e,d,g,h)};b.isExpired=function(a,b){var c=(new Date).getTime();return c<b||c-b>a};b._init();return b}(com.rooxteam.statistic.client||{},window.gadgets);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a){com.rooxteam.statistic.getPageName=function(c){var d;try{var h;h="undefined"!==typeof c?c.split("/").pop():"undefined"!==typeof b&&"undefined"!==typeof b.Navigation&&b.Navigation.location?b.Navigation.location.split("/").pop():window.location.href.split("/").pop();d=h.substr(0,h.lastIndexOf("."))||h}catch(g){a.log("can't detect current url"),d="undetected"}return d}})(window.WinJS,com.rooxteam.statistic.utils.getConsole());
(function(b,a,c,d,h){var g=com.rooxteam.statistic.utils;h&&h.report&&h.report.subscribe(function(a){if(!0!==com.rooxteam.config.statistic.TRACEKIT_ENABLED)return!1;a=com.rooxteam.statistic.getContext(a);try{com.rooxteam.statistic.client.logOperationAuth("event.exception",a,1,null,null)}catch(b){}});com.rooxteam.statistic.setupCapturingEvent=function(b){var e=com.rooxteam.config.statistic;if(!e.DOM_EVENTS_ENABLED||!e.DOM_EVENTS)return!0;"undefined"!==typeof c&&"undefined"!==typeof c.Navigation&&c.Navigation.addEventListener("navigated",
function(a){b.p=com.rooxteam.statistic.getPageName(a.detail.location)});d.addEventListener?a.each(e.DOM_EVENTS,function(c,g){if("mouseleave"===c||"mouseenter"===c)a(d).on(c,g.selector,b,function(c){if(!e.DOM_EVENTS_ENABLED)return!0;c.data=a.extend(c.data,b);com.rooxteam.statistic.processEvent(c);return!0});else d.addEventListener(c,function(c){if(!e.DOM_EVENTS_ENABLED||g.selector&&!a(c.target).is(g.selector))return!0;c=a.event.fix(c);c.data=b;com.rooxteam.statistic.processEvent(c)},!0)}):a.each(e.DOM_EVENTS,
function(c,g){a(d).on(c,g.selector,b,function(c){if(!e.DOM_EVENTS_ENABLED)return!0;c.data=a.extend(c.data,b);com.rooxteam.statistic.processEvent(c);return!0})})};com.rooxteam.statistic.getDomPath=function(a){for(var b=[];null!==a.parentNode;){for(var c=0,d=0,g=0;g<a.parentNode.childNodes.length;g++){var h=a.parentNode.childNodes[g];h.nodeName===a.nodeName&&(h===a&&(d=c),c++)}a.hasAttribute("id")&&""!==a.id?b.unshift(a.nodeName.toLowerCase()+"#"+a.id):1<c?b.unshift(a.nodeName.toLowerCase()+":eq("+
d+")"):b.unshift(a.nodeName.toLowerCase());a=a.parentNode}return b.slice(1).join(" ")};com.rooxteam.statistic.getModuleId=function(b){b=a(b).parents('[id^\x3d"widget_wrapper_"]');return 0<b.length&&(b=/^widget_wrapper_([\d]+)$/.exec(b[0].id))&&"undefined"!==b[1]?+b[1]:NaN};com.rooxteam.statistic.getContext=function(c){function e(a,b){a="com.roox.cm.Common.App.Properties.unit."+a;if(b){var c=h.getDataSet(a);c||(c=g.guid(),h.putDataSet(a,c));d.putDataSet(a,c);g.isSyncCredential(a)&&g.syncCredentials(com.rooxteam.config.statistic.CREDENTIALS_SYNC_ENABLED);
return c}return d.getDataSet(a)}var d=com.rooxteam.sharedcontext.getDataContext(),h=com.rooxteam.sharedcontext.getPersistentDataContext(),p=Array.prototype.slice.call(arguments);d&&p.unshift({cmver:d.getDataSet("com.roox.cm.Common.App.Properties.unit.AppArtifact")||"",oid:d.getDataSet("com.roox.cm.Common.App.Properties.unit.AppCode")||com.rooxteam.config.statistic.OPERATOR_ID||"",uiid:e("UserInstallationId",com.rooxteam.config.statistic.AUTO_GENERATE_UIID)||"",iid:e("InstallationId",com.rooxteam.config.statistic.AUTO_GENERATE_IID)||
""});com.rooxteam.config.statistic.META.CONTAINER.LOADED&&p.unshift({cwrsver:com.rooxteam.config.statistic.META.CONTAINER.jobName+"-"+com.rooxteam.config.statistic.META.CONTAINER.buildNumber});if(b&&b.config){var q=b.config.get("com.rooxteam.container");if(q){var t=q["com.rooxteam.env.wrs.componentId"],q=q["com.rooxteam.env.wrs.componentVersion"];t&&q&&p.unshift({swrsver:t+"-"+q})}}b&&(b.util&&b.util.hasFeature("com.rooxteam.network"))&&(t=h.getDataSet("com.rooxteam.cached_msisdn")||"",q=com.rooxteam.network.getMobileDevice()&&
com.rooxteam.network.getMobileDevice().getDeviceInfo().getPhoneNumber()||"",q=q.replace("+",""),p.unshift({mst:com.rooxteam.network.getMobileState(),wst:com.rooxteam.network.getWifiState(),fst:com.rooxteam.network.getFixedState(),pn:q||t}));"INLINE"===g.getRenderTypeFromContainer()&&p.unshift({p:com.rooxteam.statistic.getPageName()});p.unshift({tz:(new Date).getTimezoneOffset()});p.unshift({});return a.extend.apply(null,p)};com.rooxteam.statistic.processEvent=function(a){var b=com.rooxteam.config.statistic,
c={},b=b.DOM_EVENTS[a.type]&&b.DOM_EVENTS[a.type].verbose||4;if(a.target){if(a.target.id)c.id=a.target.id;else{var d=com.rooxteam.statistic.getDomPath(a.target);d&&(c.path=d)}a.target.className&&1<=b&&(c.cls=a.target.className);a.target.getAttribute("href")&&4<=b&&(c.href=a.target.getAttribute("href"));a.target.getAttribute("onclick")&&4<=b&&(c.clk=a.target.getAttribute("onclick"));a.target.getAttribute("alt")&&7<=b&&(c.alt=a.target.getAttribute("alt"));a.target.getAttribute("title")&&7<=b&&(c.title=
a.target.getAttribute("title"));if((!a.target.children||0===a.target.children.length)&&a.target.textContent&&9===b)c.txt=a.target.textContent;d=com.rooxteam.statistic.getModuleId(a.target);isNaN(d)||(c.mid=d,(d=g.getWidgetNameByModuleId(d))&&(c.w=d))}c=com.rooxteam.statistic.getContext(a.data,c);2<=b?com.rooxteam.statistic.client.logOperationAuth("event."+a.type,c,1,null,null):com.rooxteam.statistic.client.logOperation("event."+a.type,c,1,null,null)}})(window.gadgets,window.jQuery,window.WinJS,window.document,
window.TraceKit);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a,c){function d(b){!0!==c.hidden&&("INLINE"===b?a(c).find('[id^\x3d"widget_wrapper_"]').each(function(){var b=a(this),c=NaN;0<b.find(":visible").length&&((b=/^widget_wrapper_([\d]+)$/.exec(this.id))&&"undefined"!==b[1]&&(c=+b[1]),window.postMessage(JSON.stringify({id:"widget.display",data:{mid:c}}),"*"))}):"IFRAME"===b&&window.postMessage(JSON.stringify({id:"widget.display"}),"*"))}var h=com.rooxteam.statistic.utils;com.rooxteam.statistic.getWidgetData=function(){var a=h.getUrlParameters(),
b=a.widgetDescriptor||a.url||"",b=b.substr(0,b.lastIndexOf("."))||b,a=a.mid;b&&(b=b.split("/").pop());return{w:b,mid:a}};var g=com.rooxteam.statistic.getWidgetData();com.rooxteam.statistic.initConfiguration(g.w,null);a(window).on("load",function(){com.rooxteam.statistic.setupCapturingEvent(g)});if("undefined"!==c.hidden){var f=h.getRenderTypeFromContainer();if("IFRAME"===f||"INLINE"===f)a(c).on("visibilitychange",function(){d(f)}),"INLINE"===f?a(c).ready(function(){d(f)}):d(f)}b=window.addEventListener?
"addEventListener":"attachEvent";window[b]("attachEvent"===b?"onmessage":"message",function(a){var b;try{b=JSON.parse(a.data)}catch(c){return}b&&"widget.display"===b.id&&!0===com.rooxteam.config.statistic.VIEW_EVENTS_ENABLED&&(b.data&&!isNaN(b.data.mid)&&(g.mid=b.data.mid,(a=h.getWidgetNameByModuleId(b.data.mid))&&(g.w=a)),a=com.rooxteam.statistic.getContext(g,h.getUserPrefs(g.mid)),com.rooxteam.statistic.client.logOperationAuth("widget.display",a,1,null,null))})})(window.gadgets,window.jQuery,window.document);
com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.templates=com.rooxteam.templates||{};com.rooxteam.templates.renderToEl=function(b,a,c,d,h,g){return com.rooxteam.templates.render(b,a,null,h,g).done(function(a){"undefined"===typeof MSApp?c.html(a):MSApp.execUnsafeLocalFunction(function(){c.html(a)})}).always(d)};com.rooxteam.templates.renderToBody=function(b,a,c,d,h){return com.rooxteam.templates.render(b,a,d).done(function(a){"undefined"===typeof MSApp?jQuery("body").html(a):MSApp.execUnsafeLocalFunction(function(){jQuery("body").html(a)})}).always(c)};
com.rooxteam.templates.render=function(b,a,c,d,h){throw Error("Method not implemented");};com.rooxteam.templates.compileTemplate=function(b,a,c){throw Error("Method not implemented");};
com.rooxteam.templates.compile=function(b,a,c){var d=[];b.children().each(function(){var a=$(this).attr("src"),b=$(this).attr("name")||a,f=this.text||this.innerText||this.textContent;a?d.push($.ajax({type:"GET",url:c+a,dataType:"text"}).pipe(function(a){return[a,b]})):f&&d.push($.Deferred(function(a){a.resolve(f,b)}))});return $.when.apply(null,d).pipe(function(){for(var b="\x3cscript type\x3d'text/javascript'\x3e",c=Array.prototype.slice.call(arguments,0),f=0,e=c.length;f<e;f++)b+=com.rooxteam.templates.compileTemplate(c[f][0]+
"",c[f][1]+"",a);return b+"\x3c/script\x3e"})};
(function(b){function a(a,b,c,e){this.stack=a;this.global=b;this.blocks=c;this.templateName=e}function c(a,b,c,e){this.tail=b;this.isObject=a&&"object"===typeof a;this.head=a;this.index=c;this.of=e}function d(a){this.head=new g(this);this.callback=a;this.out=""}function h(){this.head=new g(this)}function g(a,b,c){this.root=a;this.next=b;this.data=[];this.flushable=!1;this.taps=c}function f(a,b){this.head=a;this.tail=b}var e={},m=["DEBUG","INFO","WARN","ERROR","NONE"],n=function(){},p={},q,t;e.debugLevel=
"NONE";e.silenceErrors=!1;b&&(b.console&&b.console.log)&&(t=b.console,q=b.console.log);p.log=t?function(){p.log="function"===typeof q?function(){q.apply(t,arguments)}:function(){var a=Array.prototype.slice.apply(arguments).join(" ");q(a)};p.log.apply(this,arguments)}:function(){};e.log=function(a,b){e.isDebug&&"NONE"===e.debugLevel&&(p.log('[!!!DEPRECATION WARNING!!!]: dust.isDebug is deprecated.  Set dust.debugLevel instead to the level of logging you want ["debug","info","warn","error","none"]'),
e.debugLevel="INFO");b=b||"INFO";e.indexInArray(m,b)>=e.indexInArray(m,e.debugLevel)&&(e.logQueue||(e.logQueue=[]),e.logQueue.push({message:a,type:b}),p.log("[DUST "+b+"]: "+a));if(!e.silenceErrors&&"ERROR"===b){if("string"===typeof a)throw Error(a);throw a;}};e.onError=function(a,b){p.log("[!!!DEPRECATION WARNING!!!]: dust.onError will no longer return a chunk object.");e.log(a.message||a,"ERROR");if(e.silenceErrors)return b;throw a;};e.helpers={};e.cache={};e.register=function(a,b){a&&(e.cache[a]=
b)};e.render=function(b,c,f){f=(new d(f)).head;try{e.load(b,f,a.wrap(c,b)).end()}catch(g){e.log(g,"ERROR")}};e.stream=function(b,c){var f=new h;e.nextTick(function(){try{e.load(b,f.head,a.wrap(c,b)).end()}catch(d){e.log(d,"ERROR")}});return f};e.renderSource=function(a,b,c){return e.compileFn(a)(b,c)};e.compileFn=function(b,c){c=c||null;var f=e.loadSource(e.compile(b,c));return function(b,l){var g=l?new d(l):new h;e.nextTick(function(){"function"===typeof f?f(g.head,a.wrap(b,c)).end():e.log(Error("Template ["+
c+"] cannot be resolved to a Dust function"),"ERROR")});return g}};e.load=function(a,b,c){var f=e.cache[a];return f?f(b,c):e.onLoad?b.map(function(b){e.onLoad(a,function(f,d){if(f)return b.setError(f);e.cache[a]||e.loadSource(e.compile(d,a));e.cache[a](b,c).end()})}):b.setError(Error("Template Not Found: "+a))};e.loadSource=function(a,b){return eval(a)};e.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.indexInArray=function(a,b,c){c=+c||
0;if(Array.prototype.indexOf)return a.indexOf(b,c);if(void 0===a||null===a)throw new TypeError('cannot call method "indexOf" of null');var e=a.length;Infinity===Math.abs(c)&&(c=0);0>c&&(c+=e,0>c&&(c=0));for(;c<e;c++)if(a[c]===b)return c;return-1};e.nextTick=function(){return function(a){setTimeout(a,0)}}();e.isEmpty=function(a){return e.isArray(a)&&!a.length?!0:0===a?!1:!a};e.filter=function(a,b,c){if(c)for(var f=0,d=c.length;f<d;f++){var g=c[f];"s"===g?(b=null,e.log("Using unescape filter on ["+
a+"]","DEBUG")):"function"===typeof e.filters[g]?a=e.filters[g](a):e.log("Invalid filter ["+g+"]","WARN")}b&&(a=e.filters[b](a));return a};e.filters={h:function(a){return e.escapeHtml(a)},j:function(a){return e.escapeJs(a)},u:encodeURI,uc:encodeURIComponent,js:function(a){if(JSON)return JSON.stringify(a);e.log("JSON is undefined.  JSON stringify has not been used on ["+a+"]","WARN");return a},jp:function(a){if(JSON)return JSON.parse(a);e.log("JSON is undefined.  JSON parse has not been used on ["+
a+"]","WARN");return a}};e.makeBase=function(b){return new a(new c,b)};a.wrap=function(b,e){return b instanceof a?b:new a(new c(b),{},null,e)};a.prototype.get=function(a,b){"string"===typeof a&&("."===a[0]&&(b=!0,a=a.substr(1)),a=a.split("."));return this._get(b,a)};a.prototype._get=function(a,b){var c=this.stack,f=1,d,g,h,m;e.log("Searching for reference [{"+b.join(".")+"}] in template ["+this.getTemplateName()+"]","DEBUG");g=b[0];h=b.length;if(a&&0===h)m=c,c=c.head;else{if(a)c&&(c=c.head?c.head[g]:
void 0);else{for(;c&&(!c.isObject||!(m=c.head,d=c.head[g],void 0!==d));)c=c.tail;c=void 0!==d?d:this.global?this.global[g]:void 0}for(;c&&f<h;)m=c,c=c[b[f]],f++}if("function"===typeof c)return f=function(){try{return c.apply(m,arguments)}catch(a){return e.log(a,"ERROR")}},f.isFunction=!0,f;void 0===c&&e.log("Cannot find the value for reference [{"+b.join(".")+"}] in template ["+this.getTemplateName()+"]");return c};a.prototype.getPath=function(a,b){return this._get(a,b)};a.prototype.push=function(b,
e,f){return new a(new c(b,this.stack,e,f),this.global,this.blocks,this.getTemplateName())};a.prototype.rebase=function(b){return new a(new c(b),this.global,this.blocks,this.getTemplateName())};a.prototype.current=function(){return this.stack.head};a.prototype.getBlock=function(a,b,c){"function"===typeof a&&(b=new g,a=a(b,this).data.join(""));if(b=this.blocks){c=b.length;for(var f;c--;)if(f=b[c][a])return f}else e.log("No blocks for context[{"+a+"}] in template ["+this.getTemplateName()+"]","DEBUG")};
a.prototype.shiftBlocks=function(b){var c=this.blocks;return b?(b=c?c.concat([b]):[b],new a(this.stack,this.global,b,this.getTemplateName())):this};a.prototype.getTemplateName=function(){return this.templateName};d.prototype.flush=function(){for(var a=this.head;a;){if(a.flushable)this.out+=a.data.join("");else{a.error&&(this.callback(a.error),e.log("Chunk error ["+a.error+"] thrown. Ceasing to render this template.","WARN"),this.flush=n);return}this.head=a=a.next}this.callback(null,this.out)};h.prototype.flush=
function(){for(var a=this.head;a;){if(a.flushable)this.emit("data",a.data.join(""));else{a.error&&(this.emit("error",a.error),e.log("Chunk error ["+a.error+"] thrown. Ceasing to render this template.","WARN"),this.flush=n);return}this.head=a=a.next}this.emit("end")};h.prototype.emit=function(a,b){if(!this.events)return e.log("No events to emit","INFO"),!1;var c=this.events[a];if(!c)return e.log("Event type ["+a+"] does not exist","WARN"),!1;if("function"===typeof c)c(b);else if(e.isArray(c))for(var c=
c.slice(0),f=0,d=c.length;f<d;f++)c[f](b);else e.log("Event Handler ["+c+"] is not of a type that is handled by emit","WARN")};h.prototype.on=function(a,b){this.events||(this.events={});this.events[a]?"function"===typeof this.events[a]?this.events[a]=[this.events[a],b]:this.events[a].push(b):(e.log("Event type ["+a+"] does not exist. Using just the specified callback.","WARN"),b?this.events[a]=b:e.log("Callback for type ["+a+"] does not exist. Listener not registered.","WARN"));return this};h.prototype.pipe=
function(a){this.on("data",function(b){try{a.write(b,"utf8")}catch(c){e.log(c,"ERROR")}}).on("end",function(){try{return a.end()}catch(b){e.log(b,"ERROR")}}).on("error",function(b){a.error(b)});return this};g.prototype.write=function(a){var b=this.taps;b&&(a=b.go(a));this.data.push(a);return this};g.prototype.end=function(a){a&&this.write(a);this.flushable=!0;this.root.flush();return this};g.prototype.map=function(a){var b=new g(this.root,this.next,this.taps),c=new g(this.root,b,this.taps);this.next=
c;this.flushable=!0;a(c);return b};g.prototype.tap=function(a){var b=this.taps;this.taps=b?b.push(a):new f(a);return this};g.prototype.untap=function(){this.taps=this.taps.tail;return this};g.prototype.render=function(a,b){return a(this,b)};g.prototype.reference=function(a,b,c,f){return"function"===typeof a&&(a.isFunction=!0,a=a.apply(b.current(),[this,b,null,{auto:c,filters:f}]),a instanceof g)?a:e.isEmpty(a)?this:this.write(e.filter(a,c,f))};g.prototype.section=function(a,b,c,f){if("function"===
typeof a&&(a=a.apply(b.current(),[this,b,c,f]),a instanceof g))return a;var d=c.block;c=c["else"];f&&(b=b.push(f));if(e.isArray(a)){if(d){f=a.length;var h=this;if(0<f){b.stack.head&&(b.stack.head.$len=f);for(c=0;c<f;c++)b.stack.head&&(b.stack.head.$idx=c),h=d(h,b.push(a[c],c,f));b.stack.head&&(b.stack.head.$idx=void 0,b.stack.head.$len=void 0);return h}if(c)return c(this,b)}}else if(!0===a){if(d)return d(this,b)}else if(a||0===a){if(d)return d(this,b.push(a))}else if(c)return c(this,b);e.log("Not rendering section (#) block in template ["+
b.getTemplateName()+"], because above key was not found","DEBUG");return this};g.prototype.exists=function(a,b,c){var f=c.block;c=c["else"];if(e.isEmpty(a)){if(c)return c(this,b)}else if(f)return f(this,b);e.log("Not rendering exists (?) block in template ["+b.getTemplateName()+"], because above key was not found","DEBUG");return this};g.prototype.notexists=function(a,b,c){var f=c.block;c=c["else"];if(e.isEmpty(a)){if(f)return f(this,b)}else if(c)return c(this,b);e.log("Not rendering not exists (^) block check in template ["+
b.getTemplateName()+"], because above key was found","DEBUG");return this};g.prototype.block=function(a,b,c){c=c.block;a&&(c=a);return c?c(this,b):this};g.prototype.partial=function(a,b,c){var f;f=e.makeBase(b.global);f.blocks=b.blocks;b.stack&&b.stack.tail&&(f.stack=b.stack.tail);c&&(f=f.push(c));"string"===typeof a&&(f.templateName=a);f=f.push(b.stack.head);return"function"===typeof a?this.capture(a,f,function(a,b){f.templateName=f.templateName||a;e.load(a,b,f).end()}):e.load(a,this,f)};g.prototype.helper=
function(a,b,c,f){try{if(e.helpers[a])return e.helpers[a](this,b,c,f);e.log("Invalid helper ["+a+"]","WARN");return this}catch(d){return e.log(d,"ERROR"),this}};g.prototype.capture=function(a,b,c){return this.map(function(e){var f=new d(function(a,b){a?e.setError(a):c(b,e)});a(f.head,b).end()})};g.prototype.setError=function(a){this.error=a;this.root.flush();return this};f.prototype.push=function(a){return new f(a,this)};f.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};
var r=RegExp(/[&<>\"\']/),C=/&/g,x=/</g,s=/>/g,B=/\"/g,D=/\'/g;e.escapeHtml=function(a){return"string"===typeof a?!r.test(a)?a:a.replace(C,"\x26amp;").replace(x,"\x26lt;").replace(s,"\x26gt;").replace(B,"\x26quot;").replace(D,"\x26#39;"):a};var F=/\\/g,E=/\//g,z=/\r/g,N=/\u2028/g,M=/\u2029/g,y=/\n/g,w=/\f/g,v=/'/g,O=/"/g,G=/\t/g;e.escapeJs=function(a){return"string"===typeof a?a.replace(F,"\\\\").replace(E,"\\/").replace(O,'\\"').replace(v,"\\'").replace(z,"\\r").replace(N,"\\u2028").replace(M,"\\u2029").replace(y,
"\\n").replace(w,"\\f").replace(G,"\\t"):a};"object"===typeof exports?module.exports=e:b.dust=e})(this);(function(b){"true"===function(){var a=b.localStorage,c=b.sessionStorage;return{getValue:function(b){var h;(h=c&&c.getItem(b))||(h=a&&a.getItem(b));return h}}}().getValue("com.roox.cm.Common.App.Properties.unit.IsLogEnabled")&&b.dust&&(dust.debugLevel="DEBUG")})(this);
(function(b){function a(a){a=a.current();return"object"===typeof a&&!0===a.isSelect}function c(a,b){return"function"===typeof b?b.toString().replace(/(^\s+|\s+$)/mg,"").replace(/\n/mg,"").replace(/,\s*/mg,", ").replace(/\)\{/mg,") {"):b}function d(c,e,d,n,p){n=n||{};var q=d.block,t,r,C=n.filterOpType||"";if("undefined"!==typeof n.key)t=b.helpers.tap(n.key,c,e);else if(a(e))t=e.current().selectKey,e.current().isResolved&&(p=function(){return!1});else return g.log("No key specified for filter in:"+
C+" helper "),c;r=b.helpers.tap(n.value,c,e);if(p(h(r,n.type,e),h(t,n.type,e))){a(e)&&(e.current().isResolved=!0);if(q)return c.render(q,e);g.log("Missing body block in the "+C+" helper ")}else if(d["else"])return c.render(d["else"],e);return c}function h(a,b,c){if(a)switch(b||typeof a){case "number":return+a;case "string":return String(a);case "boolean":return Boolean("false"===a?!1:a);case "date":return new Date(a);case "context":return c.get(a)}return a}var g="undefined"!==typeof console?console:
{log:function(){}};b.helpers={tap:function(a,b,c){if("function"!==typeof a)return a;var d="";a=b.tap(function(a){d+=a;return""}).render(a,c);b.untap();return a.constructor!==b.constructor?a:""===d?!1:d},sep:function(a,b,c){return b.stack.index===b.stack.of-1?a:c.block?c.block(a,b):a},idx:function(a,b,c){return c.block?c.block(a,b.push(b.stack.index)):a},contextDump:function(a,e,d,h){h=h||{};d=h.to||"output";h=h.key||"current";d=b.helpers.tap(d,a,e);h=b.helpers.tap(h,a,e);e="full"===h?JSON.stringify(e.stack,
c,2):JSON.stringify(e.stack.head,c,2);return"console"===d?(g.log(e),a):a.write(e)},"if":function(a,c,d,h){var p=d.block,q=d["else"];if(h&&h.cond){h=h.cond;h=b.helpers.tap(h,a,c);if(eval(h)){if(p)return a.render(d.block,c);g.log("Missing body block in the if helper!");return a}if(q)return a.render(d["else"],c)}else g.log("No condition given in the if helper!");return a},math:function(a,c,d,h){if(h&&"undefined"!==typeof h.key&&h.method){var p=h.key,q=h.method,t=h.operand;h=h.round;var r=null,p=b.helpers.tap(p,
a,c),t=b.helpers.tap(t,a,c);switch(q){case "mod":(0===t||-0===t)&&g.log("operand for divide operation is 0/-0: expect Nan!");r=parseFloat(p)%parseFloat(t);break;case "add":r=parseFloat(p)+parseFloat(t);break;case "subtract":r=parseFloat(p)-parseFloat(t);break;case "multiply":r=parseFloat(p)*parseFloat(t);break;case "divide":(0===t||-0===t)&&g.log("operand for divide operation is 0/-0: expect Nan/Infinity!");r=parseFloat(p)/parseFloat(t);break;case "ceil":r=Math.ceil(parseFloat(p));break;case "floor":r=
Math.floor(parseFloat(p));break;case "round":r=Math.round(parseFloat(p));break;case "abs":r=Math.abs(parseFloat(p));break;default:g.log("method passed is not supported")}if(null!==r)return h&&(r=Math.round(r)),d&&d.block?a.render(d.block,c.push({isSelect:!0,isResolved:!1,selectKey:r})):a.write(r)}else g.log("Key is a required parameter for math helper along with method/operand!");return a},select:function(a,c,d,h){var p=d.block;if(h&&"undefined"!==typeof h.key){h=b.helpers.tap(h.key,a,c);if(p)return a.render(d.block,
c.push({isSelect:!0,isResolved:!1,selectKey:h}));g.log("Missing body block in the select helper ")}else g.log("No key given in the select helper!");return a},eq:function(a,b,c,g){g&&(g.filterOpType="eq");return d(a,b,c,g,function(a,b){return b===a})},ne:function(a,b,c,g){return g?(g.filterOpType="ne",d(a,b,c,g,function(a,b){return b!==a})):a},lt:function(a,b,c,g){if(g)return g.filterOpType="lt",d(a,b,c,g,function(a,b){return b<a})},lte:function(a,b,c,g){return g?(g.filterOpType="lte",d(a,b,c,g,function(a,
b){return b<=a})):a},gt:function(a,b,c,g){return g?(g.filterOpType="gt",d(a,b,c,g,function(a,b){return b>a})):a},gte:function(a,b,c,g){return g?(g.filterOpType="gte",d(a,b,c,g,function(a,b){return b>=a})):a},"default":function(a,b,c,g){g&&(g.filterOpType="default");return d(a,b,c,g,function(a,b){return!0})},size:function(a,c,d,g){c=0;var h;g=g||{};g=g.key;if(!g||!0===g)c=0;else if(b.isArray(g))c=g.length;else if(!isNaN(parseFloat(g))&&isFinite(g))c=g;else if("object"===typeof g)for(h in c=0,g)Object.hasOwnProperty.call(g,
h)&&c++;else c=(g+"").length;return a.write(c)}}})("undefined"!==typeof exports?module.exports=require("dustjs-linkedin"):dust);com.rooxteam.templates.nameWithModuleId=function(b,a){return a?a.toString()+"::"+b:b};dust.makeAlias=function(b,a){dust.cache[b]&&b!==a&&(dust.cache[a]=dust.cache[b])};
if("undefined"!==typeof dust&&dust.compile){var dustCompileOrig=dust.compile;dust.compile=function(b,a,c){return c?dustCompileOrig(b,com.rooxteam.templates.nameWithModuleId(a,c))+" dust.makeAlias('"+com.rooxteam.templates.nameWithModuleId(a,c)+"', '"+a+"');":dustCompileOrig(b,a)}}var dustRenderOrig=dust.render;dust.render=function(b,a,c,d){var h=dust.makeBase({moduleId:d});return dustRenderOrig(com.rooxteam.templates.nameWithModuleId(b,d),h.push(a),c)};com=com||{};com.rooxteam=com.rooxteam||{};
com.rooxteam.templates=com.rooxteam.templates||{};com.rooxteam.templates.render=function(b,a,c,d,h){return(new com.rooxteam.deferred.Deferred(function(g){dust.render(b,a,function(a,b){"function"===typeof c&&c.apply(h,arguments);if(null!==a)return gadgets.warn(a),g.rejectWith(h,[a]),!1;g.resolveWith(h,[b])},d)})).promise()};com.rooxteam.templates.compileTemplate=function(b,a,c){return dust.compile(b,a,c)};com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.i18n=com.rooxteam.i18n||{};
com.rooxteam.i18n._locales={};com.rooxteam.i18n._lang="*";com.rooxteam.i18n._defaultLang="ru_ru";com.rooxteam.i18n._updatedFromStorage=!1;
com.rooxteam.i18n.init=function(){function b(){if(com&&com.rooxteam&&com.rooxteam.sharedcontext){var b=com.rooxteam.sharedcontext.getDataContext().getDataSet(a)||com.rooxteam.i18n._defaultLang;com.rooxteam.i18n.setLanguage(b);com.rooxteam.i18n._updatedFromStorage=b!==com.rooxteam.i18n._defaultLang}}var a="com.roox.cm.Common.App.Properties.unit.LanguageName";b();gadgets.util.attachBrowserEvent(window,"storage",function(c){c.key===a&&b()},!1)};
com.rooxteam.i18n.updateLanguageFromUrl=function(b){var a,c={};if(window.widgetUrls&&window.widgetUrls.length){a=0;for(var d=window.widgetUrls.length;a<d;++a){var h=window.widgetUrls[a],c=[],g=void 0,f={},g=h?h.indexOf("?"):-1;-1!==g&&(c=h.substr(g+1).split("\x26"));for(var h=0,e=c.length;h<e;++h)g=c[h].split("\x3d"),f[g[0]]=g[1];c=f}}a=c;if(a.lang&&b)for(var m in b)b.hasOwnProperty(m)&&a.lang===m.substr(0,2)&&com.rooxteam.i18n.setLanguage(m)};
com.rooxteam.i18n.setLang=function(b){com.rooxteam.i18n._lang=b};com.rooxteam.i18n.getLanguage=function(){return com.rooxteam.i18n._lang};com.rooxteam.i18n.setLanguage=function(b){b=b.toLowerCase();b=(com.rooxteam.i18n._lang=b)&&b.substring(0,2);"undefined"!==typeof numeral&&numeral.language(b);"undefined"!==typeof moment&&moment.lang(b)};com.rooxteam.i18n.setLocales=function(b,a){com.rooxteam.i18n._locales[a]=b;com.rooxteam.i18n._updatedFromStorage||com.rooxteam.i18n.updateLanguageFromUrl(b)};
com.rooxteam.i18n.getLocales=function(b){return com.rooxteam.i18n._locales[b]};
com.rooxteam.i18n.compileLegacyProcessor=function(b){function a(a){$(b).each(function(){var b=$(this).attr("lang").toLowerCase();a===b&&$(this).children().each(function(){var a=$(this).attr("name");c.push({regexp:RegExp("__MSG_"+a+"__","gi"),replace:this.text||this.innerText||this.textContent})})})}var c=[],d=com.rooxteam.i18n.getLanguage().substring(0,2);a(d,c);c.length||a("all",c);return function(a){for(var b=0;b<c.length;b++)a=a.replace(c[b].regexp,c[b].replace);return a}};
com.rooxteam.i18n.compile=function(b,a,c){var d=[];b.children().each(function(){var a=$(this).attr("lang").toLowerCase(),b=$(this).attr("messages"),f=this.text||this.innerText||this.textContent;b?d.push($.ajax(c+b,{dataType:"json"}).pipe(function(b){return[b,a]})):f&&d.push($.Deferred(function(b){b.resolve(JSON.parse(f),a)}))});return $.when.apply(null,d).pipe(function(){for(var b={},c=Array.prototype.slice.call(arguments,0),d=0,e=c.length;d<e;d++)arguments[d][0]?b[c[d][1]]=c[d][0]:b["*"]=c[d][0];
return"\x3cscript type\x3d'text/javascript'\x3e com.rooxteam.i18n.setLocales("+JSON.stringify(b)+", '"+a+"');\x3c/script\x3e"})};
com.rooxteam.i18n.getTranslation=function(b,a,c){"undefined"===typeof c&&(c=0);return"undefined"!==typeof a&&"undefined"!==typeof com.rooxteam.i18n._locales[c]&&"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang]&&"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][a]&&"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][a][b]?com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][a][b]:"undefined"!==typeof com.rooxteam.i18n._locales[c]&&
"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang]&&"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][b]?com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][b]:b};
com.rooxteam.i18n.getTranslationNoun=function(b,a,c,d){return"ru_ru"===com.rooxteam.i18n._lang?com.rooxteam.i18n.getTranslationNounRu.call(this,b,com.rooxteam.i18n.getTranslation(a+"_one",c,d),com.rooxteam.i18n.getTranslation(a+"_two",c,d),com.rooxteam.i18n.getTranslation(a+"_five",c,d)):com.rooxteam.i18n.getTranslationNounUs.call(this,b,com.rooxteam.i18n.getTranslation(a+"_one",c,d),com.rooxteam.i18n.getTranslation(a+"_many",c,d))};
com.rooxteam.i18n.getTranslationNounUs=function(b,a,c){b=Math.abs(b);return 1<b?c:a};com.rooxteam.i18n.getTranslationNounRu=function(b,a,c,d){b=Math.abs(b);b%=100;if(5<=b&&20>=b)return d;b%=10;return 1===b?a:2<=b&&4>=b?c:d};com.rooxteam.i18n.init();
"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.i18n=function(b,a,c,d){a=a.get("moduleId");return b.write(com.rooxteam.i18n.getTranslation(d.key,d.namespace,a))},dust.helpers.i18noun=function(b,a,c,d){a=a.get("moduleId");return b.write(com.rooxteam.i18n.getTranslationNoun(d.number,d.prefix,d.namespace,a))});
gadgets.pubsub=function(){function b(b,d,h){b=a[b];if("undefined"!==typeof b)for(var g=b.length,f=0;f<g;f++){var e=b[f];"function"===typeof e&&e(d,h)}}var a={};return{publish:function(a,d){b(a,null,d)},subscribe:function(c,d){"undefined"===typeof a[c]&&(a[c]=[],gadgets.rpc.register("pubsub_widget",b),gadgets.rpc.call("..","pubsub",null,"subscribe",c));a[c].push(d)},unsubscribe:function(b,d){if("undefined"!==typeof a[b]){for(var h=a[b],g=h.length,f=0;f<g;f++)if(h[f]==d){h.splice(f,1);return}0==h.length&&
(delete a[b],gadgets.rpc.call("..","pubsub",null,"unsubscribe",b))}}}}();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.pubsub,"publish"],[gadgets.pubsub,"subscribe"],[gadgets.pubsub,"unsubscribe"]])});gadgets.window=gadgets.window||{};
(function(){gadgets.window.getViewportDimensions=function(){var b=0,a=0;self.innerHeight?(b=self.innerWidth,a=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(b=document.documentElement.clientWidth,a=document.documentElement.clientHeight):document.body&&(b=document.body.clientWidth,a=document.body.clientHeight);return{width:b,height:a}}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.window,"getViewportDimensions"]])});
gadgets.window=gadgets.window||{};(function(){gadgets.window.getWidth=function(){var b=gadgets.window.getViewportDimensions().width,a=document.body,c=document.documentElement;if("CSS1Compat"===document.compatMode&&c&&c.scrollWidth)return c.scrollWidth!==b?c.scrollWidth:c.offsetWidth;if(a)return c=a.scrollWidth,a=a.offsetWidth,c>b&&c>a?c:a}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.window,"getWidth"]])});gadgets.window=gadgets.window||{};
(function(){gadgets.window.adjustWidth=function(b){b=parseInt(b,10);var a=gadgets.window.getViewportDimensions().width,c=b||gadgets.window.getWidth();0<=navigator.userAgent.indexOf("AppleWebKit")&&a++;var d=null;isNaN(b)&&a>=c&&(d=function(){gadgets.window.adjustWidth()},c=1);gadgets.rpc.call(null,"resize_iframe_width",d,c)}})();var _IG_AdjustIFrameWidth=gadgets.window.adjustWidth;tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.window,"adjustWidth"]])});
gadgets.window=gadgets.window||{};
(function(){function b(a,b){window.getComputedStyle(a,"").getPropertyValue(b).match(/^([0-9]+)/);return parseInt(RegExp.$1,10)}gadgets.window.getHeight=function(){var a=gadgets.window.getViewportDimensions().height,c=document.body,d=document.documentElement;if("CSS1Compat"===document.compatMode&&d.scrollHeight)return d.scrollHeight!==a?d.scrollHeight:d.offsetHeight;if(0<=navigator.userAgent.indexOf("AppleWebKit")){a=0;for(c=[document.body];0<c.length;){var h=c.shift(),d=h.childNodes;if("undefined"!==
typeof h.style){var g=h.style.overflowY;g||(g=(g=document.defaultView.getComputedStyle(h,null))?g.overflowY:null);if("visible"!=g&&"inherit"!=g&&(g=h.style.height,g||(g=(g=document.defaultView.getComputedStyle(h,null))?g.height:""),0<g.length&&"auto"!=g))continue}for(h=0;h<d.length;h++){g=d[h];if("undefined"!==typeof g.offsetTop&&"undefined"!==typeof g.offsetHeight)var f=g.offsetTop+g.offsetHeight+b(g,"margin-bottom"),a=Math.max(a,f);c.push(g)}}return a+b(document.body,"border-bottom")+b(document.body,
"margin-bottom")+b(document.body,"padding-bottom")}if(c&&d)return h=d.scrollHeight,g=d.offsetHeight,d.clientHeight!==g&&(h=c.scrollHeight,g=c.offsetHeight),h>a?h>g?h:g:h<g?h:g}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.window,"getHeight"]])});gadgets.window=gadgets.window||{};
(function(){gadgets.window.adjustHeight=function(b){b=parseInt(b,10);isNaN(b)?gadgets.window.getContainerDimensions&&gadgets.window.getContainerDimensions(function(a){gadgets.rpc.call(null,"resize_iframe",null,a.height)}):gadgets.rpc.call(null,"resize_iframe",null,b)}})();var _IG_AdjustIFrameHeight=gadgets.window.adjustHeight;tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.window,"adjustHeight"]])});
gadgets.MiniMessage=function(b,a){this.numMessages_=0;this.moduleId_=b||0;this.container_="object"===typeof a?a:this.createContainer_()};gadgets.MiniMessage.prototype.createContainer_=function(){var b="mm_"+this.moduleId_,a=document.getElementById(b);a||(a=document.createElement("div"),a.id=b,document.body.insertBefore(a,document.body.firstChild));return a};
gadgets.MiniMessage.addCSS_=function(b){var a=document.getElementsByTagName("head")[0];if(a){var c=document.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=b:c.appendChild(document.createTextNode(b));a.insertBefore(c,a.firstChild)}};gadgets.MiniMessage.prototype.cascade_=function(b){return b+" "+b+this.moduleId_};gadgets.MiniMessage.prototype.dismissFunction_=function(b,a){return function(){if("function"!==typeof a||a())try{b.parentNode.removeChild(b)}catch(c){}}};
gadgets.MiniMessage.prototype.createDismissibleMessage=function(b,a){var c=this.createStaticMessage(b),d=document.createElement("td");d.width=10;var h=d.appendChild(document.createElement("span"));h.className=this.cascade_("mmlib_xlink");h.onclick=this.dismissFunction_(c,a);h.innerHTML="[x]";c.rows[0].appendChild(d);return c};gadgets.MiniMessage.prototype.createTimerMessage=function(b,a,c){b=this.createStaticMessage(b);window.setTimeout(this.dismissFunction_(b,c),1E3*a);return b};
gadgets.MiniMessage.prototype.createStaticMessage=function(b){var a=document.createElement("table");a.id="mm_"+this.moduleId_+"_"+this.numMessages_;a.className=this.cascade_("mmlib_table");a.cellSpacing=0;a.cellPadding=0;this.numMessages_++;var c=a.appendChild(document.createElement("tbody")).appendChild(document.createElement("tr")).appendChild(document.createElement("td"));if("object"===typeof b&&b.parentNode&&1===b.parentNode.nodeType){var d=b.cloneNode(!0);b.style.display="none";d.id="";c.appendChild(d);
b.parentNode.insertBefore(a,b.nextSibling)}else"object"===typeof b?c.appendChild(b):c.innerHTML=html_sanitize(b),this.container_.appendChild(a);return a};gadgets.MiniMessage.prototype.dismissMessage=function(b){this.dismissFunction_(b)()};gadgets.config.register("minimessage",{},function(b){gadgets.MiniMessage.addCSS_(b.minimessage.css.join(""))});var _IG_MiniMessage=gadgets.MiniMessage;
tamings___.push(function(b){caja___.whitelistCtors([[gadgets,"MiniMessage",Object]]);caja___.whitelistMeths([[gadgets.MiniMessage,"createDismissibleMessage"],[gadgets.MiniMessage,"createStaticMessage"],[gadgets.MiniMessage,"createTimerMessage"],[gadgets.MiniMessage,"dismissMessage"]])});
gadgets.json.xml=function(){function b(h,g){for(var f=0;f<h.length;f++){var e=h[f];if(e.nodeType==d){var m=e.nodeName,n=g[m];g[m]=null!=n?a(n,e.nodeValue):e.nodeValue}else if(0==e.childNodes.length)if(null!=e.attributes&&0!=e.attributes.length)if(m=e,e=g,n=e[m.nodeName],null==n)e[m.nodeName]={},c(m.attributes,e[m.nodeName]);else{var p={};c(m.attributes,p);e[m.nodeName]=a(n,p)}else g[e.nodeName]=null;else 1==e.childNodes.length&&e.firstChild.nodeType==d&&(null==e.attributes||0==e.attributes.length)?
(m=e.nodeName,e=e.firstChild,n=g[m],g[m]=null!=n?a(n,e.nodeValue):e.nodeValue):(m=g,n=m[e.nodeName],null==n?(m[e.nodeName]={},null!=e.attributes&&0!=e.attributes.length&&c(e.attributes,m[e.nodeName]),b(e.childNodes,m[e.nodeName])):(p={},null!=e.attributes&&0!=e.attributes.length&&c(e.attributes,p),b(e.childNodes,p),m[e.nodeName]=a(n,p)))}}function a(a,b){return a instanceof Array?(a[a.length]=b,a):[a,b]}function c(a,b){for(var c=null,e=0;e<a.length;e++)c=a[e],b["@"+c.nodeName]=c.nodeValue}var d=3;
return{convertXmlToJson:function(a){var c={};b(a.childNodes,c);return c}}}();tamings___.push(function(b){caja___.tamesTo(gadgets.json.xml.convertXmlToJson,caja___.getTameGlobal().safeJSON.convertXmlToJson)});
var Base64=function(){return{encode:function(b){var a="",c,d,h,g,f,e,m=0;do c=b.charCodeAt(m++),d=b.charCodeAt(m++),h=b.charCodeAt(m++),g=c>>2,c=(c&3)<<4|d>>4,f=(d&15)<<2|h>>6,e=h&63,isNaN(d)?f=e=64:isNaN(h)&&(e=64),a=a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(e);
while(m<b.length);return a},decode:function(b){var a="",c,d,h,g,f,e=0;b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(b.charAt(e++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(b.charAt(e++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(b.charAt(e++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(b.charAt(e++)),c=c<<2|
d>>4,d=(d&15)<<4|g>>2,h=(g&3)<<6|f,a+=String.fromCharCode(c),64!=g&&(a+=String.fromCharCode(d)),64!=f&&(a+=String.fromCharCode(h));while(e<b.length);return a}}}(),MD5=function(){var b=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},a=function(a){for(var b=[],c=0;c<8*a.length;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<c%32;return b},c=function(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b},d=function(a){for(var b="",c=0;c<
4*a.length;c++)b+="0123456789abcdef".charAt(a[c>>2]>>8*(c%4)+4&15)+"0123456789abcdef".charAt(a[c>>2]>>8*(c%4)&15);return b},h=function(a){for(var b="",c,e,d=0;d<4*a.length;d+=3){c=(a[d>>2]>>8*(d%4)&255)<<16|(a[d+1>>2]>>8*((d+1)%4)&255)<<8|a[d+2>>2]>>8*((d+2)%4)&255;for(e=0;4>e;e++)b=8*d+6*e>32*a.length?b+"":b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>6*(3-e)&63)}return b},g=function(a,c,e,d,f,g){a=b(b(c,a),b(d,g));return b(a<<f|a>>>32-f,e)},f=function(a,b,c,e,d,
f,h){return g(b&c|~b&e,a,b,d,f,h)},e=function(a,b,c,e,d,f,h){return g(b&e|c&~e,a,b,d,f,h)},m=function(a,b,c,e,d,f,h){return g(c^(b|~e),a,b,d,f,h)},n=function(a,c){a[c>>5]|=128<<c%32;a[(c+64>>>9<<4)+14]=c;for(var d=1732584193,h=-271733879,p=-1732584194,n=271733878,B,D,F,E,z=0;z<a.length;z+=16)B=d,D=h,F=p,E=n,d=f(d,h,p,n,a[z+0],7,-680876936),n=f(n,d,h,p,a[z+1],12,-389564586),p=f(p,n,d,h,a[z+2],17,606105819),h=f(h,p,n,d,a[z+3],22,-1044525330),d=f(d,h,p,n,a[z+4],7,-176418897),n=f(n,d,h,p,a[z+5],12,1200080426),
p=f(p,n,d,h,a[z+6],17,-1473231341),h=f(h,p,n,d,a[z+7],22,-45705983),d=f(d,h,p,n,a[z+8],7,1770035416),n=f(n,d,h,p,a[z+9],12,-1958414417),p=f(p,n,d,h,a[z+10],17,-42063),h=f(h,p,n,d,a[z+11],22,-1990404162),d=f(d,h,p,n,a[z+12],7,1804603682),n=f(n,d,h,p,a[z+13],12,-40341101),p=f(p,n,d,h,a[z+14],17,-1502002290),h=f(h,p,n,d,a[z+15],22,1236535329),d=e(d,h,p,n,a[z+1],5,-165796510),n=e(n,d,h,p,a[z+6],9,-1069501632),p=e(p,n,d,h,a[z+11],14,643717713),h=e(h,p,n,d,a[z+0],20,-373897302),d=e(d,h,p,n,a[z+5],5,-701558691),
n=e(n,d,h,p,a[z+10],9,38016083),p=e(p,n,d,h,a[z+15],14,-660478335),h=e(h,p,n,d,a[z+4],20,-405537848),d=e(d,h,p,n,a[z+9],5,568446438),n=e(n,d,h,p,a[z+14],9,-1019803690),p=e(p,n,d,h,a[z+3],14,-187363961),h=e(h,p,n,d,a[z+8],20,1163531501),d=e(d,h,p,n,a[z+13],5,-1444681467),n=e(n,d,h,p,a[z+2],9,-51403784),p=e(p,n,d,h,a[z+7],14,1735328473),h=e(h,p,n,d,a[z+12],20,-1926607734),d=g(h^p^n,d,h,a[z+5],4,-378558),n=g(d^h^p,n,d,a[z+8],11,-2022574463),p=g(n^d^h,p,n,a[z+11],16,1839030562),h=g(p^n^d,h,p,a[z+14],
23,-35309556),d=g(h^p^n,d,h,a[z+1],4,-1530992060),n=g(d^h^p,n,d,a[z+4],11,1272893353),p=g(n^d^h,p,n,a[z+7],16,-155497632),h=g(p^n^d,h,p,a[z+10],23,-1094730640),d=g(h^p^n,d,h,a[z+13],4,681279174),n=g(d^h^p,n,d,a[z+0],11,-358537222),p=g(n^d^h,p,n,a[z+3],16,-722521979),h=g(p^n^d,h,p,a[z+6],23,76029189),d=g(h^p^n,d,h,a[z+9],4,-640364487),n=g(d^h^p,n,d,a[z+12],11,-421815835),p=g(n^d^h,p,n,a[z+15],16,530742520),h=g(p^n^d,h,p,a[z+2],23,-995338651),d=m(d,h,p,n,a[z+0],6,-198630844),n=m(n,d,h,p,a[z+7],10,1126891415),
p=m(p,n,d,h,a[z+14],15,-1416354905),h=m(h,p,n,d,a[z+5],21,-57434055),d=m(d,h,p,n,a[z+12],6,1700485571),n=m(n,d,h,p,a[z+3],10,-1894986606),p=m(p,n,d,h,a[z+10],15,-1051523),h=m(h,p,n,d,a[z+1],21,-2054922799),d=m(d,h,p,n,a[z+8],6,1873313359),n=m(n,d,h,p,a[z+15],10,-30611744),p=m(p,n,d,h,a[z+6],15,-1560198380),h=m(h,p,n,d,a[z+13],21,1309151649),d=m(d,h,p,n,a[z+4],6,-145523070),n=m(n,d,h,p,a[z+11],10,-1120210379),p=m(p,n,d,h,a[z+2],15,718787259),h=m(h,p,n,d,a[z+9],21,-343485551),d=b(d,B),h=b(h,D),p=b(p,
F),n=b(n,E);return[d,h,p,n]},p=function(b,c){var e=a(b);16<e.length&&(e=n(e,8*b.length));for(var d=Array(16),f=Array(16),g=0;16>g;g++)d[g]=e[g]^909522486,f[g]=e[g]^1549556828;e=n(d.concat(a(c)),512+8*c.length);return n(f.concat(e),640)};return{hexdigest:function(b){return d(n(a(b),8*b.length))},b64digest:function(b){return h(n(a(b),8*b.length))},hash:function(b){return c(n(a(b),8*b.length))},hmac_hexdigest:function(a,b){return d(p(a,b))},hmac_b64digest:function(a,b){return h(p(a,b))},hmac_hash:function(a,
b){return c(p(a,b))},test:function(){return"900150983cd24fb0d6963f7d28e17f72"===MD5.hexdigest("abc")}}}();Function.prototype.bind||(Function.prototype.bind=function(b){var a=this,c=Array.prototype.slice,d=Array.prototype.concat,h=c.call(arguments,1);return function(){return a.apply(b?b:this,d.call(h,c.call(arguments,0)))}});
Array.prototype.indexOf||(Array.prototype.indexOf=function(b,a){var c=this.length,d=Number(a)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in this&&this[d]===b)return d;return-1});
(function(b){function a(a,b){return new g.Builder(a,b)}function c(a){return new g.Builder("message",a)}function d(a){return new g.Builder("iq",a)}function h(a){return new g.Builder("presence",a)}var g;g={VERSION:"1.0.2",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",
SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas"},addNamespace:function(a,b){g.NS[a]=b},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4},TIMEOUT:1.1,
SECONDARY_TIMEOUT:0.1,forEachChild:function(a,b,c){var d,h;for(d=0;d<a.childNodes.length;d++)h=a.childNodes[d],h.nodeType==g.ElementType.NORMAL&&(!b||this.isTagEqual(h,b))&&c(h)},isTagEqual:function(a,b){return a.tagName.toLowerCase()==b.toLowerCase()},_xmlGenerator:null,_makeGenerator:function(){var a;void 0===document.implementation.createDocument?(a=this._getIEXmlDom(),a.appendChild(a.createElement("strophe"))):a=document.implementation.createDocument("jabber:client","strophe",null);return a},
xmlGenerator:function(){g._xmlGenerator||(g._xmlGenerator=g._makeGenerator());return g._xmlGenerator},_getIEXmlDom:function(){for(var a=null,b="Msxml2.DOMDocument.6.0 Msxml2.DOMDocument.5.0 Msxml2.DOMDocument.4.0 MSXML2.DOMDocument.3.0 MSXML2.DOMDocument MSXML.DOMDocument Microsoft.XMLDOM".split(" "),c=0;c<b.length;c++)if(null===a)try{a=new ActiveXObject(b[c])}catch(d){a=null}else break;return a},xmlElement:function(a){if(!a)return null;var b=g.xmlGenerator().createElement(a),c,d,h;for(c=1;c<arguments.length;c++)if(arguments[c])if("string"==
typeof arguments[c]||"number"==typeof arguments[c])b.appendChild(g.xmlTextNode(arguments[c]));else if("object"==typeof arguments[c]&&"function"==typeof arguments[c].sort)for(d=0;d<arguments[c].length;d++)"object"==typeof arguments[c][d]&&"function"==typeof arguments[c][d].sort&&b.setAttribute(arguments[c][d][0],arguments[c][d][1]);else if("object"==typeof arguments[c])for(h in arguments[c])arguments[c].hasOwnProperty(h)&&b.setAttribute(h,arguments[c][h]);return b},xmlescape:function(a){a=a.replace(/\&/g,
"\x26amp;");a=a.replace(/</g,"\x26lt;");a=a.replace(/>/g,"\x26gt;");a=a.replace(/'/g,"\x26apos;");return a=a.replace(/"/g,"\x26quot;")},xmlTextNode:function(a){a=g.xmlescape(a);return g.xmlGenerator().createTextNode(a)},getText:function(a){if(!a)return null;var b="";0===a.childNodes.length&&a.nodeType==g.ElementType.TEXT&&(b+=a.nodeValue);for(var c=0;c<a.childNodes.length;c++)a.childNodes[c].nodeType==g.ElementType.TEXT&&(b+=a.childNodes[c].nodeValue);return b},copyElement:function(a){var b,c;if(a.nodeType==
g.ElementType.NORMAL){c=g.xmlElement(a.tagName);for(b=0;b<a.attributes.length;b++)c.setAttribute(a.attributes[b].nodeName.toLowerCase(),a.attributes[b].value);for(b=0;b<a.childNodes.length;b++)c.appendChild(g.copyElement(a.childNodes[b]))}else a.nodeType==g.ElementType.TEXT&&(c=g.xmlGenerator().createTextNode(a.nodeValue));return c},escapeNode:function(a){return a.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,
"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(a){return a.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"\x26").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"\x3c").replace(/\\3e/g,"\x3e").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(a){return 0>a.indexOf("@")?null:a.split("@")[0]},getDomainFromJid:function(a){a=g.getBareJidFromJid(a);if(0>a.indexOf("@"))return a;
a=a.split("@");a.splice(0,1);return a.join("@")},getResourceFromJid:function(a){a=a.split("/");if(2>a.length)return null;a.splice(0,1);return a.join("/")},getBareJidFromJid:function(a){return a?a.split("/")[0]:null},log:function(a,b){},debug:function(a){this.log(this.LogLevel.DEBUG,a)},info:function(a){this.log(this.LogLevel.INFO,a)},warn:function(a){this.log(this.LogLevel.WARN,a)},error:function(a){this.log(this.LogLevel.ERROR,a)},fatal:function(a){this.log(this.LogLevel.FATAL,a)},serialize:function(a){var b;
if(!a)return null;"function"===typeof a.tree&&(a=a.tree());var c=a.nodeName,d,h;a.getAttribute("_realname")&&(c=a.getAttribute("_realname"));b="\x3c"+c;for(d=0;d<a.attributes.length;d++)"_realname"!=a.attributes[d].nodeName&&(b+=" "+a.attributes[d].nodeName.toLowerCase()+"\x3d'"+a.attributes[d].value.replace(/&/g,"\x26amp;").replace(/\'/g,"\x26apos;").replace(/</g,"\x26lt;")+"'");if(0<a.childNodes.length){b+="\x3e";for(d=0;d<a.childNodes.length;d++)switch(h=a.childNodes[d],h.nodeType){case g.ElementType.NORMAL:b+=
g.serialize(h);break;case g.ElementType.TEXT:b+=g.xmlescape(h.nodeValue);break;case g.ElementType.CDATA:b+="\x3c![CDATA["+h.nodeValue+"]]\x3e"}b+="\x3c/"+c+"\x3e"}else b+="/\x3e";return b},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(a,b){g._connectionPlugins[a]=b},Builder:function(a,b){if("presence"==a||"message"==a||"iq"==a)b&&!b.xmlns?b.xmlns=g.NS.CLIENT:b||(b={xmlns:g.NS.CLIENT});this.node=this.nodeTree=g.xmlElement(a,b)}};g.Builder.prototype={tree:function(){return this.nodeTree},
toString:function(){return g.serialize(this.nodeTree)},up:function(){this.node=this.node.parentNode;return this},attrs:function(a){for(var b in a)a.hasOwnProperty(b)&&this.node.setAttribute(b,a[b]);return this},c:function(a,b,c){a=g.xmlElement(a,b,c);this.node.appendChild(a);c||(this.node=a);return this},cnode:function(a){var b=g.xmlGenerator();try{var c=void 0!==b.importNode}catch(d){c=!1}a=c?b.importNode(a,!0):g.copyElement(a);this.node.appendChild(a);this.node=a;return this},t:function(a){a=g.xmlTextNode(a);
this.node.appendChild(a);return this}};g.Handler=function(a,b,c,d,h,q,t){this.handler=a;this.ns=b;this.name=c;this.type=d;this.id=h;this.options=t||{matchbare:!1};this.options.matchBare||(this.options.matchBare=!1);this.from=this.options.matchBare?q?g.getBareJidFromJid(q):null:q;this.user=!0};g.Handler.prototype={isMatch:function(a){var b,c=null,c=this.options.matchBare?g.getBareJidFromJid(a.getAttribute("from")):a.getAttribute("from");b=!1;if(this.ns){var d=this;g.forEachChild(a,null,function(a){a.getAttribute("xmlns")==
d.ns&&(b=!0)});b=b||a.getAttribute("xmlns")==this.ns}else b=!0;return b&&(!this.name||g.isTagEqual(a,this.name))&&(!this.type||a.getAttribute("type")==this.type)&&(!this.id||a.getAttribute("id")==this.id)&&(!this.from||c==this.from)?!0:!1},run:function(a){var b=null;try{b=this.handler(a)}catch(c){throw c.sourceURL?g.fatal("error: "+this.handler+" "+c.sourceURL+":"+c.line+" - "+c.name+": "+c.message):c.fileName?("undefined"!=typeof console&&(console.trace(),console.error(this.handler," - error - ",
c,c.message)),g.fatal("error: "+this.handler+" "+c.fileName+":"+c.lineNumber+" - "+c.name+": "+c.message)):g.fatal("error: "+this.handler),c;}return b},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}};g.TimedHandler=function(a,b){this.period=a;this.handler=b;this.lastCalled=(new Date).getTime();this.user=!0};g.TimedHandler.prototype={run:function(){this.lastCalled=(new Date).getTime();return this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},
toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}};g.Request=function(a,b,c,d){this.id=++g._requestId;this.xmlData=a;this.data=g.serialize(a);this.func=this.origFunc=b;this.rid=c;this.date=NaN;this.sends=d||0;this.abort=!1;this.dead=null;this.age=function(){return!this.date?0:(new Date-this.date)/1E3};this.timeDead=function(){return!this.dead?0:(new Date-this.dead)/1E3};this.xhr=this._newXHR()};g.Request.prototype={getResponse:function(){var a=null;if(this.xhr.responseXML&&
this.xhr.responseXML.documentElement){if(a=this.xhr.responseXML.documentElement,"parsererror"==a.tagName)throw g.error("invalid response received"),g.error("responseText: "+this.xhr.responseText),g.error("responseXML: "+g.serialize(this.xhr.responseXML)),"parsererror";}else this.xhr.responseText&&(g.error("invalid response received"),g.error("responseText: "+this.xhr.responseText),g.error("responseXML: "+g.serialize(this.xhr.responseXML)));return a},_newXHR:function(){var a=null;window.XMLHttpRequest?
(a=new XMLHttpRequest,a.overrideMimeType&&a.overrideMimeType("text/xml")):window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLHTTP"));a.onreadystatechange=this.func.bind(null,this);return a}};g.Connection=function(a){this.service=a;this.jid="";this.rid=Math.floor(4294967295*Math.random());this.features=this.streamId=this.sid=null;this.do_bind=this.do_session=!1;this.timedHandlers=[];this.handlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[];this._disconnectTimeout=
this._idleTimeout=null;this.connected=this.disconnecting=this.authenticated=!1;this.errors=0;this.paused=!1;this.hold=1;this.wait=60;this.window=5;this._data=[];this._requests=[];this._uniqueId=Math.round(1E4*Math.random());this._sasl_challenge_handler=this._sasl_failure_handler=this._sasl_success_handler=null;this._idleTimeout=setTimeout(this._onIdle.bind(this),100);for(var b in g._connectionPlugins)g._connectionPlugins.hasOwnProperty(b)&&(a=function(){},a.prototype=g._connectionPlugins[b],this[b]=
new a,this[b].init(this))};g.Connection.prototype={reset:function(){this.rid=Math.floor(4294967295*Math.random());this.streamId=this.sid=null;this.do_bind=this.do_session=!1;this.timedHandlers=[];this.handlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[];this.connected=this.disconnecting=this.authenticated=!1;this.errors=0;this._requests=[];this._uniqueId=Math.round(1E4*Math.random())},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(a){return"string"==
typeof a||"number"==typeof a?++this._uniqueId+":"+a:++this._uniqueId+""},connect:function(a,b,c,d,h){this.jid=a;this.pass=b;this.connect_callback=c;this.authenticated=this.connected=this.disconnecting=!1;this.errors=0;this.wait=d||this.wait;this.hold=h||this.hold;this.domain=g.getDomainFromJid(this.jid);a=this._buildBody().attrs({to:this.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset\x3dutf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":g.NS.BOSH});this._changeConnectStatus(g.Status.CONNECTING,
null);this._requests.push(new g.Request(a.tree(),this._onRequestStateChange.bind(this,this._connect_cb.bind(this)),a.tree().getAttribute("rid")));this._throttledRequestHandler()},attach:function(a,b,c,d,h,q,t){this.jid=a;this.sid=b;this.rid=c;this.connect_callback=d;this.domain=g.getDomainFromJid(this.jid);this.connected=this.authenticated=!0;this.wait=h||this.wait;this.hold=q||this.hold;this.window=t||this.window;this._changeConnectStatus(g.Status.ATTACHED,null)},xmlInput:function(a){},xmlOutput:function(a){},
rawInput:function(a){},rawOutput:function(a){},send:function(a){if(null!==a){if("function"===typeof a.sort)for(var b=0;b<a.length;b++)this._queueData(a[b]);else"function"===typeof a.tree?this._queueData(a.tree()):this._queueData(a);this._throttledRequestHandler();clearTimeout(this._idleTimeout);this._idleTimeout=setTimeout(this._onIdle.bind(this),100)}},flush:function(){clearTimeout(this._idleTimeout);this._onIdle()},sendIQ:function(a,b,c,d){var g=null,h=this;"function"===typeof a.tree&&(a=a.tree());
var t=a.getAttribute("id");t||(t=this.getUniqueId("sendIQ"),a.setAttribute("id",t));var r=this.addHandler(function(a){g&&h.deleteTimedHandler(g);var d=a.getAttribute("type");if("result"==d)b&&b(a);else if("error"==d)c&&c(a);else throw{name:"StropheError",message:"Got bad IQ type of "+d};},null,"iq",null,t);d&&(g=this.addTimedHandler(d,function(){h.deleteHandler(r);c&&c(null);return!1}));this.send(a);return t},_queueData:function(a){if(null===a||!a.tagName||!a.childNodes)throw{name:"StropheError",
message:"Cannot queue non-DOMElement."};this._data.push(a)},_sendRestart:function(){this._data.push("restart");this._throttledRequestHandler();clearTimeout(this._idleTimeout);this._idleTimeout=setTimeout(this._onIdle.bind(this),100)},addTimedHandler:function(a,b){var c=new g.TimedHandler(a,b);this.addTimeds.push(c);return c},deleteTimedHandler:function(a){this.removeTimeds.push(a)},addHandler:function(a,b,c,d,h,q,t){a=new g.Handler(a,b,c,d,h,q,t);this.addHandlers.push(a);return a},deleteHandler:function(a){this.removeHandlers.push(a)},
disconnect:function(a){this._changeConnectStatus(g.Status.DISCONNECTING,a);g.info("Disconnect was called because: "+a);this.connected&&(this._disconnectTimeout=this._addSysTimedHandler(3E3,this._onDisconnectTimeout.bind(this)),this._sendTerminate())},_changeConnectStatus:function(a,b){for(var c in g._connectionPlugins)if(g._connectionPlugins.hasOwnProperty(c)){var d=this[c];if(d.statusChanged)try{d.statusChanged(a,b)}catch(h){g.error(""+c+" plugin caused an exception changing status: "+h)}}if(this.connect_callback)try{this.connect_callback(a,
b)}catch(q){g.error("User connection callback caused an exception: "+q)}},_buildBody:function(){var b=a("body",{rid:this.rid++,xmlns:g.NS.HTTPBIND});null!==this.sid&&b.attrs({sid:this.sid});return b},_removeRequest:function(a){g.debug("removing request");var b;for(b=this._requests.length-1;0<=b;b--)a==this._requests[b]&&this._requests.splice(b,1);a.xhr.onreadystatechange=function(){};this._throttledRequestHandler()},_restartRequest:function(a){var b=this._requests[a];null===b.dead&&(b.dead=new Date);
this._processRequest(a)},_processRequest:function(a){var b=this._requests[a],c=-1;try{4==b.xhr.readyState&&(c=b.xhr.status)}catch(d){g.error("caught an error in _requests["+a+"], reqStatus: "+c)}"undefined"==typeof c&&(c=-1);if(5<b.sends)this._onDisconnectTimeout();else{var h=b.age(),h=!isNaN(h)&&h>Math.floor(g.TIMEOUT*this.wait),q=null!==b.dead&&b.timeDead()>Math.floor(g.SECONDARY_TIMEOUT*this.wait),c=4==b.xhr.readyState&&(1>c||500<=c);if(h||q||c)q&&g.error("Request "+this._requests[a].id+" timed out (secondary), restarting"),
b.abort=!0,b.xhr.abort(),b.xhr.onreadystatechange=function(){},this._requests[a]=new g.Request(b.xmlData,b.origFunc,b.rid,b.sends),b=this._requests[a];if(0===b.xhr.readyState){g.debug("request id "+b.id+"."+b.sends+" posting");try{b.xhr.open("POST",this.service,!0)}catch(t){g.error("XHR open failed.");this.connected||this._changeConnectStatus(g.Status.CONNFAIL,"bad-service");this.disconnect();return}a=function(){b.date=new Date;b.xhr.send(b.data)};1<b.sends?(c=1E3*Math.min(Math.floor(g.TIMEOUT*this.wait),
Math.pow(b.sends,3)),setTimeout(a,c)):a();b.sends++;this.xmlOutput!==g.Connection.prototype.xmlOutput&&this.xmlOutput(b.xmlData);this.rawOutput!==g.Connection.prototype.rawOutput&&this.rawOutput(b.data)}else g.debug("_processRequest: "+(0===a?"first":"second")+" request has readyState of "+b.xhr.readyState)}},_throttledRequestHandler:function(){this._requests?g.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):g.debug("_throttledRequestHandler called with undefined requests");
this._requests&&0!==this._requests.length&&(0<this._requests.length&&this._processRequest(0),1<this._requests.length&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))},_onRequestStateChange:function(a,b){g.debug("request id "+b.id+"."+b.sends+" state changed to "+b.xhr.readyState);if(b.abort)b.abort=!1;else{var c;if(4==b.xhr.readyState){c=0;try{c=b.xhr.status}catch(d){}"undefined"==typeof c&&(c=0);if(this.disconnecting&&400<=c)this._hitError(c);else{var h=
this._requests[0]==b,q=this._requests[1]==b;if(0<c&&500>c||5<b.sends)this._removeRequest(b),g.debug("request id "+b.id+" should now be removed");if(200==c)(q||h&&0<this._requests.length&&this._requests[0].age()>Math.floor(g.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),g.debug("request id "+b.id+"."+b.sends+" got 200"),a(b),this.errors=0;else if(g.error("request id "+b.id+"."+b.sends+" error "+c+" happened"),0===c||400<=c&&600>c||12E3<=c)this._hitError(c),400<=c&&500>c&&(this._changeConnectStatus(g.Status.DISCONNECTING,
null),this._doDisconnect());0<c&&500>c||5<b.sends||this._throttledRequestHandler()}}}},_hitError:function(a){this.errors++;g.warn("request errored, status: "+a+", number of errors: "+this.errors);4<this.errors&&this._onDisconnectTimeout()},_doDisconnect:function(){g.info("_doDisconnect was called");this.disconnecting=this.authenticated=!1;this.streamId=this.sid=null;this.rid=Math.floor(4294967295*Math.random());this.connected&&(this._changeConnectStatus(g.Status.DISCONNECTED,null),this.connected=
!1);this.handlers=[];this.timedHandlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[]},_dataRecv:function(a){try{var b=a.getResponse()}catch(c){if("parsererror"!=c)throw c;this.disconnect("strophe-parsererror")}if(null!==b){this.xmlInput!==g.Connection.prototype.xmlInput&&this.xmlInput(b);for(this.rawInput!==g.Connection.prototype.rawInput&&this.rawInput(g.serialize(b));0<this.removeHandlers.length;)a=this.removeHandlers.pop(),a=this.handlers.indexOf(a),0<=a&&
this.handlers.splice(a,1);for(;0<this.addHandlers.length;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&0===this._requests.length)this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null,this._doDisconnect();else if(a=b.getAttribute("type"),null!==a&&"terminate"==a)this.disconnecting||(a=b.getAttribute("condition"),b=b.getElementsByTagName("conflict"),null!==a?("remote-stream-error"==a&&0<b.length&&(a="conflict"),this._changeConnectStatus(g.Status.CONNFAIL,
a)):this._changeConnectStatus(g.Status.CONNFAIL,"unknown"),this.disconnect());else{var d=this;g.forEachChild(b,null,function(a){var b,c;c=d.handlers;d.handlers=[];for(b=0;b<c.length;b++){var e=c[b];try{e.isMatch(a)&&(d.authenticated||!e.user)?e.run(a)&&d.handlers.push(e):d.handlers.push(e)}catch(f){}}})}}},_sendTerminate:function(){g.info("_sendTerminate was called");var a=this._buildBody().attrs({type:"terminate"});this.authenticated&&a.c("presence",{xmlns:g.NS.CLIENT,type:"unavailable"});this.disconnecting=
!0;a=new g.Request(a.tree(),this._onRequestStateChange.bind(this,this._dataRecv.bind(this)),a.tree().getAttribute("rid"));this._requests.push(a);this._throttledRequestHandler()},_connect_cb:function(b){g.info("_connect_cb was called");this.connected=!0;if(b=b.getResponse()){this.xmlInput!==g.Connection.prototype.xmlInput&&this.xmlInput(b);this.rawInput!==g.Connection.prototype.rawInput&&this.rawInput(g.serialize(b));var c=b.getAttribute("type");if(null!==c&&"terminate"==c)c=b.getAttribute("condition"),
b=b.getElementsByTagName("conflict"),null!==c?("remote-stream-error"==c&&0<b.length&&(c="conflict"),this._changeConnectStatus(g.Status.CONNFAIL,c)):this._changeConnectStatus(g.Status.CONNFAIL,"unknown");else{this.sid||(this.sid=b.getAttribute("sid"));this.stream_id||(this.stream_id=b.getAttribute("authid"));if(c=b.getAttribute("requests"))this.window=parseInt(c,10);if(c=b.getAttribute("hold"))this.hold=parseInt(c,10);if(c=b.getAttribute("wait"))this.wait=parseInt(c,10);var h=c=!1,n=!1;b=b.getElementsByTagName("mechanism");
var p,q;if(0<b.length){for(p=0;p<b.length;p++)q=g.getText(b[p]),"DIGEST-MD5"==q?h=!0:"PLAIN"==q?c=!0:"ANONYMOUS"==q&&(n=!0);null===g.getNodeFromJid(this.jid)&&n?(this._changeConnectStatus(g.Status.AUTHENTICATING,null),this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this.send(a("auth",{xmlns:g.NS.SASL,mechanism:"ANONYMOUS"}).tree())):null===
g.getNodeFromJid(this.jid)?(this._changeConnectStatus(g.Status.CONNFAIL,"x-strophe-bad-non-anon-jid"),this.disconnect()):h?(this._changeConnectStatus(g.Status.AUTHENTICATING,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge1_cb.bind(this),null,"challenge",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this.send(a("auth",{xmlns:g.NS.SASL,mechanism:"DIGEST-MD5"}).tree())):c?(b=g.getBareJidFromJid(this.jid),
b=b+"\x00"+g.getNodeFromJid(this.jid),b+="\x00",b+=this.pass,this._changeConnectStatus(g.Status.AUTHENTICATING,null),this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),b=Base64.encode(b),this.send(a("auth",{xmlns:g.NS.SASL,mechanism:"PLAIN"}).t(b).tree())):(this._changeConnectStatus(g.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),
null,null,null,"_auth_1"),this.send(d({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:g.NS.AUTH}).c("username",{}).t(g.getNodeFromJid(this.jid)).tree()))}else b=this._buildBody(),this._requests.push(new g.Request(b.tree(),this._onRequestStateChange.bind(this,this._connect_cb.bind(this)),b.tree().getAttribute("rid"))),this._throttledRequestHandler()}}},_sasl_challenge1_cb:function(b){var c=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,d=Base64.decode(g.getText(b));b=MD5.hexdigest(""+1234567890*Math.random());
var h="",p=null,q="",t;for(this.deleteHandler(this._sasl_failure_handler);d.match(c);)switch(t=d.match(c),d=d.replace(t[0],""),t[2]=t[2].replace(/^"(.+)"$/,"$1"),t[1]){case "realm":h=t[2];break;case "nonce":q=t[2];break;case "host":p=t[2]}c="xmpp/"+this.domain;null!==p&&(c=c+"/"+p);p=MD5.hash(g.getNodeFromJid(this.jid)+":"+h+":"+this.pass)+":"+q+":"+b;d="AUTHENTICATE:"+c;t=""+("username\x3d"+this._quote(g.getNodeFromJid(this.jid))+",");t+="realm\x3d"+this._quote(h)+",";t+="nonce\x3d"+this._quote(q)+
",";t+="cnonce\x3d"+this._quote(b)+",";t+='nc\x3d"00000001",qop\x3d"auth",';t+="digest-uri\x3d"+this._quote(c)+",";t+="response\x3d"+this._quote(MD5.hexdigest(MD5.hexdigest(p)+":"+q+":00000001:"+b+":auth:"+MD5.hexdigest(d)))+",";t+='charset\x3d"utf-8"';this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge2_cb.bind(this),null,"challenge",null,null);this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null);this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),
null,"failure",null,null);this.send(a("response",{xmlns:g.NS.SASL}).t(Base64.encode(t)).tree());return!1},_quote:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},_sasl_challenge2_cb:function(b){this.deleteHandler(this._sasl_success_handler);this.deleteHandler(this._sasl_failure_handler);this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null);this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,
"failure",null,null);this.send(a("response",{xmlns:g.NS.SASL}).tree());return!1},_auth1_cb:function(a){a=d({type:"set",id:"_auth_2"}).c("query",{xmlns:g.NS.AUTH}).c("username",{}).t(g.getNodeFromJid(this.jid)).up().c("password").t(this.pass);g.getResourceFromJid(this.jid)||(this.jid=g.getBareJidFromJid(this.jid)+"/strophe");a.up().c("resource",{}).t(g.getResourceFromJid(this.jid));this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2");this.send(a.tree());return!1},_sasl_success_cb:function(a){g.info("SASL authentication succeeded.");
this.deleteHandler(this._sasl_failure_handler);this._sasl_failure_handler=null;this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);this._addSysHandler(this._sasl_auth1_cb.bind(this),null,"stream:features",null,null);this._sendRestart();return!1},_sasl_auth1_cb:function(a){this.features=a;var b,c;for(b=0;b<a.childNodes.length;b++)c=a.childNodes[b],"bind"==c.nodeName&&(this.do_bind=!0),"session"==c.nodeName&&(this.do_session=!0);this.do_bind?
(this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2"),(a=g.getResourceFromJid(this.jid))?this.send(d({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:g.NS.BIND}).c("resource",{}).t(a).tree()):this.send(d({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:g.NS.BIND}).tree())):this._changeConnectStatus(g.Status.AUTHFAIL,null);return!1},_sasl_bind_cb:function(a){if("error"==a.getAttribute("type"))return g.info("SASL binding failed."),this._changeConnectStatus(g.Status.AUTHFAIL,
null),!1;a=a.getElementsByTagName("bind");if(0<a.length)a=a[0].getElementsByTagName("jid"),0<a.length&&(this.jid=g.getText(a[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(d({type:"set",id:"_session_auth_2"}).c("session",{xmlns:g.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(g.Status.CONNECTED,null)));else return g.info("SASL binding failed."),this._changeConnectStatus(g.Status.AUTHFAIL,null),!1},_sasl_session_cb:function(a){"result"==
a.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(g.Status.CONNECTED,null)):"error"==a.getAttribute("type")&&(g.info("Session creation failed."),this._changeConnectStatus(g.Status.AUTHFAIL,null));return!1},_sasl_failure_cb:function(a){this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null);this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);this._changeConnectStatus(g.Status.AUTHFAIL,
null);return!1},_auth2_cb:function(a){"result"==a.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(g.Status.CONNECTED,null)):"error"==a.getAttribute("type")&&(this._changeConnectStatus(g.Status.AUTHFAIL,null),this.disconnect());return!1},_addSysTimedHandler:function(a,b){var c=new g.TimedHandler(a,b);c.user=!1;this.addTimeds.push(c);return c},_addSysHandler:function(a,b,c,d,h){a=new g.Handler(a,b,c,d,h);a.user=!1;this.addHandlers.push(a);return a},_onDisconnectTimeout:function(){g.info("_onDisconnectTimeout was called");
for(var a;0<this._requests.length;)a=this._requests.pop(),a.abort=!0,a.xhr.abort(),a.xhr.onreadystatechange=function(){};this._doDisconnect();return!1},_onIdle:function(){for(var a,b,c,d;0<this.addTimeds.length;)this.timedHandlers.push(this.addTimeds.pop());for(;0<this.removeTimeds.length;)b=this.removeTimeds.pop(),a=this.timedHandlers.indexOf(b),0<=a&&this.timedHandlers.splice(a,1);var h=(new Date).getTime();d=[];for(a=0;a<this.timedHandlers.length;a++)if(b=this.timedHandlers[a],this.authenticated||
!b.user)c=b.lastCalled+b.period,0>=c-h?b.run()&&d.push(b):d.push(b);this.timedHandlers=d;this.authenticated&&(0===this._requests.length&&0===this._data.length&&!this.disconnecting)&&(g.info("no requests during idle cycle, sending blank request"),this._data.push(null));if(2>this._requests.length&&0<this._data.length&&!this.paused){b=this._buildBody();for(a=0;a<this._data.length;a++)null!==this._data[a]&&("restart"===this._data[a]?b.attrs({to:this.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":g.NS.BOSH}):
b.cnode(this._data[a]).up());delete this._data;this._data=[];this._requests.push(new g.Request(b.tree(),this._onRequestStateChange.bind(this,this._dataRecv.bind(this)),b.tree().getAttribute("rid")));this._processRequest(this._requests.length-1)}0<this._requests.length&&(a=this._requests[0].age(),null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(g.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),a>Math.floor(g.TIMEOUT*this.wait)&&(g.warn("Request "+this._requests[0].id+
" timed out, over "+Math.floor(g.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler()));clearTimeout(this._idleTimeout);this.connected&&(this._idleTimeout=setTimeout(this._onIdle.bind(this),100))}};b&&b(g,a,c,d,h)})(function(b,a,c,d,h){window.Strophe=b;window.$build=a;window.$msg=c;window.$iq=d;window.$pres=h});com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.webhub=com.rooxteam.webhub||{};
config={userAuthBoshLogin:gadgets.config.NonEmptyStringValidator,userAuthBoshPassword:gadgets.config.NonEmptyStringValidator,boshUrl:gadgets.config.NonEmptyStringValidator,userAuthConnectWait:gadgets.config.NonEmptyStringValidator,userFromUsername:gadgets.config.NonEmptyStringValidator,userToUsername:gadgets.config.NonEmptyStringValidator};
gadgets.config.register("com.rooxteam.webhub",config,function(){gadgets.config.get("com.rooxteam.webhub").boshUrl&&(gadgets.config.get("com.rooxteam.webhub").userAuthBoshLogin&&gadgets.config.get("com.rooxteam.webhub").userAuthBoshPassword&&gadgets.config.get("com.rooxteam.webhub").userAuthConnectWait)&&(com.rooxteam.webhub=function(){function b(d){d==Strophe.Status.ERROR?(gadgets.log("Strophe has error. Reconnecting in "+gadgets.config.get("com.rooxteam.webhub").userAuthConnectWait+" seconds..."),
f&&(f.clearInterval(),f=null),g.deleteHandler(b),g.connect(gadgets.config.get("com.rooxteam.webhub").userAuthBoshLogin,gadgets.config.get("com.rooxteam.webhub").userAuthBoshPassword,b,parseInt(gadgets.config.get("com.rooxteam.webhub").userAuthConnectWait))):d==Strophe.Status.AUTHFAIL?(gadgets.error("Strophe AuthFail."),f&&(f.clearInterval(),f=null),g.deleteHandler(b),g.connect(gadgets.config.get("com.rooxteam.webhub").userAuthBoshLogin,gadgets.config.get("com.rooxteam.webhub").userAuthBoshPassword,
b,parseInt(gadgets.config.get("com.rooxteam.webhub").userAuthConnectWait))):d==Strophe.Status.AUTHENTICATING?gadgets.log("Strophe AUTHENTICATING..."):d==Strophe.Status.CONNFAIL?(gadgets.log("Strophe Connection fail. Reconnecting in "+gadgets.config.get("com.rooxteam.webhub").userAuthConnectWait+" seconds..."),f&&(f.clearInterval(),f=null),g.deleteHandler(b),g.connect(gadgets.config.get("com.rooxteam.webhub").userAuthBoshLogin,gadgets.config.get("com.rooxteam.webhub").userAuthBoshPassword,b,parseInt(gadgets.config.get("com.rooxteam.webhub").userAuthConnectWait))):
d==Strophe.Status.CONNECTING?gadgets.log("Strophe is connecting."):d==Strophe.Status.DISCONNECTING?gadgets.log("Strophe is disconnecting."):d==Strophe.Status.DISCONNECTED?(gadgets.log("Strophe is disconnected."),gadgets.log("Streaming disconnected. Trying to reconnect..."),f&&(f.clearInterval(),f=null),g.deleteHandler(b),g.connect(gadgets.config.get("com.rooxteam.webhub").userAuthBoshLogin,gadgets.config.get("com.rooxteam.webhub").userAuthBoshPassword,b)):d==Strophe.Status.CONNECTED&&(gadgets.log("Strophe is connected."),
g.addHandler(c,null,"message",null,null,null),f=a())}function a(){return setInterval(function(){var a=$pres();a.c("priority").t("50").up().c("status").t("Online");gadgets.log("Strophe sent Presence isAlive.");g.send(a.tree())},6E4)}function c(a){a.getAttribute("to");a.getAttribute("from");a.getAttribute("type");a=a.getElementsByTagName("body");try{if(a&&0<a.length){var b=Strophe.getText(a[0]);if("undefined"!==typeof d[b])for(var c=d[b],b=0;b<c.length;b++){var f=c[b];try{f()}catch(h){gadgets.error("Receive error from callback.")}}}}catch(g){gadgets.error("Receive error from processing XMPP message.")}return!0}
var d={},h=gadgets.config.get("com.rooxteam.webhub").boshUrl,g=null,f=null,g=new Strophe.Connection(h);g.connect(gadgets.config.get("com.rooxteam.webhub").userAuthBoshLogin,gadgets.config.get("com.rooxteam.webhub").userAuthBoshPassword,b);return{addListener:function(){gadgets.error("Not Implemented")},removeListener:function(){gadgets.error("Not Implemented")},subscribe:function(a,b){"undefined"===typeof d[a]&&(d[a]=[]);var c=d[a];c[c.length]=b},unsubscribe:function(a,b){if("undefined"!==typeof d[a]){for(var c=
d[a],f=0;f<c.length;f++)c[f]===b&&c.splice(f,1);0==c.length&&delete d[a]}},publish:function(a,b){gadgets.error("Not Implemented")}}}())});com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.sso=com.rooxteam.sso||{};com.rooxteam.sso.postToSeamlessLink=function(b,a){var c=jQuery(a).attr("target")||"_blank",d=jQuery(a).attr("href");return com.rooxteam.sso.postToSeamlessLinkRaw(b,d,c)};
com.rooxteam.sso.postToSeamlessLinkRaw=function(b,a,c){b={ForceAuth:!0,service:(new gadgets.Prefs(b)).getString("service"),org:"users",arg:"newsession",IDToken1:"application",IDToken2:(new gadgets.Prefs(b)).getString("IDToken2"),"goto":a};var d=jQuery("\x3cform\x3e",{action:com.rooxteam.sso.getSSOUrl(),target:c,method:"post"});jQuery.each(b,function(a,b){d.append(jQuery("\x3cinput\x3e",{name:a,value:b,type:"hidden"}))});d.appendTo($("body"));d.submit();return!1};
com.rooxteam.sso.getSeamlessUrlParams=function(b){if(null!=b){b="";var a=com.rooxteam.sharedcontext.getDataContext().getDataSet("com.roox.cm.Common.App.Properties.unit.InstallationId"),c=com.rooxteam.sharedcontext.getDataContext().getDataSet("com.roox.cm.Common.App.Properties.unit.UserInstallationId");"undefined"!==typeof a&&(null!=a&&"undefined"!==typeof c&&null!=c)&&(b=a+"-"+c);return"service\x3d"+gadgets.config.get("com.rooxteam.sso").service+"\x26org\x3d"+gadgets.config.get("com.rooxteam.sso").realm+
"\x26IDToken1\x3d"+b}return""};com.rooxteam.sso.getSSOUrl=function(){return gadgets.config.get("com.rooxteam.sso").ssoUrl};com.rooxteam.sso.getSSOLogoutUrl=function(){return gadgets.config.get("com.rooxteam.sso").ssoLogoutUrl};com.rooxteam.sso.getDartItRedirectUrl=function(){return gadgets.config.get("com.rooxteam.sso").dartItRedirectUrl};com.rooxteam.sso.getPortalBaseUrl=function(){return gadgets.config.get("com.rooxteam.sso").portalBaseUrl};com.rooxteam.sso.getForceAuthUsingLogout=function(){return gadgets.config.get("com.rooxteam.sso").forceAuthUsingLogout};
com.rooxteam.sso.getSeamlessUrl=function(b,a,c){var d=com.rooxteam.sso.getDartItRedirectUrl();return d?"true"==com.rooxteam.sso.getForceAuthUsingLogout()?com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOLogoutUrl()).param("goto",com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOUrl()+"?"+com.rooxteam.sso.getSeamlessUrlParams(b)).param("goto",com.rooxteam.sso.URLBuilder(d).param("goto",com.rooxteam.sso.URLBuilder(a).params(c).build()).build()).build()).build():com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOUrl()+
"?arg\x3dnewsession\x26"+com.rooxteam.sso.getSeamlessUrlParams(b)).param("goto",com.rooxteam.sso.URLBuilder(d).param("goto",com.rooxteam.sso.URLBuilder(a).params(c).build()).build()).build():"true"==com.rooxteam.sso.getForceAuthUsingLogout()?com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOLogoutUrl()).param("goto",com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOUrl()+"?"+com.rooxteam.sso.getSeamlessUrlParams(b)).param("goto",com.rooxteam.sso.URLBuilder(a).params(c).build()).build()).build():
com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOUrl()+"?arg\x3dnewsession\x26"+com.rooxteam.sso.getSeamlessUrlParams(b)).param("goto",com.rooxteam.sso.URLBuilder(a).params(c).build()).build()};
com.rooxteam.sso.URLBuilder=function(b){return new function(){var a={},c="";this.param=function(b,c){a[b]=com.rooxteam.sso.urlencode(c);return this};this.params=function(a){c=""==c?a:c+("\x26"+a);return this};this.build=function(){var d=b,d=-1==d.indexOf("?")?d+"?":d+"\x26",h;for(h in a)d+=h+"\x3d"+a[h]+"\x26";return""==c?d.substring(0,d.length-1):d.indexOf("?")==d.length-1?d+c:d+"\x26"+c};return this}};
com.rooxteam.sso.JSONBuilder=function(){return new function(){var b={};this.child=function(a,c){b[a]=c;return this};this.toJSON=function(){return b};return this}};com.rooxteam.sso.urlencode=function(b){return encodeURIComponent((b+"").toString()).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")};
"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.ssoSeamlessUrl=function(b,a,c,d){a=a.get("moduleId");return gadgets.util.hasFeature("com.rooxteam.sso")?(d=com.rooxteam.sso.getSeamlessUrl(a,d.url,""),b.write(d)):b.write("There is no com.rooxteam.sso feature")});opensocial=opensocial||{};opensocial.xmlutil=opensocial.xmlutil||{};opensocial.xmlutil.parser_=null;
opensocial.xmlutil.parseXML=function(b){if("undefined"!=typeof DOMParser){opensocial.xmlutil.parser_=opensocial.xmlutil.parser_||new DOMParser;var a=opensocial.xmlutil.parser_.parseFromString(b,"text/xml");if(a.firstChild&&"parsererror"==a.firstChild.tagName)throw Error(a.firstChild.firstChild.nodeValue);return a}if("undefined"!=typeof ActiveXObject){a=new ActiveXObject("MSXML2.DomDocument");a.validateOnParse=!1;a.loadXML(b);if(a.parseError&&a.parseError.errorCode)throw Error(a.parseError.reason);
return a}throw Error("No XML parser found in this browser.");};opensocial.xmlutil.NSMAP={os:"http://opensocial.org/"};opensocial.xmlutil.getRequiredNamespaces=function(b,a){var c=a?opensocial.xmlutil.getNamespaceDeclarations_(a):{},d;for(d in opensocial.xmlutil.NSMAP)opensocial.xmlutil.NSMAP.hasOwnProperty(d)&&(!c.hasOwnProperty(d)&&0<=b.indexOf("\x3c"+d+":")&&0>b.indexOf("xmlns:"+d+":"))&&(c[d]=opensocial.xmlutil.NSMAP[d]);return opensocial.xmlutil.serializeNamespaces_(c)};
opensocial.xmlutil.serializeNamespaces_=function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(" xmlns:",c,'\x3d"',b[c],'"');return a.join("")};opensocial.xmlutil.getNamespaceDeclarations_=function(b){for(var a={},c=0;c<b.attributes.length;c++){var d=b.attributes[c].nodeName;"xmlns:"==d.substring(0,6)&&(a[d.substring(6,d.length)]=b.getAttribute(d))}return a};opensocial.xmlutil.ENTITIES='\x3c!ENTITY nbsp "\x26#160;"\x3e';
opensocial.xmlutil.prepareXML=function(b,a){var c=opensocial.xmlutil.getRequiredNamespaces(b,a);return"\x3c!DOCTYPE root ["+opensocial.xmlutil.ENTITIES+']\x3e\x3croot xml:space\x3d"preserve"'+c+"\x3e"+b+"\x3c/root\x3e"};gadgets.i18n=gadgets.i18n||{};gadgets.i18n.dtFormatter_=null;gadgets.i18n.dtParser_=null;gadgets.i18n.numFormatter_=null;
gadgets.i18n.formatDateTime=function(b,a){gadgets.i18n.dtFormatter_?gadgets.i18n.dtFormatter_.patternInUse_!=b&&("string"==typeof b?gadgets.i18n.dtFormatter_.applyPattern(b):gadgets.i18n.dtFormatter_.applyStandardPattern(b),gadgets.i18n.dtFormatter_.patternInUse_=b):(gadgets.i18n.dtFormatter_=new gadgets.i18n.DateTimeFormat(gadgets.i18n.DateTimeConstants),"string"==typeof b?gadgets.i18n.dtFormatter_.applyPattern(b):gadgets.i18n.dtFormatter_.applyStandardPattern(b),gadgets.i18n.dtFormatter_.patternInUse_=
b);return gadgets.i18n.dtFormatter_.format(a)};
gadgets.i18n.parseDateTime=function(b,a,c,d){gadgets.i18n.dtParser_?gadgets.i18n.dtParser_.patternInUse_!=b&&("string"==typeof b?gadgets.i18n.dtParser_.applyPattern(b):gadgets.i18n.dtParser_.applyStandardPattern(b),gadgets.i18n.dtParser_.patternInUse_=b):(gadgets.i18n.dtParser_=new gadgets.i18n.DateTimeParse(gadgets.i18n.DateTimeConstants),"string"==typeof b?gadgets.i18n.dtParser_.applyPattern(b):gadgets.i18n.dtParser_.applyStandardPattern(b),gadgets.i18n.dtParser_.patternInUse_=b);return gadgets.i18n.dtParser_.parse(a,
c,d)};
gadgets.i18n.formatNumber=function(b,a,c){gadgets.i18n.numFormatter_?gadgets.i18n.numFormatter_.patternInUse_!=b&&("string"==typeof b?gadgets.i18n.numFormatter_.applyPattern(b,c):gadgets.i18n.numFormatter_.applyStandardPattern(b,c),gadgets.i18n.numFormatter_.patternInUse_=b):(gadgets.i18n.numFormatter_=new gadgets.i18n.NumberFormat(gadgets.i18n.NumberFormatConstants),"string"==typeof b?gadgets.i18n.numFormatter_.applyPattern(b,c):gadgets.i18n.numFormatter_.applyStandardPattern(b,c),gadgets.i18n.numFormatter_.patternInUse_=b);
return gadgets.i18n.numFormatter_.format(a)};
gadgets.i18n.parseNumber=function(b,a,c,d){if(gadgets.i18n.numFormatter_){if(gadgets.i18n.numFormatter_.patternInUse_!=b||gadgets.i18n.numFormatter_.currencyCodeInUse_!=d)"string"==typeof b?gadgets.i18n.numFormatter_.applyPattern(b,d):gadgets.i18n.numFormatter_.applyStandardPattern(b,d),gadgets.i18n.numFormatter_.patternInUse_=b,gadgets.i18n.numFormatter_.currencyCodeInUse_=d}else gadgets.i18n.numFormatter_=new gadgets.i18n.NumberFormat,"string"==typeof b?gadgets.i18n.numFormatter_.applyPattern(b,
d):gadgets.i18n.numFormatter_.applyStandardPattern(b,d),gadgets.i18n.numFormatter_.patternInUse_=b,gadgets.i18n.numFormatter_.currencyCodeInUse_=d;return gadgets.i18n.numFormatter_.parse(a,c)};gadgets.i18n.FULL_DATE_FORMAT=0;gadgets.i18n.LONG_DATE_FORMAT=1;gadgets.i18n.MEDIUM_DATE_FORMAT=2;gadgets.i18n.SHORT_DATE_FORMAT=3;gadgets.i18n.FULL_TIME_FORMAT=4;gadgets.i18n.LONG_TIME_FORMAT=5;gadgets.i18n.MEDIUM_TIME_FORMAT=6;gadgets.i18n.SHORT_TIME_FORMAT=7;gadgets.i18n.FULL_DATETIME_FORMAT=8;
gadgets.i18n.LONG_DATETIME_FORMAT=9;gadgets.i18n.MEDIUM_DATETIME_FORMAT=10;gadgets.i18n.SHORT_DATETIME_FORMAT=11;gadgets.i18n.DECIMAL_PATTERN=1;gadgets.i18n.SCIENTIFIC_PATTERN=2;gadgets.i18n.PERCENT_PATTERN=3;gadgets.i18n.CURRENCY_PATTERN=4;gadgets.i18n=gadgets.i18n||{};gadgets.i18n.DateTimeFormat=function(b){this.symbols_=b};gadgets.i18n.DateTimeFormat.TOKENS_=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];
gadgets.i18n.DateTimeFormat.PartTypes={QUOTED_STRING:0,FIELD:1,LITERAL:2};gadgets.i18n.DateTimeFormat.padNumber_=function(b,a){var c=String(b),d=c.indexOf(".");-1==d&&(d=c.length);return Array(Math.max(0,a-d)+1).join("0")+c};
gadgets.i18n.DateTimeFormat.prototype.applyPattern=function(b){for(this.patternParts_=[];b;)for(var a=0;a<gadgets.i18n.DateTimeFormat.TOKENS_.length;++a){var c=b.match(gadgets.i18n.DateTimeFormat.TOKENS_[a]);if(c){c=c[0];b=b.substring(c.length);a==gadgets.i18n.DateTimeFormat.PartTypes.QUOTED_STRING&&("''"==c?c="'":(c=c.substring(1,c.length-1),c=c.replace(/\'\'/,"'")));this.patternParts_.push({text:c,type:a});break}}};
gadgets.i18n.DateTimeFormat.prototype.format=function(b){for(var a=[],c=0;c<this.patternParts_.length;++c){var d=this.patternParts_[c].text;gadgets.i18n.DateTimeFormat.PartTypes.FIELD==this.patternParts_[c].type?a.push(this.formatField_(d,b)):a.push(d)}return a.join("")};
gadgets.i18n.DateTimeFormat.prototype.applyStandardPattern=function(b){var a;4>b?a=this.symbols_.DATEFORMATS[b]:8>b?a=this.symbols_.TIMEFORMATS[b-4]:12>b?a=this.symbols_.DATEFORMATS[b-8]+" "+this.symbols_.TIMEFORMATS[b-8]:this.applyStandardPattern(gadgets.i18n.MEDIUM_DATETIME_FORMAT);return this.applyPattern(a)};gadgets.i18n.DateTimeFormat.prototype.formatEra_=function(b,a){var c=0<a.getFullYear()?1:0;return 4<=b?this.symbols_.ERANAMES[c]:this.symbols_.ERAS[c]};
gadgets.i18n.DateTimeFormat.prototype.formatYear_=function(b,a){var c=a.getFullYear();0>c&&(c=-c);return 2==b?gadgets.i18n.DateTimeFormat.padNumber_(c%100,2):String(c)};gadgets.i18n.DateTimeFormat.prototype.formatMonth_=function(b,a){var c=a.getMonth();switch(b){case 5:return this.symbols_.NARROWMONTHS[c];case 4:return this.symbols_.MONTHS[c];case 3:return this.symbols_.SHORTMONTHS[c];default:return gadgets.i18n.DateTimeFormat.padNumber_(c+1,b)}};
gadgets.i18n.DateTimeFormat.prototype.format24Hours_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getHours()||24,b)};gadgets.i18n.DateTimeFormat.prototype.formatFractionalSeconds_=function(b,a){return(a.getTime()%1E3/1E3).toFixed(Math.min(3,b)).substr(2)+(3<b?gadgets.i18n.DateTimeFormat.padNumber_(0,b-3):"")};gadgets.i18n.DateTimeFormat.prototype.formatDayOfWeek_=function(b,a){var c=a.getDay();return 4<=b?this.symbols_.WEEKDAYS[c]:this.symbols_.SHORTWEEKDAYS[c]};
gadgets.i18n.DateTimeFormat.prototype.formatAmPm_=function(b,a){var c=a.getHours();return this.symbols_.AMPMS[12<=c&&24>c?1:0]};gadgets.i18n.DateTimeFormat.prototype.format1To12Hours_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getHours()%12||12,b)};gadgets.i18n.DateTimeFormat.prototype.format0To11Hours_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getHours()%12,b)};
gadgets.i18n.DateTimeFormat.prototype.format0To23Hours_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getHours(),b)};gadgets.i18n.DateTimeFormat.prototype.formatStandaloneDay_=function(b,a){var c=a.getDay();switch(b){case 5:return this.symbols_.STANDALONENARROWWEEKDAYS[c];case 4:return this.symbols_.STANDALONEWEEKDAYS[c];case 3:return this.symbols_.STANDALONESHORTWEEKDAYS[c];default:return gadgets.i18n.DateTimeFormat.padNumber_(c,1)}};
gadgets.i18n.DateTimeFormat.prototype.formatStandaloneMonth_=function(b,a){var c=a.getMonth();switch(b){case 5:return this.symbols_.STANDALONENARROWMONTHS[c];case 4:return this.symbols_.STANDALONEMONTHS[c];case 3:return this.symbols_.STANDALONESHORTMONTHS[c];default:return gadgets.i18n.DateTimeFormat.padNumber_(c+1,b)}};gadgets.i18n.DateTimeFormat.prototype.formatQuarter_=function(b,a){var c=Math.floor(a.getMonth()/3);return 4>b?this.symbols_.SHORTQUARTERS[c]:this.symbols_.QUARTERS[c]};
gadgets.i18n.DateTimeFormat.prototype.formatDate_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getDate(),b)};gadgets.i18n.DateTimeFormat.prototype.formatMinutes_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getMinutes(),b)};gadgets.i18n.DateTimeFormat.prototype.formatSeconds_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getSeconds(),b)};
gadgets.i18n.DateTimeFormat.prototype.formatTimeZoneRFC_=function(b,a){if(4>b){var c=a.getTimezoneOffset(),d="-";0>c&&(c=-c,d="+");return d+gadgets.i18n.DateTimeFormat.padNumber_(5*(c/3)+c%60,4)}return this.formatGMT_(b,a)};gadgets.i18n.DateTimeFormat.prototype.formatGMT_=function(b,a){var c=a.getTimezoneOffset(),d=[];0<c?d.push("GMT-"):(c=-c,d.push("GMT+"));d.push(gadgets.i18n.DateTimeFormat.padNumber_(c/60,2));d.push(":");d.push(gadgets.i18n.DateTimeFormat.padNumber_(c%60,2));return d.join("")};
gadgets.i18n.DateTimeFormat.prototype.formatField_=function(b,a){var c=b.length;switch(b.charAt(0)){case "G":return this.formatEra_(c,a);case "y":return this.formatYear_(c,a);case "M":return this.formatMonth_(c,a);case "k":return this.format24Hours_(c,a);case "S":return this.formatFractionalSeconds_(c,a);case "E":return this.formatDayOfWeek_(c,a);case "a":return this.formatAmPm_(c,a);case "h":return this.format1To12Hours_(c,a);case "K":return this.format0To11Hours_(c,a);case "H":return this.format0To23Hours_(c,
a);case "c":return this.formatStandaloneDay_(c,a);case "L":return this.formatStandaloneMonth_(c,a);case "Q":return this.formatQuarter_(c,a);case "d":return this.formatDate_(c,a);case "m":return this.formatMinutes_(c,a);case "s":return this.formatSeconds_(c,a);case "v":return this.formatGMT_(c,a);case "z":return this.formatGMT_(c,a);case "Z":return this.formatTimeZoneRFC_(c,a);default:return""}};gadgets.i18n=gadgets.i18n||{};gadgets.i18n.DateTimeParse=function(b){this.symbols_=b};
gadgets.i18n.DateTimeParse.prototype.year=0;gadgets.i18n.DateTimeParse.prototype.month=0;gadgets.i18n.DateTimeParse.prototype.dayOfMonth=0;gadgets.i18n.DateTimeParse.prototype.hours=0;gadgets.i18n.DateTimeParse.prototype.minutes=0;gadgets.i18n.DateTimeParse.prototype.seconds=0;gadgets.i18n.DateTimeParse.prototype.milliseconds=0;gadgets.i18n.DateTimeParse.ambiguousYearCenturyStart=80;
gadgets.i18n.DateTimeParse.prototype.applyPattern=function(b){this.patternParts_=[];for(var a=!1,c="",d=0;d<b.length;d++){var h=b.charAt(d);if(" "==h){0<c.length&&(this.patternParts_.push({text:c,count:0,abutStart:!1}),c="");for(this.patternParts_.push({text:" ",count:0,abutStart:!1});d+1<b.length&&" "==b.charAt(d+1);)d++}else if(a)"'"==h?d+1<b.length&&"'"==b.charAt(d+1)?(c+=h,++d):a=!1:c+=h;else if(0<=gadgets.i18n.DateTimeParse.PATTERN_CHARS_.indexOf(h)){0<c.length&&(this.patternParts_.push({text:c,
count:0,abutStart:!1}),c="");var g=this.getNextCharCount_(b,d);this.patternParts_.push({text:h,count:g,abutStart:!1});d+=g-1}else"'"==h?d+1<b.length&&"'"==b.charAt(d+1)?(c+="'",d++):a=!0:c+=h}0<c.length&&this.patternParts_.push({text:c,count:0,abutStart:!1});this.markAbutStart_()};
gadgets.i18n.DateTimeParse.prototype.applyStandardPattern=function(b){var a;if(4>b)a=this.symbols_.DATEFORMATS[b];else if(8>b)a=this.symbols_.TIMEFORMATS[b-4];else if(12>b)a=this.symbols_.DATEFORMATS[b-8],a=a+" "+this.symbols_.TIMEFORMATS[b-8];else return this.applyStandardPattern(gadgets.i18n.MEDIUM_DATETIME_FORMAT);return this.applyPattern(a)};gadgets.i18n.DateTimeParse.prototype.parse=function(b,a,c){return this.internalParse_(b,a,c,!1)};
gadgets.i18n.DateTimeParse.prototype.internalParse_=function(b,a,c,d){for(var h=new gadgets.i18n.DateTimeParse.MyDate_,g=[a],f=-1,e=0,m=0,n=0;n<this.patternParts_.length;++n)if(0<this.patternParts_[n].count)if(0>f&&this.patternParts_[n].abutStart&&(f=n,e=a,m=0),0<=f){var p=this.patternParts_[n].count;if(n==f&&(p-=m,m++,0==p))return 0;this.subParse_(b,g,this.patternParts_[n],p,h)||(n=f-1,g[0]=e)}else{if(f=-1,!this.subParse_(b,g,this.patternParts_[n],0,h))return 0}else{f=-1;if(" "==this.patternParts_[n].text.charAt(0)){if(p=
g[0],this.skipSpace_(b,g),g[0]>p)continue}else if(b.indexOf(this.patternParts_[n].text,g[0])==g[0]){g[0]+=this.patternParts_[n].text.length;continue}return 0}return h.calcDate_(c,d)?g[0]-a:0};gadgets.i18n.DateTimeParse.prototype.getNextCharCount_=function(b,a){for(var c=b.charAt(a),d=a+1;d<b.length&&b.charAt(d)==c;)++d;return d-a};gadgets.i18n.DateTimeParse.PATTERN_CHARS_="GyMdkHmsSEDahKzZv";gadgets.i18n.DateTimeParse.NUMERIC_FORMAT_CHARS_="MydhHmsSDkK";
gadgets.i18n.DateTimeParse.prototype.isNumericField_=function(b){if(0>=b.count)return!1;var a=gadgets.i18n.DateTimeParse.NUMERIC_FORMAT_CHARS_.indexOf(b.text.charAt(0));return 0<a||0==a&&3>b.count};gadgets.i18n.DateTimeParse.prototype.markAbutStart_=function(){for(var b=!1,a=0;a<this.patternParts_.length;a++)this.isNumericField_(this.patternParts_[a])?!b&&(a+1<this.patternParts_.length&&this.isNumericField_(this.patternParts_[a+1]))&&(b=!0,this.patternParts_[a].abutStart=!0):b=!1};
gadgets.i18n.DateTimeParse.prototype.skipSpace_=function(b,a){var c=b.substring(a[0]).match(/^\s+/);c&&(a[0]+=c[0].length)};
gadgets.i18n.DateTimeParse.prototype.subParse_=function(b,a,c,d,h){this.skipSpace_(b,a);var g=a[0],f=c.text.charAt(0),e=-1;if(this.isNumericField_(c))if(0<d){if(g+d>b.length)return!1;e=this.parseInt_(b.substring(0,g+d),a)}else e=this.parseInt_(b,a);switch(f){case "G":return h.era=this.matchString_(b,a,this.symbols_.ERAS),!0;case "M":return this.subParseMonth_(b,a,h,e);case "E":return this.subParseDayOfWeek_(b,a,h);case "a":return h.ampm=this.matchString_(b,a,this.symbols_.AMPMS),!0;case "y":return this.subParseYear_(b,
a,g,e,c,h);case "d":return h.day=e,!0;case "S":return this.subParseFractionalSeconds_(e,a,g,h);case "h":12==e&&(e=0);case "K":case "H":case "k":return h.hours=e,!0;case "m":return h.minutes=e,!0;case "s":return h.seconds=e,!0;case "z":case "Z":case "v":return this.subparseTimeZoneInGMT_(b,a,h);default:return!1}};
gadgets.i18n.DateTimeParse.prototype.subParseYear_=function(b,a,c,d,h,g){var f;if(0>d){f=b.charAt(a[0]);if("+"!=f&&"-"!=f)return!1;a[0]++;d=this.parseInt_(b,a);if(0>d)return!1;"-"==f&&(d=-d)}null==f&&2==a[0]-c&&2==h.count?g.setTwoDigitYear_(d):g.year=d;return!0};gadgets.i18n.DateTimeParse.prototype.subParseMonth_=function(b,a,c,d){if(0>d){d=this.matchString_(b,a,this.symbols_.MONTHS);0>d&&(d=this.matchString_(b,a,this.symbols_.SHORTMONTHS));if(0>d)return!1;c.month=d}else c.month=d-1;return!0};
gadgets.i18n.DateTimeParse.prototype.subParseDayOfWeek_=function(b,a,c){var d=this.matchString_(b,a,this.symbols_.WEEKDAYS);0>d&&(d=this.matchString_(b,a,this.symbols_.SHORTWEEKDAYS));if(0>d)return!1;c.dayOfWeek=d;return!0};gadgets.i18n.DateTimeParse.prototype.subParseFractionalSeconds_=function(b,a,c,d){a=a[0]-c;d.milliseconds=3>a?b*Math.pow(10,3-a):Math.round(b/Math.pow(10,a-3));return!0};
gadgets.i18n.DateTimeParse.prototype.subparseTimeZoneInGMT_=function(b,a,c){b.indexOf("GMT",a[0])==a[0]&&(a[0]+=3);return this.parseTimeZoneOffset_(b,a,c)};
gadgets.i18n.DateTimeParse.prototype.parseTimeZoneOffset_=function(b,a,c){if(a[0]>=b.length)return c.tzOffset=0,!0;var d=1;switch(b.charAt(a[0])){case "-":d=-1;case "+":a[0]++}var h=a[0],g=this.parseInt_(b,a);if(0==g&&a[0]==h)return!1;var f;if(a[0]<b.length&&":"==b.charAt(a[0])){f=60*g;a[0]++;h=a[0];g=this.parseInt_(b,a);if(0==g&&a[0]==h)return!1;f+=g}else f=g,24>f&&2>=a[0]-h&&(f*=60),f=f%100+60*(f/100);c.tzOffset=-(f*d);return!0};
gadgets.i18n.DateTimeParse.prototype.parseInt_=function(b,a){var c=b.substring(a[0]).match(/^\d+/);if(!c)return-1;a[0]+=c[0].length;return parseInt(c[0],10)};gadgets.i18n.DateTimeParse.prototype.matchString_=function(b,a,c){var d=0,h=-1;b=b.substring(a[0]).toLowerCase();for(var g=0;g<c.length;++g){var f=c[g].length;f>d&&0==b.indexOf(c[g].toLowerCase())&&(h=g,d=f)}0<=h&&(a[0]+=d);return h};gadgets.i18n.DateTimeParse.MyDate_=function(){};
gadgets.i18n.DateTimeParse.MyDate_.prototype.setTwoDigitYear_=function(b){var a=(new Date).getFullYear()-gadgets.i18n.DateTimeParse.ambiguousYearCenturyStart,c=a%100;this.ambiguousYear=b==c;return this.year=b+=100*Math.floor(a/100)+(b<c?100:0)};
gadgets.i18n.DateTimeParse.MyDate_.prototype.calcDate_=function(b,a){void 0!=this.era&&(void 0!=this.year&&0==this.era&&0<this.year)&&(this.year=-(this.year-1));void 0!=this.year&&b.setFullYear(this.year);var c=b.getDate();b.setDate(1);void 0!=this.month&&b.setMonth(this.month);void 0!=this.day?b.setDate(this.day):b.setDate(c);void 0==this.hours&&(this.hours=b.getHours());void 0!=this.ampm&&0<this.ampm&&12>this.hours&&(this.hours+=12);b.setHours(this.hours);void 0!=this.minutes&&b.setMinutes(this.minutes);
void 0!=this.seconds&&b.setSeconds(this.seconds);void 0!=this.milliseconds&&b.setMilliseconds(this.milliseconds);if(a&&(void 0!=this.year&&this.year!=b.getFullYear()||void 0!=this.month&&this.month!=b.getMonth()||void 0!=this.dayOfMonth&&this.dayOfMonth!=b.getDate()||24<=this.hours||60<=this.minutes||60<=this.seconds||1E3<=this.milliseconds))return!1;void 0!=this.tzOffset&&(c=b.getTimezoneOffset(),b.setTime(b.getTime()+6E4*(this.tzOffset-c)));this.ambiguousYear&&(c=new Date,c.setFullYear(c.getFullYear()-
gadgets.i18n.DateTimeParse.ambiguousYearCenturyStart),b.getTime()<c.getTime()&&b.setFullYear(c.getFullYear()+100));if(void 0!=this.dayOfWeek)if(void 0==this.day){c=(7+this.dayOfWeek-b.getDay())%7;3<c&&(c-=7);var d=b.getMonth();b.setDate(b.getDate()+c);b.getMonth()!=d&&b.setDate(b.getDate()+(0<c?-7:7))}else if(this.dayOfWeek!=b.getDay())return!1;return!0};gadgets.i18n=gadgets.i18n||{};gadgets.i18n.NumberFormat=function(b){this.symbols_=b};
gadgets.i18n.NumberFormat.prototype.applyStandardPattern=function(b,a){switch(b){case gadgets.i18n.DECIMAL_PATTERN:this.applyPattern(this.symbols_.DECIMAL_PATTERN,a);break;case gadgets.i18n.SCIENTIFIC_PATTERN:this.applyPattern(this.symbols_.SCIENTIFIC_PATTERN,a);break;case gadgets.i18n.PERCENT_PATTERN:this.applyPattern(this.symbols_.PERCENT_PATTERN,a);break;case gadgets.i18n.CURRENCY_PATTERN:this.applyPattern(this.symbols_.CURRENCY_PATTERN,a);break;default:throw Error("Unsupported pattern type.");
}};
gadgets.i18n.NumberFormat.prototype.applyPattern=function(b,a){this.pattern_=b;this.intlCurrencyCode_=a||this.symbols_.DEF_CURRENCY_CODE;this.currencySymbol_=gadgets.i18n.CurrencyCodeMap[this.intlCurrencyCode_];this.maximumIntegerDigits_=40;this.minimumIntegerDigits_=1;this.maximumFractionDigits_=3;this.minExponentDigits_=this.minimumFractionDigits_=0;this.positiveSuffix_=this.positivePrefix_="";this.negativePrefix_="-";this.negativeSuffix_="";this.multiplier_=1;this.groupingSize_=3;this.useExponentialNotation_=this.isCurrencyFormat_=
this.decimalSeparatorAlwaysShown_=!1;this.parsePattern_(this.pattern_)};
gadgets.i18n.NumberFormat.prototype.parse=function(b,a){var c=a||[0],d=c[0],h=0,g=b.indexOf(this.positivePrefix_,c[0])==c[0],f=b.indexOf(this.negativePrefix_,c[0])==c[0];g&&f&&(this.positivePrefix_.length>this.negativePrefix_.length?f=!1:this.positivePrefix_.length<this.negativePrefix_.length&&(g=!1));g?c[0]+=this.positivePrefix_.length:f&&(c[0]+=this.negativePrefix_.length);b.indexOf(this.symbols_.INFINITY,c[0])==c[0]?(c[0]+=this.symbols_.INFINITY.length,h=Infinity):h=this.parseNumber_(b,c);if(g){if(b.indexOf(this.positiveSuffix_,
c[0])!=c[0])return c[0]=d,0;c[0]+=this.positiveSuffix_.length}else if(f){if(b.indexOf(this.negativeSuffix_,c[0])!=c[0])return c[0]=d,0;c[0]+=this.negativeSuffix_.length}return f?-h:h};
gadgets.i18n.NumberFormat.prototype.parseNumber_=function(b,a){for(var c=!1,d=!1,h=!1,g=1,f=this.isCurrencyFormat_?this.symbols_.MONETARY_SEP:this.symbols_.DECIMAL_SEP,e=this.isCurrencyFormat_?this.symbols_.MONETARY_GROUP_SEP:this.symbols_.GROUP_SEP,m=this.symbols_.EXP_SYMBOL,n="";a[0]<b.length;a[0]++){var p=b.charAt(a[0]),q=this.getDigit_(p);if(0<=q&&9>=q)n+=q,h=!0;else if(p==f.charAt(0)){if(c||d)break;n+=".";c=!0}else if(p==e.charAt(0)||""==e.charAt(0)&&" "==p&&a[0]+1<b.length&&0<=this.getDigit_(b.charAt(a[0]+
1))){if(c||d)break}else if(p==m.charAt(0)){if(d)break;n+="E";d=!0}else if("+"==p||"-"==p)n+=p;else if(p==this.symbols_.PERCENT.charAt(0)){if(1!=g)break;g=100;if(h){a[0]++;break}}else if(p==this.symbols_.PERMILL.charAt(0)){if(1!=g)break;g=1E3;if(h){a[0]++;break}}else break}return parseFloat(n)/g};
gadgets.i18n.NumberFormat.prototype.format=function(b){if(isNaN(b))return this.symbols_.NAN;var a=[],c=0>b||0==b&&0>1/b;a.push(c?this.negativePrefix_:this.positivePrefix_);isFinite(b)?(b=b*(c?-1:1)*this.multiplier_,this.useExponentialNotation_?this.subformatExponential_(b,a):this.subformatFixed_(b,this.minimumIntegerDigits_,a)):a.push(this.symbols_.INFINITY);a.push(c?this.negativeSuffix_:this.positiveSuffix_);return a.join("")};
gadgets.i18n.NumberFormat.prototype.subformatFixed_=function(b,a,c){var d=Math.pow(10,this.maximumFractionDigits_);b=Math.round(b*d);var h=Math.floor(b/d),g=Math.floor(b-h*d),f=0<this.minimumFractionDigits_||0<g,e="";for(b=h;1E20<b;)e="0"+e,b=Math.round(b/10);var e=b+e,m=this.isCurrencyFormat_?this.symbols_.MONETARY_SEP:this.symbols_.DECIMAL_SEP,n=this.isCurrencyFormat_?this.symbols_.MONETARY_GROUP_SEP:this.symbols_.GROUP_SEP;b=this.symbols_.ZERO_DIGIT.charCodeAt(0);var p=e.length;if(0<h||0<a){for(h=
p;h<a;h++)c.push(this.symbols_.ZERO_DIGIT);for(h=0;h<p;h++)c.push(String.fromCharCode(b+1*e.charAt(h))),1<p-h&&(0<this.groupingSize_&&1==(p-h)%this.groupingSize_)&&c.push(n)}else f||c.push(this.symbols_.ZERO_DIGIT);(this.decimalSeparatorAlwaysShown_||f)&&c.push(m);a=""+(g+d);for(d=a.length;"0"==a.charAt(d-1)&&d>this.minimumFractionDigits_+1;)d--;for(h=1;h<d;h++)c.push(String.fromCharCode(b+1*a.charAt(h)))};
gadgets.i18n.NumberFormat.prototype.addExponentPart_=function(b,a){a.push(this.symbols_.EXP_SYMBOL);0>b&&(b=-b,a.push(this.symbols_.MINUS_SIGN));for(var c=""+b,d=c.length;d<this.minExponentDigits_;d++)a.push(this.symbols_.ZERO_DIGIT);a.push(c)};
gadgets.i18n.NumberFormat.prototype.subformatExponential_=function(b,a){if(0==b)this.subformatFixed_(b,this.minimumIntegerDigits_,a),this.addExponentPart_(0,a);else{var c=Math.floor(Math.log(b)/Math.log(10));b/=Math.pow(10,c);var d=this.minimumIntegerDigits_;if(1<this.maximumIntegerDigits_&&this.maximumIntegerDigits_>this.minimumIntegerDigits_){for(;0!=c%this.maximumIntegerDigits_;)b*=10,c--;d=1}else 1>this.minimumIntegerDigits_?(c++,b/=10):(c-=this.minimumIntegerDigits_-1,b*=Math.pow(10,this.minimumIntegerDigits_-
1));this.subformatFixed_(b,d,a);this.addExponentPart_(c,a)}};gadgets.i18n.NumberFormat.prototype.getDigit_=function(b){b=b.charCodeAt(0);if(48<=b&&58>b)return b-48;var a=this.symbols_.ZERO_DIGIT.charCodeAt(0);return a<=b&&b<a+10?b-a:-1};gadgets.i18n.NumberFormat.PATTERN_ZERO_DIGIT_="0";gadgets.i18n.NumberFormat.PATTERN_GROUPING_SEPARATOR_=",";gadgets.i18n.NumberFormat.PATTERN_DECIMAL_SEPARATOR_=".";gadgets.i18n.NumberFormat.PATTERN_PER_MILLE_="";gadgets.i18n.NumberFormat.PATTERN_PERCENT_="%";
gadgets.i18n.NumberFormat.PATTERN_DIGIT_="#";gadgets.i18n.NumberFormat.PATTERN_SEPARATOR_=";";gadgets.i18n.NumberFormat.PATTERN_EXPONENT_="E";gadgets.i18n.NumberFormat.PATTERN_MINUS_="-";gadgets.i18n.NumberFormat.PATTERN_CURRENCY_SIGN_="";gadgets.i18n.NumberFormat.QUOTE_="'";
gadgets.i18n.NumberFormat.prototype.parseAffix_=function(b,a){for(var c="",d=!1,h=b.length;a[0]<h;a[0]++){var g=b.charAt(a[0]);if(g==gadgets.i18n.NumberFormat.QUOTE_)a[0]+1<h&&b.charAt(a[0]+1)==gadgets.i18n.NumberFormat.QUOTE_?(a[0]++,c+="'"):d=!d;else if(d)c+=g;else switch(g){case gadgets.i18n.NumberFormat.PATTERN_DIGIT_:case gadgets.i18n.NumberFormat.PATTERN_ZERO_DIGIT_:case gadgets.i18n.NumberFormat.PATTERN_GROUPING_SEPARATOR_:case gadgets.i18n.NumberFormat.PATTERN_DECIMAL_SEPARATOR_:case gadgets.i18n.NumberFormat.PATTERN_SEPARATOR_:return c;
case gadgets.i18n.NumberFormat.PATTERN_CURRENCY_SIGN_:this.isCurrencyFormat_=!0;a[0]+1<h&&b.charAt(a[0]+1)==gadgets.i18n.NumberFormat.PATTERN_CURRENCY_SIGN_?(a[0]++,c+=this.intlCurrencyCode_):c+=this.currencySymbol_;break;case gadgets.i18n.NumberFormat.PATTERN_PERCENT_:if(1!=this.multiplier_)throw Error("Too many percent/permill");this.multiplier_=100;c+=this.symbols_.PERCENT;break;case gadgets.i18n.NumberFormat.PATTERN_PER_MILLE_:if(1!=this.multiplier_)throw Error("Too many percent/permill");this.multiplier_=
1E3;c+=this.symbols_.PERMILL;break;default:c+=g}}return c};
gadgets.i18n.NumberFormat.prototype.parseTrunk_=function(b,a){for(var c=-1,d=0,h=0,g=0,f=-1,e=b.length,m=!0;a[0]<e&&m;a[0]++)switch(b.charAt(a[0])){case gadgets.i18n.NumberFormat.PATTERN_DIGIT_:0<h?g++:d++;0<=f&&0>c&&f++;break;case gadgets.i18n.NumberFormat.PATTERN_ZERO_DIGIT_:if(0<g)throw Error('Unexpected "0" in pattern "'+b+'"');h++;0<=f&&0>c&&f++;break;case gadgets.i18n.NumberFormat.PATTERN_GROUPING_SEPARATOR_:f=0;break;case gadgets.i18n.NumberFormat.PATTERN_DECIMAL_SEPARATOR_:if(0<=c)throw Error('Multiple decimal separators in pattern "'+
b+'"');c=d+h+g;break;case gadgets.i18n.NumberFormat.PATTERN_EXPONENT_:if(this.useExponentialNotation_)throw Error('Multiple exponential symbols in pattern "'+b+'"');this.useExponentialNotation_=!0;for(this.minExponentDigits_=0;a[0]+1<e&&b.charAt(a[0]+1)==this.symbols_.ZERO_DIGIT.charAt(0);)a[0]++,this.minExponentDigits_++;if(1>d+h||1>this.minExponentDigits_)throw Error('Malformed exponential pattern "'+b+'"');m=!1;break;default:a[0]--,m=!1}0==h&&(0<d&&0<=c)&&(h=c,0==h&&h++,g=d-h,d=h-1,h=1);if(0>c&&
0<g||0<=c&&(c<d||c>d+h)||0==f)throw Error('Malformed pattern "'+b+'"');g=d+h+g;this.maximumFractionDigits_=0<=c?g-c:0;0<=c&&(this.minimumFractionDigits_=d+h-c,0>this.minimumFractionDigits_&&(this.minimumFractionDigits_=0));this.minimumIntegerDigits_=(0<=c?c:g)-d;this.useExponentialNotation_&&(this.maximumIntegerDigits_=d+this.minimumIntegerDigits_,0==this.maximumFractionDigits_&&0==this.minimumIntegerDigits_&&(this.minimumIntegerDigits_=1));this.groupingSize_=Math.max(0,f);this.decimalSeparatorAlwaysShown_=
0==c||c==g};gadgets.i18n.NumberFormat.prototype.parsePattern_=function(b){var a=[0];this.positivePrefix_=this.parseAffix_(b,a);var c=a[0];this.parseTrunk_(b,a);c=a[0]-c;this.positiveSuffix_=this.parseAffix_(b,a);a[0]<b.length&&b.charAt(a[0])==gadgets.i18n.NumberFormat.PATTERN_SEPARATOR_&&(a[0]++,this.negativePrefix_=this.parseAffix_(b,a),a[0]+=c,this.negativeSuffix_=this.parseAffix_(b,a))};gadgets.i18n=gadgets.i18n||{};
gadgets.i18n.CurrencyCodeMap={USD:"$",ARS:"$",AWG:"",AUD:"$",BSD:"$",BBD:"$",BEF:"",BZD:"$",BMD:"$",BOB:"$",BRL:"R$",BRC:"",GBP:"",BND:"$",KHR:"",CAD:"$",KYD:"$",CLP:"$",CNY:"",COP:"",CRC:"",CUP:"",CYP:"",DKK:"kr",DOP:"",XCD:"$",EGP:"",SVC:"",EUR:"",XEU:"",FKP:"",FJD:"$",FRF:"",GIP:"",GRD:"",GGP:"",GYD:"$",NLG:"",HKD:"$",INR:"",IRR:"",IEP:"",IMP:"",ILS:"",ITL:"",JMD:"$",JPY:"",JEP:"",KPW:"",KRW:"",LAK:"",LBP:"",LRD:"$",LUF:"",MTL:"",MUR:"",MXN:"$",MNT:"",NAD:"$",
NPR:"",ANG:"",NZD:"$",OMR:"",PKR:"",PEN:"S/.",PHP:"",QAR:"",RUB:"",SHP:"",SAR:"",SCR:"",SGD:"$",SBD:"$",ZAR:"R",ESP:"",LKR:"",SEK:"kr",SRD:"$",SYP:"",TWD:"",THB:"",TTD:"$",TRY:"",TRL:"",TVD:"$",UYU:"",VAL:"",VND:"",YER:"",ZWD:"$"};
(function(){function b(a){this._value=a}function a(a,b,c,d){var e=Math.pow(10,b);a=(c(a*e)/e).toFixed(b);d&&(d=RegExp("0{1,"+d+"}$"),a=a.replace(d,""));return a}function c(b,c,d){var h=!1,g=!1,n=!1,s="",B=!1,D=!1,F=!1,E=!1,z=!1,N="",M="",y=Math.abs(b),w="B KB MB GB TB PB EB ZB YB".split(" "),v="",O=!1;if(0===b&&null!==m)return m;-1<c.indexOf("(")?(h=!0,c=c.slice(1,-1)):-1<c.indexOf("+")&&(g=!0,c=c.replace(/\+/g,""));if(-1<c.indexOf("a"))if(B=0<=c.indexOf("aK"),D=0<=c.indexOf("aM"),F=0<=c.indexOf("aB"),
E=0<=c.indexOf("aT"),z=B||D||F||E,-1<c.indexOf(" a")?(s=" ",c=c.replace(" a","")):c=c.replace("a",""),y>=Math.pow(10,12)&&!z||E)s+=f[e].abbreviations.trillion,b/=Math.pow(10,12);else if(y<Math.pow(10,12)&&y>=Math.pow(10,9)&&!z||F)s+=f[e].abbreviations.billion,b/=Math.pow(10,9);else if(y<Math.pow(10,9)&&y>=Math.pow(10,6)&&!z||D)s+=f[e].abbreviations.million,b/=Math.pow(10,6);else if(y<Math.pow(10,6)&&y>=Math.pow(10,3)&&!z||B)s+=f[e].abbreviations.thousand,b/=Math.pow(10,3);if(-1<c.indexOf("b")){-1<
c.indexOf(" b")?(N=" ",c=c.replace(" b","")):c=c.replace("b","");for(F=0;F<=w.length;F++)if(B=Math.pow(1024,F),D=Math.pow(1024,F+1),b>=B&&b<D){N+=w[F];0<B&&(b/=B);break}}-1<c.indexOf("o")&&(-1<c.indexOf(" o")?(M=" ",c=c.replace(" o","")):c=c.replace("o",""),M+=f[e].ordinal(b));-1<c.indexOf("[.]")&&(n=!0,c=c.replace("[.]","."));b.toString().split(".");B=c.split(".")[1];w=c.indexOf(",");B?(-1<B.indexOf("[")?(B=B.replace("]",""),B=B.split("["),v=a(b,B[0].length+B[1].length,d,B[1].length)):v=a(b,B.length,
d),b=v.split(".")[0],v=v.split(".")[1].length?f[e].delimiters.decimal+v.split(".")[1]:"",n&&0===Number(v.slice(1))&&(v="")):b=a(b,null,d);-1<b.indexOf("-")&&(b=b.slice(1),O=!0);-1<w&&(b=b.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f[e].delimiters.thousands));0===c.indexOf(".")&&(b="");return(h&&O?"(":"")+(!h&&O?"-":"")+(!O&&g?"+":"")+b+v+(M?M:"")+(s?s:"")+(N?N:"")+(h&&O?")":"")}function d(a){a=a.toString().split(".");return 2>a.length?1:Math.pow(10,a[1].length)}function h(){return Array.prototype.slice.call(arguments).reduce(function(a,
b){var c=d(a),e=d(b);return c>e?c:e},-Infinity)}var g,f={},e="en",m=null,n="0,0";g=function(a){g.isNumeral(a)?a=a.value():0===a||"undefined"===typeof a?a=0:Number(a)||(a=g.fn.unformat(a));return new b(Number(a))};g.version="1.5.3";g.isNumeral=function(a){return a instanceof b};g.language=function(a,b){if(!a)return e;if(a&&!b){if(!f[a])throw Error("Unknown language : "+a);e=a}if(b||!f[a])f[a]=b;return g};g.languageData=function(a){if(!a)return f[e];if(!f[a])throw Error("Unknown language : "+a);return f[a]};
g.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}});g.zeroFormat=function(a){m="string"===typeof a?a:null};g.defaultFormat=function(a){n="string"===typeof a?a:"0.0"};"function"!==typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){if(null===this||"undefined"===typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");
if("function"!==typeof a)throw new TypeError(a+" is not a function");var c,d,e=this.length>>>0,f=!1;1<arguments.length&&(d=b,f=!0);for(c=0;e>c;++c)this.hasOwnProperty(c)&&(f?d=a(d,this[c],c,this):(d=this[c],f=!0));if(!f)throw new TypeError("Reduce of empty array with no initial value");return d});g.fn=b.prototype={clone:function(){return g(this)},format:function(a,b){var d=a?a:n,h=void 0!==b?b:Math.round;if(-1<d.indexOf("$")){var g=d,d=g.indexOf("$"),m=g.indexOf("("),s=g.indexOf("-"),B="";-1<g.indexOf(" $")?
(B=" ",g=g.replace(" $","")):-1<g.indexOf("$ ")?(B=" ",g=g.replace("$ ","")):g=g.replace("$","");g=c(this._value,g,h);if(1>=d)if(-1<g.indexOf("(")||-1<g.indexOf("-")){g=g.split("");h=1;if(d<m||d<s)h=0;g.splice(h,0,f[e].currency.symbol+B);g=g.join("")}else g=f[e].currency.symbol+B+g;else-1<g.indexOf(")")?(g=g.split(""),g.splice(-1,0,B+f[e].currency.symbol),g=g.join("")):g=g+B+f[e].currency.symbol;h=g}else-1<d.indexOf("%")?(m=d,d="",s=100*this._value,-1<m.indexOf(" %")?(d=" ",m=m.replace(" %","")):
m=m.replace("%",""),h=c(s,m,h),-1<h.indexOf(")")?(h=h.split(""),h.splice(-1,0,d+"%"),h=h.join("")):h=h+d+"%"):-1<d.indexOf(":")?(h=Math.floor(this._value/60/60),d=Math.floor((this._value-3600*h)/60),m=Math.round(this._value-3600*h-60*d),h=h+":"+(10>d?"0"+d:d)+":"+(10>m?"0"+m:m)):h=c(this._value,d,h);return h},unformat:function(a){if("[object Number]"===Object.prototype.toString.call(a))return a;var b=a=a?a:n,c,d,h,g,s="KB MB GB TB PB EB ZB YB".split(" "),B=!1,D;if(-1<a.indexOf(":"))a=a.split(":"),
b=0,3===a.length?(b+=3600*Number(a[0]),b+=60*Number(a[1]),b+=Number(a[2])):2===a.length&&(b+=60*Number(a[0]),b+=Number(a[1])),this._value=Number(b);else if(a===m)this._value=0;else{"."!==f[e].delimiters.decimal&&(a=a.replace(/\./g,"").replace(f[e].delimiters.decimal,"."));c=RegExp("[^a-zA-Z]"+f[e].abbreviations.thousand+"(?:\\)|(\\"+f[e].currency.symbol+")?(?:\\))?)?$");d=RegExp("[^a-zA-Z]"+f[e].abbreviations.million+"(?:\\)|(\\"+f[e].currency.symbol+")?(?:\\))?)?$");h=RegExp("[^a-zA-Z]"+f[e].abbreviations.billion+
"(?:\\)|(\\"+f[e].currency.symbol+")?(?:\\))?)?$");g=RegExp("[^a-zA-Z]"+f[e].abbreviations.trillion+"(?:\\)|(\\"+f[e].currency.symbol+")?(?:\\))?)?$");for(D=0;D<=s.length&&!(B=-1<a.indexOf(s[D])?Math.pow(1024,D+1):!1);D++);this._value=(B?B:1)*(b.match(c)?Math.pow(10,3):1)*(b.match(d)?Math.pow(10,6):1)*(b.match(h)?Math.pow(10,9):1)*(b.match(g)?Math.pow(10,12):1)*(-1<a.indexOf("%")?0.01:1)*((a.split("-").length+Math.min(a.split("(").length-1,a.split(")").length-1))%2?1:-1)*Number(a.replace(/[^0-9\.]+/g,
""));this._value=B?Math.ceil(this._value):this._value}return this._value},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){this._value=Number(a);return this},add:function(a){var b=h.call(null,this._value,a);this._value=[this._value,a].reduce(function(a,c,d,e){return a+b*c},0)/b;return this},subtract:function(a){var b=h.call(null,this._value,a);this._value=[a].reduce(function(a,c,d,e){return a-b*c},this._value*b)/b;return this},multiply:function(a){this._value=
[this._value,a].reduce(function(a,b,c,d){c=h(a,b);return a*c*b*c/(c*c)},1);return this},divide:function(a){this._value=[this._value,a].reduce(function(a,b,c,d){c=h(a,b);return a*c/(b*c)});return this},difference:function(a){return Math.abs(g(this._value).subtract(a).value())}};"undefined"===typeof ender&&(this.numeral=g)}).call(this);
(function(){var b={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"."}};"undefined"!==typeof window&&(this.numeral&&this.numeral.language)&&this.numeral.language("ru",b)})();
(function(b){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var c=function(){c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0]));return c.format.call(null,c.cache[arguments[0]],arguments)};c.format=function(b,h){var g=1,f=b.length,e="",m=[],n,p,q,t;for(n=0;n<f;n++)if(e=a(b[n]),"string"===e)m.push(b[n]);else if("array"===e){q=b[n];if(q[2]){e=h[g];for(p=0;p<q[2].length;p++){if(!e.hasOwnProperty(q[2][p]))throw c('[sprintf] property "%s" does not exist',
q[2][p]);e=e[q[2][p]]}}else e=q[1]?h[q[1]]:h[g++];if(/[^s]/.test(q[8])&&"number"!=a(e))throw c("[sprintf] expecting number but found %s",a(e));switch(q[8]){case "b":e=e.toString(2);break;case "c":e=String.fromCharCode(e);break;case "d":e=parseInt(e,10);break;case "e":e=q[7]?e.toExponential(q[7]):e.toExponential();break;case "f":e=q[7]?parseFloat(e).toFixed(q[7]):parseFloat(e);break;case "o":e=e.toString(8);break;case "s":e=(e=String(e))&&q[7]?e.substring(0,q[7]):e;break;case "u":e>>>=0;break;case "x":e=
e.toString(16);break;case "X":e=e.toString(16).toUpperCase()}e=/[def]/.test(q[8])&&q[3]&&0<=e?"+"+e:e;p=q[4]?"0"==q[4]?"0":q[4].charAt(1):" ";t=q[6]-String(e).length;if(q[6]){for(var r=[];0<t;r[--t]=p);p=r.join("")}else p="";m.push(q[5]?e+p:p+e)}return m.join("")};c.cache={};c.parse=function(a){for(var b=[],c=[],f=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){var f=
f|1,e=[],m=b[2],n=[];if(null!==(n=/^([a-z_][a-z_\d]*)/i.exec(m)))for(e.push(n[1]);""!==(m=m.substring(n[0].length));)if(null!==(n=/^\.([a-z_][a-z_\d]*)/i.exec(m)))e.push(n[1]);else if(null!==(n=/^\[(\d+)\]/.exec(m)))e.push(n[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=e}else f|=2;if(3===f)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return c};b.sprintf=c;b.vsprintf=function(a,b,g){g=
b.slice(0);g.splice(0,0,a);return c.apply(null,g)}})("undefined"!=typeof exports?exports:window);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.numeraljs=com.rooxteam.numeraljs||{};com.rooxteam.numeraljs.numeral=numeral;com.rooxteam.numeraljs.sprintf=sprintf;com.rooxteam.numeraljs.vsprintf=vsprintf;
com.rooxteam.numeraljs.digits=function(b,a){var c=b||"",d=(a||"").replace(/[^0-9]/g,"").split(""),h=d.length,g="";-1<c.indexOf("#")?(h=c.match(/#/g).length,c=c.replace(/#/g,"%s")):-1<c.indexOf("0")&&(h=c.match(/0/g).length,c=c.replace(/0/g,"%s"),g="0");if(d.length<h){for(var f=[],h=h-d.length;h--;)f[h]=g;d=d.concat(f)}return vsprintf(c,d)};
"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.numeral=function(b,a,c,d){c=dust.helpers.tap(d.value,b,a);a=dust.helpers.tap(d.format,b,a);return b.write(numeral(c).format(a))},dust.helpers.sprintf=function(b,a,c,d){var h=dust.helpers.tap(d.format,b,a);return c.block&&!h?b.capture(c.block,a,function(a,b){b.end(sprintf(a,d))}):b.write(sprintf(h,d))},dust.helpers.digits=function(b,a,c,d){c=dust.helpers.tap(d.value,b,a);a=dust.helpers.tap(d.format,b,a);return b.write(com.rooxteam.numeraljs.digits(a,
c))});com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.lesscss=com.rooxteam.lesscss||{};var less={env:"development"};com.rooxteam.lesscss.reInit=function(){for(var b=document.getElementsByTagName("link"),a=/^text\/(x-)?less$/,c=0;c<b.length;c++)("stylesheet/less"===b[c].rel||b[c].rel.match(/stylesheet/)&&b[c].type.match(a))&&less.sheets.push(b[c]);less.refresh()};
(function(b,a){function c(a){return b.less[a.split("/")[1]]}function d(){"development"===x.env?(x.optimization=0,x.watchTimer=setInterval(function(){x.watchMode&&g(function(a,b,c,d,e){b&&p(b.toCSS(),d,e.lastModified)})},x.poll)):x.optimization=3}function h(){for(var a=document.getElementsByTagName("style"),b=0;b<a.length;b++)a[b].type.match(z)&&(new x.Parser({filename:document.location.href.replace(/#.*$/,""),dumpLineNumbers:x.dumpLineNumbers})).parse(a[b].innerHTML||"",function(c,d){var e=d.toCSS(),
l=a[b];l.type="text/css";l.styleSheet?l.styleSheet.cssText=e:l.innerHTML=e})}function g(a,b){for(var c=0;c<x.sheets.length;c++)m(x.sheets[c],a,b,x.sheets.length-(c+1))}function f(a,b){var c=e(a),d=e(b),f,l,g="";if(c.hostPart!==d.hostPart)return"";l=Math.max(d.directories.length,c.directories.length);for(f=0;f<l&&d.directories[f]===c.directories[f];f++);d=d.directories.slice(f);c=c.directories.slice(f);for(f=0;f<d.length-1;f++)g+="../";for(f=0;f<c.length-1;f++)g+=c[f]+"/";return g}function e(a,b){var c=
/^((?:[a-z-]+:)?\/\/(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/,d=a.match(c),e={},l=[];if(!d)throw Error("Could not parse sheet href - '"+a+"'");if(!d[1]||d[2]){c=b.match(c);if(!c)throw Error("Could not parse page url - '"+b+"'");d[1]=c[1];d[2]||(d[3]=c[3]+d[3])}if(d[3]){l=d[3].replace("\\","/").split("/");for(c=0;c<l.length;c++)".."===l[c]&&0<c&&(l.splice(c-1,2),c-=2)}e.hostPart=d[1];e.directories=l;e.path=d[1]+l.join("/");e.fileUrl=e.path+(d[4]||"");e.url=e.fileUrl+
(d[5]||"");return e}function m(a,c,d,g){var h=a.contents||{},l=a.files||{},m=e(a.href,b.location.href),r=m.url,s=F&&F.getItem(r),t=F&&F.getItem(r+":timestamp"),z={css:s,timestamp:t},B;B=x.relativeUrls?x.rootpath?a.entryPath?e(x.rootpath+f(m.path,a.entryPath)).path:x.rootpath:m.path:x.rootpath?x.rootpath:a.entryPath?a.entryPath:m.path;q(r,a.type,function(b,e){M+=b.replace(/@import .+?;/ig,"");if(!d&&z&&e&&(new Date(e)).valueOf()===(new Date(z.timestamp)).valueOf())p(z.css,a),c(null,null,b,a,{local:!0,
remaining:g},r);else try{h[r]=b,(new x.Parser({optimization:x.optimization,paths:[m.path],entryPath:a.entryPath||m.path,mime:a.type,filename:r,rootpath:B,relativeUrls:a.relativeUrls,contents:h,files:l,dumpLineNumbers:x.dumpLineNumbers})).parse(b,function(d,l){if(d)return C(d,r);try{c(d,l,b,a,{local:!1,lastModified:e,remaining:g},r);var f=document.getElementById("less-error-message:"+n(r));f&&f.parentNode.removeChild(f)}catch(h){C(h,r)}})}catch(f){C(f,r)}},function(a,b){throw Error("Couldn't load "+
b+" ("+a+")");})}function n(a){return a.replace(/^[a-z]+:\/\/?[^\/]+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function p(a,b,c){var d,e=b.href||"",l="less:"+(b.title||n(e));if(null===(d=document.getElementById(l)))d=document.createElement("style"),d.type="text/css",b.media&&(d.media=b.media),d.id=l,b=b&&b.nextSibling||null,(b||document.getElementsByTagName("head")[0]).parentNode.insertBefore(d,b);if(d.styleSheet)try{d.styleSheet.cssText=a}catch(f){throw Error("Couldn't reassign styleSheet.cssText.");
}else b=document.createTextNode(a),0<d.childNodes.length?d.firstChild.nodeValue!==b.nodeValue&&d.replaceChild(b,d.firstChild):d.appendChild(b);if(c&&F){r("saving "+e+" to cache.");try{F.setItem(e,a),F.setItem(e+":timestamp",c)}catch(g){r("failed to save")}}}function q(a,b,c,d){function e(b,c,d){200<=b.status&&300>b.status?c(b.responseText,b.getResponseHeader("Last-Modified")):"function"===typeof d&&d(b.status,a)}var l=t(),f=B?x.fileAsync:x.async;"function"===typeof l.overrideMimeType&&l.overrideMimeType("text/css");
l.open("GET",a,f);l.setRequestHeader("Accept",b||"text/x-less, text/css; q\x3d0.9, */*; q\x3d0.5");l.send(null);B&&!x.fileAsync?0===l.status||200<=l.status&&300>l.status?c(l.responseText):d(l.status,a):f?l.onreadystatechange=function(){4==l.readyState&&e(l,c,d)}:e(l,c,d)}function t(){if(b.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(a){return r("browser doesn't support AJAX."),null}}function r(a){"development"==x.env&&"undefined"!==typeof console&&
console.log("less: "+a)}function C(a,b){var c="less-error-message:"+n(b),d=document.createElement("div"),e,l,f=[];l=a.filename||b;var g=l.match(/([^\/]+(\?.*)?)$/)[1];d.id=c;d.className="less-error-message";l="\x3ch3\x3e"+(a.message||"There is an error in your .less file")+'\x3c/h3\x3e\x3cp\x3ein \x3ca href\x3d"'+l+'"\x3e'+g+"\x3c/a\x3e ";g=function(a,b,c){a.extract[b]&&f.push('\x3cli\x3e\x3clabel\x3e{line}\x3c/label\x3e\x3cpre class\x3d"{class}"\x3e{content}\x3c/pre\x3e\x3c/li\x3e'.replace(/\{line\}/,
parseInt(a.line)+(b-1)).replace(/\{class\}/,c).replace(/\{content\}/,a.extract[b]))};a.stack?l+="\x3cbr/\x3e"+a.stack.split("\n").slice(1).join("\x3cbr/\x3e"):a.extract&&(g(a,0,""),g(a,1,"line"),g(a,2,""),l+="on line "+a.line+", column "+(a.column+1)+":\x3c/p\x3e\x3cul\x3e"+f.join("")+"\x3c/ul\x3e");d.innerHTML=l;p(".less-error-message ul, .less-error-message li {\nlist-style-type: none;\nmargin-right: 15px;\npadding: 4px 0;\nmargin: 0;\n}\n.less-error-message label {\nfont-size: 12px;\nmargin-right: 15px;\npadding: 4px 0;\ncolor: #cc7777;\n}\n.less-error-message pre {\ncolor: #dd6666;\npadding: 4px 0;\nmargin: 0;\ndisplay: inline-block;\n}\n.less-error-message pre.line {\ncolor: #ff0000;\n}\n.less-error-message h3 {\nfont-size: 20px;\nfont-weight: bold;\npadding: 15px 0 5px 0;\nmargin: 0;\n}\n.less-error-message a {\ncolor: #10a\n}\n.less-error-message .error {\ncolor: red;\nfont-weight: bold;\npadding-bottom: 2px;\nborder-bottom: 1px dashed red;\n}",
{title:"error-message"});d.style.cssText="font-family: Arial, sans-serif;border: 1px solid #e00;background-color: #eee;border-radius: 5px;-webkit-border-radius: 5px;-moz-border-radius: 5px;color: #e00;padding: 15px;margin-bottom: 15px";"development"==x.env&&(e=setInterval(function(){document.body&&(document.getElementById(c)?document.body.replaceChild(d,document.getElementById(c)):document.body.insertBefore(d,document.body.firstChild),clearInterval(e))},10))}Array.isArray||(Array.isArray=function(a){return"[object Array]"===
Object.prototype.toString.call(a)||a instanceof Array});Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this.length>>>0,d=0;d<c;d++)d in this&&a.call(b,this[d],d,this)});Array.prototype.map||(Array.prototype.map=function(a,b){for(var c=this.length>>>0,d=Array(c),e=0;e<c;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d});Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c=[],d=0;d<this.length;d++)a.call(b,this[d])&&c.push(this[d]);return c});Array.prototype.reduce||
(Array.prototype.reduce=function(a){var b=this.length>>>0,c=0;if(0===b&&1===arguments.length)throw new TypeError;if(2<=arguments.length)var d=arguments[1];else{do{if(c in this){d=this[c++];break}if(++c>=b)throw new TypeError;}while(1)}for(;c<b;c++)c in this&&(d=a.call(null,d,this[c],c,this));return d});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length,d=b||0;if(!c||d>=c)return-1;for(0>d&&(d+=c);d<c;d++)if(Object.prototype.hasOwnProperty.call(this,d)&&a===this[d])return d;
return-1});Object.keys||(Object.keys=function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b});String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var x,s;"object"===typeof environment&&"[object Environment]"==={}.toString.call(environment)?(x="undefined"===typeof b?{}:b.less={},s=x.tree={},x.mode="rhino"):"undefined"===typeof b?(x=exports,s=c("./tree"),x.mode="node"):("undefined"===typeof b.less&&
(b.less={}),x=b.less,s=b.less.tree={},x.mode="browser");x.Parser=function(a){function b(){B=A[z];E=C=t}function d(){A[z]=B;E=t=C}function e(){t>E&&(A[z]=A[z].slice(t-E),E=t)}function f(a){a=a.charCodeAt(0);return 32===a||10===a||9===a}function l(a){var b;if(a instanceof Function)return a.call(F.parsers);if("string"===typeof a)a=q.charAt(t)===a?a:null,b=1,e();else if(e(),a=a.exec(A[z]))b=a[0].length;else return null;if(a){for(var c=t+A[z].length,d=t+=b;t<c&&f(q.charAt(t));)t++;A[z]=A[z].slice(b+(t-
d));E=t;0===A[z].length&&z<A.length-1&&z++;return"string"===typeof a?a:1===a.length?a[0]:a}}function g(a,b){var c=l(a);if(c)return c;h(b||("string"===typeof a?"expected '"+a+"' got '"+q.charAt(t)+"'":"unexpected token"))}function h(a,b){var c=Error(a);c.index=t;c.type=b||"Syntax";throw c;}function m(a){return"string"===typeof a?q.charAt(t)===a:a.test(A[z])?!0:!1}function n(a,b){for(var c=a,d=-1;0<=c&&"\n"!==b.charAt(c);c--)d++;return{line:"number"===typeof a?(b.slice(0,a).match(/\n/g)||"").length:
null,column:d}}function p(a,b,d){a=n(a,b).line+1;d="browser"===x.mode||"rhino"===x.mode?d.filename:c("path").resolve(d.filename);return{lineNumber:a,fileName:d}}function r(a,b){var c;c=a.filename&&b.filename&&a.filename!==b.filename?F.imports.contents[a.filename]:q;var d=n(a.index,c),e=d.line,d=d.column,l=c.split("\n");this.type=a.type||"Syntax";this.message=a.message;this.filename=a.filename||b.filename;this.index=a.index;this.line="number"===typeof e?e+1:null;this.callLine=a.call&&n(a.call,c).line+
1;this.callExtract=l[n(a.call,c).line];this.stack=a.stack;this.column=d;this.extract=[l[e-1],l[e],l[e+1]]}var q,t,z,B,C,D,A,E,F;a=a||{};a.contents||(a.contents={});a.rootpath=a.rootpath||"";a.files||(a.files={});var M=function(){},N=this.imports={paths:a.paths||[],queue:[],files:a.files,contents:a.contents,mime:a.mime,error:null,push:function(b,c){var d=this;this.queue.push(b);x.Parser.importer(b,this.paths,function(a,e,l){d.queue.splice(d.queue.indexOf(b),1);var f=l in d.files;d.files[l]=e;a&&!d.error&&
(d.error=a);c(a,e,f);0===d.queue.length&&M(d.error)},a)}};this.env=a=a||{};this.optimization="optimization"in this.env?this.env.optimization:1;this.env.filename=this.env.filename||null;return F={imports:N,parse:function(b,d){var e,f,g,h=null;t=z=E=D=0;q=b.replace(/\r\n/g,"\n");q=q.replace(/^\uFEFF/,"");A=function(b){for(var c=0,d=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,e=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,l=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,f=0,g,m=b[0],w,v=0,
G,n;v<q.length;){d.lastIndex=v;if((g=d.exec(q))&&g.index===v)v+=g[0].length,m.push(g[0]);G=q.charAt(v);e.lastIndex=l.lastIndex=v;if((g=l.exec(q))&&g.index===v)v+=g[0].length,m.push(g[0]);else{if(!w&&"/"===G&&(n=q.charAt(v+1),"/"===n||"*"===n))if((g=e.exec(q))&&g.index===v){v+=g[0].length;m.push(g[0]);continue}switch(G){case "{":if(!w){f++;m.push(G);break}case "}":if(!w){f--;m.push(G);b[++c]=m=[];break}case "(":if(!w){w=!0;m.push(G);break}case ")":if(w){w=!1;m.push(G);break}default:m.push(G)}v++}}0!=
f&&(h=new r({index:v-1,type:"Parse",message:0<f?"missing closing `}`":"missing opening `{`",filename:a.filename},a));return b.map(function(a){return a.join("")})}([[]]);if(h)return d(h,a);try{e=new s.Ruleset([],l(this.parsers.primary)),e.root=!0}catch(m){return d(new r(m,a))}e.toCSS=function(b){return function(d,e){var l=[];d=d||{};"object"===typeof e&&!Array.isArray(e)&&(e=Object.keys(e).map(function(a){var b=e[a];b instanceof s.Value||(b instanceof s.Expression||(b=new s.Expression([b])),b=new s.Value([b]));
return new s.Rule("@"+a,b,!1,0)}),l=[new s.Ruleset(null,e)]);try{var f=b.call(this,{frames:l}).toCSS([],{compress:d.compress||!1,dumpLineNumbers:a.dumpLineNumbers})}catch(g){throw new r(g,a);}if(l=F.imports.error){if(l instanceof r)throw l;throw new r(l,a);}return d.yuicompress&&"node"===x.mode?c("ycssmin").cssmin(f):d.compress?f.replace(/(\s)+/g,"$1"):f}}(e.eval);if(t<q.length-1){t=D;g=q.split("\n");f=(q.slice(0,t).match(/\n/g)||"").length+1;for(var w=t,v=-1;0<=w&&"\n"!==q.charAt(w);w--)v++;h={type:"Parse",
message:"Syntax Error on line "+f,index:t,filename:a.filename,line:f,column:v,extract:[g[f-2],g[f-1],g[f]]}}0<this.imports.queue.length?M=function(a){(a=h||a)?d(a):d(null,e)}:d(h,e)},parsers:{primary:function(){for(var a,b=[];(a=l(this.mixin.definition)||l(this.rule)||l(this.ruleset)||l(this.mixin.call)||l(this.comment)||l(this.directive))||l(/^[\s\n]+/)||l(/^;+/);)a&&b.push(a);return b},comment:function(){var a;if("/"===q.charAt(t)){if("/"===q.charAt(t+1))return new s.Comment(l(/^\/\/.*/),!0);if(a=
l(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))return new s.Comment(a)}},entities:{quoted:function(){var a;a=t;var b;"~"===q.charAt(a)&&(a++,b=!0);if(!('"'!==q.charAt(a)&&"'"!==q.charAt(a))&&(b&&l("~"),a=l(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/)))return new s.Quoted(a[0],a[1]||a[2],b)},keyword:function(){var a;if(a=l(/^[_A-Za-z-][_A-Za-z0-9-]*/))return s.colors.hasOwnProperty(a)?new s.Color(s.colors[a].slice(1)):new s.Keyword(a)},call:function(){var b,c,d=t;if(b=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(A[z])){b=
b[1];c=b.toLowerCase();if("url"===c)return null;t+=b.length;if("alpha"===c&&(c=l(this.alpha),"undefined"!==typeof c))return c;l("(");c=l(this.entities.arguments);if(l(")")&&b)return new s.Call(b,c,d,a.filename)}},arguments:function(){for(var a=[],b;(b=l(this.entities.assignment)||l(this.expression))&&!(a.push(b),!l(",")););return a},literal:function(){return l(this.entities.ratio)||l(this.entities.dimension)||l(this.entities.color)||l(this.entities.quoted)||l(this.entities.unicodeDescriptor)},assignment:function(){var a,
b;if((a=l(/^\w+(?=\s?=)/i))&&l("\x3d")&&(b=l(this.entity)))return new s.Assignment(a,b)},url:function(){var b;if("u"===q.charAt(t)&&l(/^url\(/))return b=l(this.entities.quoted)||l(this.entities.variable)||l(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",g(")"),new s.URL(null!=b.value||b instanceof s.Variable?b:new s.Anonymous(b),a.rootpath)},variable:function(){var b,c=t;if("@"===q.charAt(t)&&(b=l(/^@@?[\w-]+/)))return new s.Variable(b,c,a.filename)},variableCurly:function(){var b,c=t;if("@"===q.charAt(t)&&
(b=l(/^@\{([\w-]+)\}/)))return new s.Variable("@"+b[1],c,a.filename)},color:function(){var a;if("#"===q.charAt(t)&&(a=l(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)))return new s.Color(a[1])},dimension:function(){var a;a=q.charCodeAt(t);if(!(57<a||43>a)&&!(47===a||44==a))if(a=l(/^([+-]?\d*\.?\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn|dpi|dpcm|dppx|rem|vw|vh|vmin|vm|ch)?/))return new s.Dimension(a[1],a[2])},ratio:function(){var a;a=q.charCodeAt(t);if(!(57<a||48>a))if(a=l(/^(\d+\/\d+)/))return new s.Ratio(a[1])},
unicodeDescriptor:function(){var a;if(a=l(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))return new s.UnicodeDescriptor(a[0])},javascript:function(){var a;a=t;var b;"~"===q.charAt(a)&&(a++,b=!0);if("`"===q.charAt(a)&&(b&&l("~"),a=l(/^`([^`]*)`/)))return new s.JavaScript(a[1],t,b)}},variable:function(){var a;if("@"===q.charAt(t)&&(a=l(/^(@[\w-]+)\s*:/)))return a[1]},shorthand:function(){var a,c;if(m(/^[@\w.%-]+\/[@\w.-]+/)){b();if((a=l(this.entity))&&l("/")&&(c=l(this.entity)))return new s.Shorthand(a,c);
d()}},mixin:{call:function(){var c=[],e,f,G=[],n=[],p,r,O,x=t;e=q.charAt(t);var z,A,B=!1;if(!("."!==e&&"#"!==e)){for(b();e=l(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);)c.push(new s.Element(f,e,t)),f=l("\x3e");if(l("(")){for(e=[];p=l(this.expression);)if(f=null,A=p,1==p.value.length&&(p=p.value[0],p instanceof s.Variable&&l(":")&&(0<e.length&&(r&&h("Cannot mix ; and , as delimiter types"),O=!0),A=g(this.expression),f=z=p.name)),e.push(A),n.push({name:f,value:A}),!l(",")&&(l(";")||r))O&&
h("Cannot mix ; and , as delimiter types"),r=!0,1<e.length&&(A=new s.Value(e)),G.push({name:z,value:A}),z=null,e=[],O=!1;g(")")}G=r?G:n;l(this.important)&&(B=!0);if(0<c.length&&(l(";")||m("}")))return new s.mixin.Call(c,G,x,a.filename,B);d()}},definition:function(){var a,c=[],e,f,h,y=!1;if(!("."!==q.charAt(t)&&"#"!==q.charAt(t)||m(/^[^{]*\}/)))if(b(),a=l(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){a=a[1];do if(l(this.comment),"."===q.charAt(t)&&l(/^\.{3}/)){y=!0;c.push({variadic:!0});
break}else if(e=l(this.entities.variable)||l(this.entities.literal)||l(this.entities.keyword))if(e instanceof s.Variable)if(l(":"))f=g(this.expression,"expected expression"),c.push({name:e.name,value:f});else if(l(/^\.{3}/)){c.push({name:e.name,variadic:!0});y=!0;break}else c.push({name:e.name});else c.push({value:e});else break;while(l(",")||l(";"));l(")")||(D=t,d());l(this.comment);l(/^when/)&&(h=g(this.conditions,"expected condition"));if(e=l(this.block))return new s.mixin.Definition(a,c,e,h,y);
d()}}},entity:function(){return l(this.entities.literal)||l(this.entities.variable)||l(this.entities.url)||l(this.entities.call)||l(this.entities.keyword)||l(this.entities.javascript)||l(this.comment)},end:function(){return l(";")||m("}")},alpha:function(){var a;if(l(/^\(opacity=/i)&&(a=l(/^\d+/)||l(this.entities.variable)))return g(")"),new s.Alpha(a)},element:function(){var a,b,c;b=l(this.combinator);a=l(/^(?:\d+\.\d+|\d+)%/)||l(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||
l("*")||l("\x26")||l(this.attribute)||l(/^\([^()@]+\)/)||l(/^[\.#](?=@)/)||l(this.entities.variableCurly);if(!a&&l("(")&&(c=l(this.entities.variableCurly)||l(this.entities.variable)||l(this.selector))&&l(")"))a=new s.Paren(c);if(a)return new s.Element(b,a,t)},combinator:function(){var a=q.charAt(t);if("\x3e"===a||"+"===a||"~"===a||"|"===a){for(t++;q.charAt(t).match(/\s/);)t++;return new s.Combinator(a)}return q.charAt(t-1).match(/\s/)?new s.Combinator(" "):new s.Combinator(null)},selector:function(){var a,
b=[],c;if(l("("))return a=l(this.entity),!l(")")?null:new s.Selector([new s.Element("",a,t)]);for(;(a=l(this.element))&&!(c=q.charAt(t),b.push(a),"{"===c||"}"===c||";"===c||","===c||")"===c););if(0<b.length)return new s.Selector(b)},attribute:function(){var a="",b,c,d;if(l("[")){if(b=l(/^(?:[_A-Za-z0-9-]|\\.)+/)||l(this.entities.quoted))a=(d=l(/^[|~*$^]?=/))&&(c=l(this.entities.quoted)||l(/^[\w-]+/))?[b,d,c.toCSS?c.toCSS():c].join(""):b;if(l("]")&&a)return"["+a+"]"}},block:function(){var a;if(l("{")&&
(a=l(this.primary))&&l("}"))return a},ruleset:function(){var c=[],e,f,g;b();for(a.dumpLineNumbers&&(g=p(t,q,a));e=l(this.selector);){c.push(e);l(this.comment);if(!l(","))break;l(this.comment)}if(0<c.length&&(f=l(this.block)))return c=new s.Ruleset(c,f,a.strictImports),a.dumpLineNumbers&&(c.debugInfo=g),c;D=t;d()},rule:function(){var a,c;a=q.charAt(t);var e;b();if(!("."===a||"#"===a||"\x26"===a))if(a=l(this.variable)||l(this.property)){"@"!=a.charAt(0)&&(c=/^([^@+\/'"*`(;{}-]*);/.exec(A[z]))?(t+=c[0].length-
1,c=new s.Anonymous(c[1])):c="font"===a?l(this.font):l(this.value);e=l(this.important);if(c&&l(this.end))return new s.Rule(a,c,e,C);D=t;d()}},"import":function(){var c,e,f=t;b();var g=l(/^@import(?:-(once))?\s+/);if(g&&(c=l(this.entities.quoted)||l(this.entities.url)))if(e=l(this.mediaFeatures),l(";"))return new s.Import(c,N,e,"once"===g[1],f,a.rootpath);d()},mediaFeature:function(){var a,b,c=[];do if(a=l(this.entities.keyword))c.push(a);else if(l("("))if(b=l(this.property),a=l(this.entity),l(")"))if(b&&
a)c.push(new s.Paren(new s.Rule(b,a,null,t,!0)));else if(a)c.push(new s.Paren(a));else return null;else return null;while(a);if(0<c.length)return new s.Expression(c)},mediaFeatures:function(){var a,b=[];do if(a=l(this.mediaFeature)){if(b.push(a),!l(","))break}else if(a=l(this.entities.variable))if(b.push(a),!l(","))break;while(a);return 0<b.length?b:null},media:function(){var b,c,d;a.dumpLineNumbers&&(d=p(t,q,a));if(l(/^@media/)&&(b=l(this.mediaFeatures),c=l(this.block)))return b=new s.Media(c,b),
a.dumpLineNumbers&&(b.debugInfo=d),b},directive:function(){var c,e,f,g,h;if("@"===q.charAt(t)){if(e=l(this["import"])||l(this.media))return e;b();if(c=l(/^@[a-z-]+/)){e=c;"-"==c.charAt(1)&&0<c.indexOf("-",2)&&(e="@"+c.slice(c.indexOf("-",2)+1));switch(e){case "@font-face":f=!0;break;case "@viewport":case "@top-left":case "@top-left-corner":case "@top-center":case "@top-right":case "@top-right-corner":case "@bottom-left":case "@bottom-left-corner":case "@bottom-center":case "@bottom-right":case "@bottom-right-corner":case "@left-top":case "@left-middle":case "@left-bottom":case "@right-top":case "@right-middle":case "@right-bottom":f=
!0;break;case "@page":case "@document":case "@supports":case "@keyframes":g=f=!0;break;case "@namespace":h=!0}g&&(c+=" "+(l(/^[^{]+/)||"").trim());if(f){if(f=l(this.block))return new s.Directive(c,f)}else if((e=h?l(this.expression):l(this.entity))&&l(";"))return c=new s.Directive(c,e),a.dumpLineNumbers&&(c.debugInfo=p(t,q,a)),c;d()}}},font:function(){for(var a=[],b=[],c;c=l(this.shorthand)||l(this.entity);)b.push(c);a.push(new s.Expression(b));if(l(","))for(;(c=l(this.expression))&&!(a.push(c),!l(",")););
return new s.Value(a)},value:function(){for(var a,b=[];(a=l(this.expression))&&!(b.push(a),!l(",")););if(0<b.length)return new s.Value(b)},important:function(){if("!"===q.charAt(t))return l(/^! *important/)},sub:function(){var a;if(l("(")&&(a=l(this.expression))&&l(")"))return a},multiplication:function(){var a,b,c,d;if(a=l(this.operand)){for(;!m(/^\/[*\/]/)&&(c=l("/")||l("*"))&&(b=l(this.operand));)d=new s.Operation(c,[d||a,b]);return d||a}},addition:function(){var a,b,c,d;if(a=l(this.multiplication)){for(;(c=
l(/^[-+]\s+/)||!f(q.charAt(t-1))&&(l("+")||l("-")))&&(b=l(this.multiplication));)d=new s.Operation(c,[d||a,b]);return d||a}},conditions:function(){var a,b,c=t,d;if(a=l(this.condition)){for(;l(",")&&(b=l(this.condition));)d=new s.Condition("or",d||a,b,c);return d||a}},condition:function(){var a,b,c,d,e=t,f=!1;l(/^not/)&&(f=!0);g("(");if(a=l(this.addition)||l(this.entities.keyword)||l(this.entities.quoted))return(d=l(/^(?:>=|=<|[<=>])/))?(b=l(this.addition)||l(this.entities.keyword)||l(this.entities.quoted))?
c=new s.Condition(d,a,b,e,f):h("expected expression"):c=new s.Condition("\x3d",a,new s.Keyword("true"),e,f),g(")"),l(/^and/)?new s.Condition("and",c,l(this.condition)):c},operand:function(){var a,b=q.charAt(t+1);if("-"===q.charAt(t)&&("@"===b||"("===b))a=l("-");b=l(this.sub)||l(this.entities.dimension)||l(this.entities.color)||l(this.entities.variable)||l(this.entities.call);return a?new s.Operation("*",[new s.Dimension(-1),b]):b},expression:function(){for(var a,b=[];a=l(this.addition)||l(this.entity);)b.push(a);
if(0<b.length)return new s.Expression(b)},property:function(){var a;if(a=l(/^(\*?-?[_a-z0-9-]+)\s*:/))return a[1]}}}};if("browser"===x.mode||"rhino"===x.mode)x.Parser.importer=function(a,b,c,d){!/^([a-z-]+:)?\//.test(a)&&0<b.length&&(a=b[0]+a);m({href:a,title:a,type:d.mime,contents:d.contents,files:d.files,rootpath:d.rootpath,entryPath:d.entryPath,relativeUrls:d.relativeUrls},function(a,e,f,g,h,m){a&&"function"===typeof d.errback?d.errback.call(null,m,b,c,d):c.call(null,a,e,m)},!0)};(function(a){function b(c){return a.functions.hsla(c.h,
c.s,c.l,c.a)}function c(b){if(b instanceof a.Dimension)return parseFloat("%"==b.unit?b.value/100:b.value);if("number"===typeof b)return b;throw{error:"RuntimeError",message:"color functions take numbers as parameters"};}function d(a){return Math.min(1,Math.max(0,a))}a.functions={rgb:function(a,b,c){return this.rgba(a,b,c,1)},rgba:function(b,d,e,f){b=[b,d,e].map(function(b){b=b instanceof a.Dimension&&"%"==b.unit?parseFloat(256*b.value/100):c(b);return b});f=c(f);return new a.Color(b,f)},hsl:function(a,
b,c){return this.hsla(a,b,c,1)},hsla:function(a,b,d,e){function f(a){a=0>a?a+1:1<a?a-1:a;return 1>6*a?h+6*(g-h)*a:1>2*a?g:2>3*a?h+6*(g-h)*(2/3-a):h}a=c(a)%360/360;b=c(b);d=c(d);e=c(e);var g=0.5>=d?d*(b+1):d+b-d*b,h=2*d-g;return this.rgba(255*f(a+1/3),255*f(a),255*f(a-1/3),e)},hsv:function(a,b,c){return this.hsva(a,b,c,1)},hsva:function(a,b,d,e){a=360*(c(a)%360/360);b=c(b);d=c(d);e=c(e);var f;f=Math.floor(a/60%6);a=a/60-f;b=[d,d*(1-b),d*(1-a*b),d*(1-(1-a)*b)];d=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,
1,0],[0,1,2]];return this.rgba(255*b[d[f][0]],255*b[d[f][1]],255*b[d[f][2]],e)},hue:function(b){return new a.Dimension(Math.round(b.toHSL().h))},saturation:function(b){return new a.Dimension(Math.round(100*b.toHSL().s),"%")},lightness:function(b){return new a.Dimension(Math.round(100*b.toHSL().l),"%")},red:function(b){return new a.Dimension(b.rgb[0])},green:function(b){return new a.Dimension(b.rgb[1])},blue:function(b){return new a.Dimension(b.rgb[2])},alpha:function(b){return new a.Dimension(b.toHSL().a)},
luma:function(b){return new a.Dimension(Math.round(100*(0.2126*(b.rgb[0]/255)+0.7152*(b.rgb[1]/255)+0.0722*(b.rgb[2]/255))*b.alpha),"%")},saturate:function(a,c){var e=a.toHSL();e.s+=c.value/100;e.s=d(e.s);return b(e)},desaturate:function(a,c){var e=a.toHSL();e.s-=c.value/100;e.s=d(e.s);return b(e)},lighten:function(a,c){var e=a.toHSL();e.l+=c.value/100;e.l=d(e.l);return b(e)},darken:function(a,c){var e=a.toHSL();e.l-=c.value/100;e.l=d(e.l);return b(e)},fadein:function(a,c){var e=a.toHSL();e.a+=c.value/
100;e.a=d(e.a);return b(e)},fadeout:function(a,c){var e=a.toHSL();e.a-=c.value/100;e.a=d(e.a);return b(e)},fade:function(a,c){var e=a.toHSL();e.a=c.value/100;e.a=d(e.a);return b(e)},spin:function(a,c){var d=a.toHSL(),e=(d.h+c.value)%360;d.h=0>e?360+e:e;return b(d)},mix:function(b,c,d){d||(d=new a.Dimension(50));d=d.value/100;var e=2*d-1,f=b.toHSL().a-c.toHSL().a,e=((-1==e*f?e:(e+f)/(1+e*f))+1)/2,f=1-e;return new a.Color([b.rgb[0]*e+c.rgb[0]*f,b.rgb[1]*e+c.rgb[1]*f,b.rgb[2]*e+c.rgb[2]*f],b.alpha*d+
c.alpha*(1-d))},greyscale:function(b){return this.desaturate(b,new a.Dimension(100))},contrast:function(a,b,c,d){if(!a.rgb)return null;"undefined"===typeof c&&(c=this.rgba(255,255,255,1));"undefined"===typeof b&&(b=this.rgba(0,0,0,1));d="undefined"===typeof d?0.43:d.value;return(0.2126*(a.rgb[0]/255)+0.7152*(a.rgb[1]/255)+0.0722*(a.rgb[2]/255))*a.alpha<d?c:b},e:function(b){return new a.Anonymous(b instanceof a.JavaScript?b.evaluated:b)},escape:function(b){return new a.Anonymous(encodeURI(b.value).replace(/=/g,
"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},"%":function(b){for(var c=Array.prototype.slice.call(arguments,1),d=b.value,e=0;e<c.length;e++)d=d.replace(/%[sda]/i,function(a){var b=a.match(/s/i)?c[e].value:c[e].toCSS();return a.match(/[A-Z]$/)?encodeURIComponent(b):b});d=d.replace(/%%/g,"%");return new a.Quoted('"'+d+'"',d)},unit:function(b,c){return new a.Dimension(b.value,c?c.toCSS():"")},round:function(a,b){var c="undefined"===typeof b?
0:b.value;return this._math(function(a){return a.toFixed(c)},a)},ceil:function(a){return this._math(Math.ceil,a)},floor:function(a){return this._math(Math.floor,a)},_math:function(b,c){if(c instanceof a.Dimension)return new a.Dimension(b(parseFloat(c.value)),c.unit);if("number"===typeof c)return b(c);throw{type:"Argument",message:"argument must be a number"};},argb:function(b){return new a.Anonymous(b.toARGB())},percentage:function(b){return new a.Dimension(100*b.value,"%")},color:function(b){if(b instanceof
a.Quoted)return new a.Color(b.value.slice(1));throw{type:"Argument",message:"argument must be a string"};},iscolor:function(b){return this._isa(b,a.Color)},isnumber:function(b){return this._isa(b,a.Dimension)},isstring:function(b){return this._isa(b,a.Quoted)},iskeyword:function(b){return this._isa(b,a.Keyword)},isurl:function(b){return this._isa(b,a.URL)},ispixel:function(b){return b instanceof a.Dimension&&"px"===b.unit?a.True:a.False},ispercentage:function(b){return b instanceof a.Dimension&&"%"===
b.unit?a.True:a.False},isem:function(b){return b instanceof a.Dimension&&"em"===b.unit?a.True:a.False},_isa:function(b,c){return b instanceof c?a.True:a.False},multiply:function(a,b){return this.rgb(a.rgb[0]*b.rgb[0]/255,a.rgb[1]*b.rgb[1]/255,a.rgb[2]*b.rgb[2]/255)},screen:function(a,b){return this.rgb(255-(255-a.rgb[0])*(255-b.rgb[0])/255,255-(255-a.rgb[1])*(255-b.rgb[1])/255,255-(255-a.rgb[2])*(255-b.rgb[2])/255)},overlay:function(a,b){return this.rgb(128>a.rgb[0]?2*a.rgb[0]*b.rgb[0]/255:255-2*
(255-a.rgb[0])*(255-b.rgb[0])/255,128>a.rgb[1]?2*a.rgb[1]*b.rgb[1]/255:255-2*(255-a.rgb[1])*(255-b.rgb[1])/255,128>a.rgb[2]?2*a.rgb[2]*b.rgb[2]/255:255-2*(255-a.rgb[2])*(255-b.rgb[2])/255)},softlight:function(a,b){var c=b.rgb[0]*a.rgb[0]/255,d=c+a.rgb[0]*(255-(255-a.rgb[0])*(255-b.rgb[0])/255-c)/255,c=b.rgb[1]*a.rgb[1]/255,e=c+a.rgb[1]*(255-(255-a.rgb[1])*(255-b.rgb[1])/255-c)/255,c=b.rgb[2]*a.rgb[2]/255;return this.rgb(d,e,c+a.rgb[2]*(255-(255-a.rgb[2])*(255-b.rgb[2])/255-c)/255)},hardlight:function(a,
b){return this.rgb(128>b.rgb[0]?2*b.rgb[0]*a.rgb[0]/255:255-2*(255-b.rgb[0])*(255-a.rgb[0])/255,128>b.rgb[1]?2*b.rgb[1]*a.rgb[1]/255:255-2*(255-b.rgb[1])*(255-a.rgb[1])/255,128>b.rgb[2]?2*b.rgb[2]*a.rgb[2]/255:255-2*(255-b.rgb[2])*(255-a.rgb[2])/255)},difference:function(a,b){var c=Math.abs(a.rgb[0]-b.rgb[0]),d=Math.abs(a.rgb[1]-b.rgb[1]),e=Math.abs(a.rgb[2]-b.rgb[2]);return this.rgb(c,d,e)},exclusion:function(a,b){return this.rgb(a.rgb[0]+b.rgb[0]*(255-a.rgb[0]-a.rgb[0])/255,a.rgb[1]+b.rgb[1]*(255-
a.rgb[1]-a.rgb[1])/255,a.rgb[2]+b.rgb[2]*(255-a.rgb[2]-a.rgb[2])/255)},average:function(a,b){return this.rgb((a.rgb[0]+b.rgb[0])/2,(a.rgb[1]+b.rgb[1])/2,(a.rgb[2]+b.rgb[2])/2)},negation:function(a,b){var c=255-Math.abs(255-b.rgb[0]-a.rgb[0]),d=255-Math.abs(255-b.rgb[1]-a.rgb[1]),e=255-Math.abs(255-b.rgb[2]-a.rgb[2]);return this.rgb(c,d,e)},tint:function(a,b){return this.mix(this.rgb(255,255,255),a,b)},shade:function(a,b){return this.mix(this.rgb(0,0,0),a,b)}}})(c("./tree"));(function(a){a.colors=
{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",
darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",
gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",
lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",
navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",
sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(c("./tree"));(function(a){a.Alpha=function(a){this.value=a};a.Alpha.prototype={toCSS:function(){return"alpha(opacity\x3d"+(this.value.toCSS?
this.value.toCSS():this.value)+")"},eval:function(a){this.value.eval&&(this.value=this.value.eval(a));return this}}})(c("../tree"));(function(a){a.Anonymous=function(a){this.value=a.value||a};a.Anonymous.prototype={toCSS:function(){return this.value},eval:function(){return this},compare:function(a){if(!a.toCSS)return-1;var b=this.toCSS();a=a.toCSS();return b===a?0:b<a?-1:1}}})(c("../tree"));(function(a){a.Assignment=function(a,b){this.key=a;this.value=b};a.Assignment.prototype={toCSS:function(){return this.key+
"\x3d"+(this.value.toCSS?this.value.toCSS():this.value)},eval:function(b){return this.value.eval?new a.Assignment(this.key,this.value.eval(b)):this}}})(c("../tree"));(function(a){a.Call=function(a,b,c,d){this.name=a;this.args=b;this.index=c;this.filename=d};a.Call.prototype={eval:function(b){var c=this.args.map(function(a){return a.eval(b)}),d;if(this.name in a.functions)try{if(d=a.functions[this.name].apply(a.functions,c),null!=d)return d}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+
this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.filename};}return new a.Anonymous(this.name+"("+c.map(function(a){return a.toCSS(b)}).join(", ")+")")},toCSS:function(a){return this.eval(a).toCSS()}}})(c("../tree"));(function(a){a.Color=function(a,b){Array.isArray(a)?this.rgb=a:this.rgb=6==a.length?a.match(/.{2}/g).map(function(a){return parseInt(a,16)}):a.split("").map(function(a){return parseInt(a+a,16)});this.alpha="number"===typeof b?b:1};a.Color.prototype={eval:function(){return this},
toCSS:function(){return 1>this.alpha?"rgba("+this.rgb.map(function(a){return Math.round(a)}).concat(this.alpha).join(", ")+")":"#"+this.rgb.map(function(a){a=Math.round(a);a=(255<a?255:0>a?0:a).toString(16);return 1===a.length?"0"+a:a}).join("")},operate:function(b,c){var d=[];c instanceof a.Color||(c=c.toColor());for(var e=0;3>e;e++)d[e]=a.operate(b,this.rgb[e],c.rgb[e]);return new a.Color(d,this.alpha+c.alpha)},toHSL:function(){var a=this.rgb[0]/255,b=this.rgb[1]/255,c=this.rgb[2]/255,d=this.alpha,
e=Math.max(a,b,c),f=Math.min(a,b,c),g,h=(e+f)/2,m=e-f;if(e===f)g=f=0;else{f=0.5<h?m/(2-e-f):m/(e+f);switch(e){case a:g=(b-c)/m+(b<c?6:0);break;case b:g=(c-a)/m+2;break;case c:g=(a-b)/m+4}g/=6}return{h:360*g,s:f,l:h,a:d}},toARGB:function(){return"#"+[Math.round(255*this.alpha)].concat(this.rgb).map(function(a){a=Math.round(a);a=(255<a?255:0>a?0:a).toString(16);return 1===a.length?"0"+a:a}).join("")},compare:function(a){return!a.rgb?-1:a.rgb[0]===this.rgb[0]&&a.rgb[1]===this.rgb[1]&&a.rgb[2]===this.rgb[2]&&
a.alpha===this.alpha?0:-1}}})(c("../tree"));(function(a){a.Comment=function(a,b){this.value=a;this.silent=!!b};a.Comment.prototype={toCSS:function(a){return a.compress?"":this.value},eval:function(){return this}}})(c("../tree"));(function(a){a.Condition=function(a,b,c,d,e){this.op=a.trim();this.lvalue=b;this.rvalue=c;this.index=d;this.negate=e};a.Condition.prototype.eval=function(a){var b=this.lvalue.eval(a),c=this.rvalue.eval(a),d=this.index,e;e=function(a){switch(a){case "and":return b&&c;case "or":return b||
c;default:if(b.compare)e=b.compare(c);else if(c.compare)e=c.compare(b);else throw{type:"Type",message:"Unable to perform comparison",index:d};switch(e){case -1:return"\x3c"===a||"\x3d\x3c"===a;case 0:return"\x3d"===a||"\x3e\x3d"===a||"\x3d\x3c"===a;case 1:return"\x3e"===a||"\x3e\x3d"===a}}}(this.op);return this.negate?!e:e}})(c("../tree"));(function(a){a.Dimension=function(a,b){this.value=parseFloat(a);this.unit=b||null};a.Dimension.prototype={eval:function(){return this},toColor:function(){return new a.Color([this.value,
this.value,this.value])},toCSS:function(){return this.value+this.unit},operate:function(b,c){return new a.Dimension(a.operate(b,this.value,c.value),this.unit||c.unit)},compare:function(b){return b instanceof a.Dimension?b.value>this.value?-1:b.value<this.value?1:b.unit&&this.unit!==b.unit?-1:0:-1}}})(c("../tree"));(function(a){a.Directive=function(b,c){this.name=b;Array.isArray(c)?(this.ruleset=new a.Ruleset([],c),this.ruleset.allowImports=!0):this.value=c};a.Directive.prototype={toCSS:function(a,
b){return this.ruleset?(this.ruleset.root=!0,this.name+(b.compress?"{":" {\n  ")+this.ruleset.toCSS(a,b).trim().replace(/\n/g,"\n  ")+(b.compress?"}":"\n}\n")):this.name+" "+this.value.toCSS()+";\n"},eval:function(b){var c=this;this.ruleset&&(b.frames.unshift(this),c=new a.Directive(this.name),c.ruleset=this.ruleset.eval(b),b.frames.shift());return c},variable:function(b){return a.Ruleset.prototype.variable.call(this.ruleset,b)},find:function(){return a.Ruleset.prototype.find.apply(this.ruleset,arguments)},
rulesets:function(){return a.Ruleset.prototype.rulesets.apply(this.ruleset)}}})(c("../tree"));(function(a){a.Element=function(b,c,d){this.combinator=b instanceof a.Combinator?b:new a.Combinator(b);this.value="string"===typeof c?c.trim():c?c:"";this.index=d};a.Element.prototype.eval=function(b){return new a.Element(this.combinator,this.value.eval?this.value.eval(b):this.value,this.index)};a.Element.prototype.toCSS=function(a){var b=this.value.toCSS?this.value.toCSS(a):this.value;return""==b&&"\x26"==
this.combinator.value.charAt(0)?"":this.combinator.toCSS(a||{})+b};a.Combinator=function(a){this.value=" "===a?" ":a?a.trim():""};a.Combinator.prototype.toCSS=function(a){return{"":""," ":" ",":":" :","+":a.compress?"+":" + ","~":a.compress?"~":" ~ ","\x3e":a.compress?"\x3e":" \x3e ","|":a.compress?"|":" | "}[this.value]}})(c("../tree"));(function(a){a.Expression=function(a){this.value=a};a.Expression.prototype={eval:function(b){return 1<this.value.length?new a.Expression(this.value.map(function(a){return a.eval(b)})):
1===this.value.length?this.value[0].eval(b):this},toCSS:function(a){return this.value.map(function(b){return b.toCSS?b.toCSS(a):""}).join(" ")}}})(c("../tree"));(function(a){a.Import=function(b,c,d,e,f,g){var h=this;this.once=e;this.index=f;this._path=b;this.features=d&&new a.Value(d);this.rootpath=g;this.path=b instanceof a.Quoted?/(\.[a-z]*$)|([\?;].*)$/.test(b.value)?b.value:b.value+".less":b.value.value||b.value;(this.css=/css([\?;].*)?$/.test(this.path))||c.push(this.path,function(b,c,d){b&&
(b.index=f);d&&h.once&&(h.skip=d);h.root=c||new a.Ruleset([],[])})};a.Import.prototype={toCSS:function(a){a=this.features?" "+this.features.toCSS(a):"";return this.css?("string"===typeof this._path.value&&!/^(?:[a-z-]+:|\/)/.test(this._path.value)&&(this._path.value=this.rootpath+this._path.value),"@import "+this._path.toCSS()+a+";\n"):""},eval:function(b){var c;this.features&&this.features.eval(b);if(this.skip)return[];if(this.css)return this;c=new a.Ruleset([],this.root.rules.slice(0));c.evalImports(b);
return this.features?new a.Media(c.rules,this.features.value):c.rules}}})(c("../tree"));(function(a){a.JavaScript=function(a,b,c){this.escaped=c;this.expression=a;this.index=b};a.JavaScript.prototype={eval:function(b){var c,d=this,e={},f=this.expression.replace(/@\{([\w-]+)\}/g,function(c,e){return a.jsify((new a.Variable("@"+e,d.index)).eval(b))});try{f=new Function("return ("+f+")")}catch(g){throw{message:"JavaScript evaluation error: `"+f+"`",index:this.index};}for(var h in b.frames[0].variables())e[h.slice(1)]=
{value:b.frames[0].variables()[h].value,toJS:function(){return this.value.eval(b).toCSS()}};try{c=f.call(e)}catch(m){throw{message:"JavaScript evaluation error: '"+m.name+": "+m.message+"'",index:this.index};}return"string"===typeof c?new a.Quoted('"'+c+'"',c,this.escaped,this.index):Array.isArray(c)?new a.Anonymous(c.join(", ")):new a.Anonymous(c)}}})(c("../tree"));(function(a){a.Keyword=function(a){this.value=a};a.Keyword.prototype={eval:function(){return this},toCSS:function(){return this.value},
compare:function(b){return b instanceof a.Keyword?b.value===this.value?0:1:-1}};a.True=new a.Keyword("true");a.False=new a.Keyword("false")})(c("../tree"));(function(a){a.Media=function(b,c){var d=this.emptySelectors();this.features=new a.Value(c);this.ruleset=new a.Ruleset(d,b);this.ruleset.allowImports=!0};a.Media.prototype={toCSS:function(a,b){var c=this.features.toCSS(b);this.ruleset.root=0===a.length||a[0].multiMedia;return"@media "+c+(b.compress?"{":" {\n  ")+this.ruleset.toCSS(a,b).trim().replace(/\n/g,
"\n  ")+(b.compress?"}":"\n}\n")},eval:function(b){b.mediaBlocks||(b.mediaBlocks=[],b.mediaPath=[]);var c=new a.Media([],[]);this.debugInfo&&(this.ruleset.debugInfo=this.debugInfo,c.debugInfo=this.debugInfo);c.features=this.features.eval(b);b.mediaPath.push(c);b.mediaBlocks.push(c);b.frames.unshift(this.ruleset);c.ruleset=this.ruleset.eval(b);b.frames.shift();b.mediaPath.pop();return 0===b.mediaPath.length?c.evalTop(b):c.evalNested(b)},variable:function(b){return a.Ruleset.prototype.variable.call(this.ruleset,
b)},find:function(){return a.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return a.Ruleset.prototype.rulesets.apply(this.ruleset)},emptySelectors:function(){var b=new a.Element("","\x26",0);return[new a.Selector([b])]},evalTop:function(b){var c=this;1<b.mediaBlocks.length&&(c=this.emptySelectors(),c=new a.Ruleset(c,b.mediaBlocks),c.multiMedia=!0);delete b.mediaBlocks;delete b.mediaPath;return c},evalNested:function(b){var c,d=b.mediaPath.concat([this]);for(c=0;c<d.length;c++)b=
d[c].features instanceof a.Value?d[c].features.value:d[c].features,d[c]=Array.isArray(b)?b:[b];this.features=new a.Value(this.permute(d).map(function(b){b=b.map(function(b){return b.toCSS?b:new a.Anonymous(b)});for(c=b.length-1;0<c;c--)b.splice(c,0,new a.Anonymous("and"));return new a.Expression(b)}));return new a.Ruleset([],[])},permute:function(a){if(0===a.length)return[];if(1===a.length)return a[0];for(var b=[],c=this.permute(a.slice(1)),d=0;d<c.length;d++)for(var e=0;e<a[0].length;e++)b.push([a[0][e]].concat(c[d]));
return b},bubbleSelectors:function(b){this.ruleset=new a.Ruleset(b.slice(0),[this.ruleset])}}})(c("../tree"));(function(a){a.mixin={};a.mixin.Call=function(b,c,d,e,f){this.selector=new a.Selector(b);this.arguments=c;this.index=d;this.filename=e;this.important=f};a.mixin.Call.prototype={eval:function(b){var c,d,e,f=[],g=!1,h,m,n,p,q;e=this.arguments&&this.arguments.map(function(a){return{name:a.name,value:a.value.eval(b)}});for(h=0;h<b.frames.length;h++)if(0<(c=b.frames[h].find(this.selector)).length){q=
!0;for(m=0;m<c.length;m++){d=c[m];p=!1;for(n=0;n<b.frames.length;n++)if(!(d instanceof a.mixin.Definition)&&d===(b.frames[n].originalRuleset||b.frames[n])){p=!0;break}if(!p&&d.matchArgs(e,b)){if(!d.matchCondition||d.matchCondition(e,b))try{Array.prototype.push.apply(f,d.eval(b,e,this.important).rules)}catch(r){throw{message:r.message,index:this.index,filename:this.filename,stack:r.stack};}g=!0}}if(g)return f}if(q)throw{type:"Runtime",message:"No matching definition was found for `"+this.selector.toCSS().trim()+
"("+(e?e.map(function(a){var b="";a.name&&(b+=a.name+":");return b=a.value.toCSS?b+a.value.toCSS():b+"???"}).join(", "):"")+")`",index:this.index,filename:this.filename};throw{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.filename};}};a.mixin.Definition=function(b,c,d,e,f){this.name=b;this.selectors=[new a.Selector([new a.Element(null,b)])];this.params=c;this.condition=e;this.variadic=f;this.arity=c.length;this.rules=d;this._lookups={};this.required=
c.reduce(function(a,b){return!b.name||b.name&&!b.value?a+1:a},0);this.parent=a.Ruleset.prototype;this.frames=[]};a.mixin.Definition.prototype={toCSS:function(){return""},variable:function(a){return this.parent.variable.call(this,a)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(b,c,d,e){var f=new a.Ruleset(null,[]),g,h=this.params.slice(0),
m,n,p,q;if(d){d=d.slice(0);for(m=0;m<d.length;m++)if(p=(g=d[m])&&g.name){q=!1;for(n=0;n<h.length;n++)if(!e[n]&&p===h[n].name){e[n]=g.value.eval(b);f.rules.unshift(new a.Rule(p,g.value.eval(b)));q=!0;break}if(q)d.splice(m,1),m--;else throw{type:"Runtime",message:"Named argument for "+this.name+" "+d[m].name+" not found"};}}for(m=q=0;m<h.length;m++)if(!e[m]){g=d&&d[q];if(p=h[m].name)if(h[m].variadic&&d){g=[];for(n=q;n<d.length;n++)g.push(d[n].value.eval(b));f.rules.unshift(new a.Rule(p,(new a.Expression(g)).eval(b)))}else{if(n=
g&&g.value)n=n.eval(b);else if(h[m].value)n=h[m].value.eval(c);else throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+d.length+" for "+this.arity+")"};f.rules.unshift(new a.Rule(p,n));e[m]=n}if(h[m].variadic&&d)for(n=q;n<d.length;n++)e[n]=d[n].value.eval(b);q++}return f},eval:function(b,c,d){var e=[],f=this.frames.concat(b.frames);c=this.evalParams(b,{frames:f},c,e);c.rules.unshift(new a.Rule("@arguments",(new a.Expression(e)).eval(b)));b=d?this.parent.makeImportant.apply(this).rules:
this.rules.slice(0);f=(new a.Ruleset(null,b)).eval({frames:[this,c].concat(f)});f.originalRuleset=this;return f},matchCondition:function(a,b){return this.condition&&!this.condition.eval({frames:[this.evalParams(b,{frames:this.frames.concat(b.frames)},a,[])].concat(b.frames)})?!1:!0},matchArgs:function(a,b){var c=a&&a.length||0;if(!this.variadic&&(c<this.required||c>this.params.length||0<this.required&&c>this.params.length))return!1;for(var c=Math.min(c,this.arity),d=0;d<c;d++)if(!this.params[d].name&&
!this.params[d].variadic&&a[d].value.eval(b).toCSS()!=this.params[d].value.eval(b).toCSS())return!1;return!0}}})(c("../tree"));(function(a){a.Operation=function(a,b){this.op=a.trim();this.operands=b};a.Operation.prototype.eval=function(b){var c=this.operands[0].eval(b);b=this.operands[1].eval(b);var d;if(c instanceof a.Dimension&&b instanceof a.Color)if("*"===this.op||"+"===this.op)d=b,b=c,c=d;else throw{name:"OperationError",message:"Can't substract or divide a color from a number"};if(!c.operate)throw{name:"OperationError",
message:"Operation on an invalid type"};return c.operate(this.op,b)};a.operate=function(a,b,c){switch(a){case "+":return b+c;case "-":return b-c;case "*":return b*c;case "/":return b/c}}})(c("../tree"));(function(a){a.Paren=function(a){this.value=a};a.Paren.prototype={toCSS:function(a){return"("+this.value.toCSS(a)+")"},eval:function(b){return new a.Paren(this.value.eval(b))}}})(c("../tree"));(function(a){a.Quoted=function(a,b,c,d){this.escaped=c;this.value=b||"";this.quote=a.charAt(0);this.index=
d};a.Quoted.prototype={toCSS:function(){return this.escaped?this.value:this.quote+this.value+this.quote},eval:function(b){var c=this,d=this.value.replace(/`([^`]+)`/g,function(d,e){return(new a.JavaScript(e,c.index,!0)).eval(b).value}).replace(/@\{([\w-]+)\}/g,function(d,e){var f=(new a.Variable("@"+e,c.index)).eval(b);return f instanceof a.Quoted?f.value:f.toCSS()});return new a.Quoted(this.quote+d+this.quote,d,this.escaped,this.index)},compare:function(a){if(!a.toCSS)return-1;var b=this.toCSS();
a=a.toCSS();return b===a?0:b<a?-1:1}}})(c("../tree"));(function(a){a.Ratio=function(a){this.value=a};a.Ratio.prototype={toCSS:function(a){return this.value},eval:function(){return this}}})(c("../tree"));(function(a){a.Rule=function(b,c,d,e,f){this.name=b;this.value=c instanceof a.Value?c:new a.Value([c]);this.important=d?" "+d.trim():"";this.index=e;this.inline=f||!1;"@"===b.charAt(0)?this.variable=!0:this.variable=!1};a.Rule.prototype.toCSS=function(a){return this.variable?"":this.name+(a.compress?
":":": ")+this.value.toCSS(a)+this.important+(this.inline?"":";")};a.Rule.prototype.eval=function(b){return new a.Rule(this.name,this.value.eval(b),this.important,this.index,this.inline)};a.Rule.prototype.makeImportant=function(){return new a.Rule(this.name,this.value,"!important",this.index,this.inline)};a.Shorthand=function(a,b){this.a=a;this.b=b};a.Shorthand.prototype={toCSS:function(a){return this.a.toCSS(a)+"/"+this.b.toCSS(a)},eval:function(){return this}}})(c("../tree"));(function(a){a.Ruleset=
function(a,b,c){this.selectors=a;this.rules=b;this._lookups={};this.strictImports=c};a.Ruleset.prototype={eval:function(b){var c=this.selectors&&this.selectors.map(function(a){return a.eval(b)}),d=new a.Ruleset(c,this.rules.slice(0),this.strictImports),e;d.originalRuleset=this;d.root=this.root;d.allowImports=this.allowImports;this.debugInfo&&(d.debugInfo=this.debugInfo);b.frames.unshift(d);(d.root||d.allowImports||!d.strictImports)&&d.evalImports(b);for(var f=0;f<d.rules.length;f++)d.rules[f]instanceof
a.mixin.Definition&&(d.rules[f].frames=b.frames.slice(0));for(var g=b.mediaBlocks&&b.mediaBlocks.length||0,f=0;f<d.rules.length;f++)d.rules[f]instanceof a.mixin.Call&&(e=d.rules[f].eval(b),d.rules.splice.apply(d.rules,[f,1].concat(e)),f+=e.length-1,d.resetCache());for(f=0;f<d.rules.length;f++)e=d.rules[f],e instanceof a.mixin.Definition||(d.rules[f]=e.eval?e.eval(b):e);b.frames.shift();if(b.mediaBlocks)for(f=g;f<b.mediaBlocks.length;f++)b.mediaBlocks[f].bubbleSelectors(c);return d},evalImports:function(b){var c,
d;for(c=0;c<this.rules.length;c++)this.rules[c]instanceof a.Import&&(d=this.rules[c].eval(b),"number"===typeof d.length?(this.rules.splice.apply(this.rules,[c,1].concat(d)),c+=d.length-1):this.rules.splice(c,1,d),this.resetCache())},makeImportant:function(){return new a.Ruleset(this.selectors,this.rules.map(function(a){return a.makeImportant?a.makeImportant():a}),this.strictImports)},matchArgs:function(a){return!a||0===a.length},resetCache:function(){this._variables=this._rulesets=null;this._lookups=
{}},variables:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(b,c){c instanceof a.Rule&&!0===c.variable&&(b[c.name]=c);return b},{})},variable:function(a){return this.variables()[a]},rulesets:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(b){return b instanceof a.Ruleset||b instanceof a.mixin.Definition})},find:function(b,c){c=c||this;var d=[],e=b.toCSS();if(e in this._lookups)return this._lookups[e];this.rulesets().forEach(function(e){if(e!==
c)for(var f=0;f<e.selectors.length;f++)if(b.match(e.selectors[f])){b.elements.length>e.selectors[f].elements.length?Array.prototype.push.apply(d,e.find(new a.Selector(b.elements.slice(1)),c)):d.push(e);break}});return this._lookups[e]=d},toCSS:function(b,c){var d=[],e=[],f=[],g=[],h=[],m;this.root||this.joinSelectors(h,b,this.selectors);for(var n=0;n<this.rules.length;n++)if(m=this.rules[n],m.rules||m instanceof a.Media)g.push(m.toCSS(h,c));else if(m instanceof a.Directive){var p=m.toCSS(h,c);if("@charset"===
m.name){if(c.charset){m.debugInfo&&(g.push(a.debugInfo(c,m)),g.push((new a.Comment("/* "+p.replace(/\n/g,"")+" */\n")).toCSS(c)));continue}c.charset=!0}g.push(p)}else m instanceof a.Comment?m.silent||(this.root?g.push(m.toCSS(c)):e.push(m.toCSS(c))):m.toCSS&&!m.variable?e.push(m.toCSS(c)):m.value&&!m.variable&&e.push(m.value.toString());g=g.join("");if(this.root)d.push(e.join(c.compress?"":"\n"));else if(0<e.length){m=a.debugInfo(c,this);h=h.map(function(a){return a.map(function(a){return a.toCSS(c)}).join("").trim()}).join(c.compress?
",":",\n");for(n=e.length-1;0<=n;n--)-1===f.indexOf(e[n])&&f.unshift(e[n]);d.push(m+h+(c.compress?"{":" {\n  ")+f.join(c.compress?"":"\n  ")+(c.compress?"}":"\n}\n"))}d.push(g);return d.join("")+(c.compress?"\n":"")},joinSelectors:function(a,b,c){for(var d=0;d<c.length;d++)this.joinSelector(a,b,c[d])},joinSelector:function(b,c,d){var e,f,g,h,m,n,p,q,r,s,t,x;for(e=0;e<d.elements.length;e++)m=d.elements[e],"\x26"===m.value&&(h=!0);if(h){f=[];h=[[]];for(e=0;e<d.elements.length;e++)if(m=d.elements[e],
"\x26"!==m.value)f.push(m);else{x=[];0<f.length&&this.mergeElementsOnToSelectors(f,h);for(f=0;f<h.length;f++)if(n=h[f],0==c.length)0<n.length&&(n[0].elements=n[0].elements.slice(0),n[0].elements.push(new a.Element(m.combinator,"",0))),x.push(n);else for(g=0;g<c.length;g++)p=c[g],q=[],r=[],t=!0,0<n.length?(q=n.slice(0),s=q.pop(),s=new a.Selector(s.elements.slice(0)),t=!1):s=new a.Selector([]),1<p.length&&(r=r.concat(p.slice(1))),0<p.length&&(t=!1,s.elements.push(new a.Element(m.combinator,p[0].elements[0].value,
0)),s.elements=s.elements.concat(p[0].elements.slice(1))),t||q.push(s),q=q.concat(r),x.push(q);h=x;f=[]}0<f.length&&this.mergeElementsOnToSelectors(f,h);for(e=0;e<h.length;e++)b.push(h[e])}else if(0<c.length)for(e=0;e<c.length;e++)b.push(c[e].concat(d));else b.push([d])},mergeElementsOnToSelectors:function(b,c){var d,e;if(0==c.length)c.push([new a.Selector(b)]);else for(d=0;d<c.length;d++)e=c[d],0<e.length?e[e.length-1]=new a.Selector(e[e.length-1].elements.concat(b)):e.push(new a.Selector(b))}}})(c("../tree"));
(function(a){a.Selector=function(a){this.elements=a};a.Selector.prototype.match=function(a){var b=this.elements,c=b.length,d,e;a=a.elements.slice(a.elements.length&&"\x26"===a.elements[0].value?1:0);d=a.length;e=Math.min(c,d);if(0===d||c<d)return!1;for(c=0;c<e;c++)if(b[c].value!==a[c].value)return!1;return!0};a.Selector.prototype.eval=function(b){return new a.Selector(this.elements.map(function(a){return a.eval(b)}))};a.Selector.prototype.toCSS=function(a){if(this._css)return this._css;this._css=
""===this.elements[0].combinator.value?" ":"";return this._css+=this.elements.map(function(b){return"string"===typeof b?" "+b.trim():b.toCSS(a)}).join("")}})(c("../tree"));(function(a){a.UnicodeDescriptor=function(a){this.value=a};a.UnicodeDescriptor.prototype={toCSS:function(a){return this.value},eval:function(){return this}}})(c("../tree"));(function(a){a.URL=function(a,b){this.value=a;this.rootpath=b};a.URL.prototype={toCSS:function(){return"url("+this.value.toCSS()+")"},eval:function(b){b=this.value.eval(b);
var c;"string"===typeof b.value&&!/^(?:[a-z-]+:|\/)/.test(b.value)&&(c=this.rootpath,b.quote||(c=c.replace(/[\(\)'"\s]/g,function(a){return"\\"+a})),b.value=c+b.value);return new a.URL(b,this.rootpath)}}})(c("../tree"));(function(a){a.Value=function(a){this.value=a;this.is="value"};a.Value.prototype={eval:function(b){return 1===this.value.length?this.value[0].eval(b):new a.Value(this.value.map(function(a){return a.eval(b)}))},toCSS:function(a){return this.value.map(function(b){return b.toCSS(a)}).join(a.compress?
",":", ")}}})(c("../tree"));(function(a){a.Variable=function(a,b,c){this.name=a;this.index=b;this.file=c};a.Variable.prototype={eval:function(b){var c,d,e=this.name;0==e.indexOf("@@")&&(e="@"+(new a.Variable(e.slice(1))).eval(b).value);if(this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+e,filename:this.file,index:this.index};this.evaluating=!0;if(c=a.find(b.frames,function(a){if(d=a.variable(e))return d.value.eval(b)}))return this.evaluating=!1,c;throw{type:"Name",message:"variable "+
e+" is undefined",filename:this.file,index:this.index};}}})(c("../tree"));(function(a){a.debugInfo=function(b,c){var d="";if(b.dumpLineNumbers&&!b.compress)switch(b.dumpLineNumbers){case "comments":d=a.debugInfo.asComment(c);break;case "mediaquery":d=a.debugInfo.asMediaQuery(c);break;case "all":d=a.debugInfo.asComment(c)+a.debugInfo.asMediaQuery(c)}return d};a.debugInfo.asComment=function(a){return"/* line "+a.debugInfo.lineNumber+", "+a.debugInfo.fileName+" */\n"};a.debugInfo.asMediaQuery=function(a){return"@media -sass-debug-info{filename{font-family:"+
("file://"+a.debugInfo.fileName).replace(/[\/:.]/g,"\\$\x26")+"}line{font-family:\\00003"+a.debugInfo.lineNumber+"}}\n"};a.find=function(a,b){for(var c=0,d;c<a.length;c++)if(d=b.call(a,a[c]))return d;return null};a.jsify=function(a){return Array.isArray(a.value)&&1<a.value.length?"["+a.value.map(function(a){return a.toCSS(!1)}).join(", ")+"]":a.toCSS(!1)}})(c("./tree"));var B=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);x.env=x.env||("127.0.0.1"==location.hostname||"0.0.0.0"==
location.hostname||"localhost"==location.hostname||0<location.port.length||B?"development":"production");x.async=x.async||!1;x.fileAsync=x.fileAsync||!1;x.poll=x.poll||(B?1E3:1500);if(x.functions)for(var D in x.functions)x.tree.functions[D]=x.functions[D];if(D=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash))x.dumpLineNumbers=D[1];x.watch=function(){x.watchMode||(x.env="development",d());return this.watchMode=!0};x.unwatch=function(){clearInterval(x.watchTimer);return this.watchMode=
!1};/!watch/.test(location.hash)&&x.watch();var F=null;if("development"!=x.env)try{F="undefined"===typeof b.localStorage?null:b.localStorage}catch(E){}D=document.getElementsByTagName("link");var z=/^text\/(x-)?less$/;x.sheets=[];for(var N=0;N<D.length;N++)("stylesheet/less"===D[N].rel||D[N].rel.match(/stylesheet/)&&D[N].type.match(z))&&x.sheets.push(D[N]);var M="";x.modifyVars=function(a){var b=M;for(name in a)b+=("@"===name.slice(0,1)?"":"@")+name+": "+(";"===a[name].slice(-1)?a[name]:a[name]+";");
(new x.Parser).parse(b,function(a,b){p(b.toCSS(),x.sheets[x.sheets.length-1])})};x.refresh=function(a){var b,c;b=c=new Date;g(function(a,d,e,f,g){g.local?r("loading "+f.href+" from cache."):(r("parsed "+f.href+" successfully."),p(d.toCSS(),f,g.lastModified));r("css for "+f.href+" generated in "+(new Date-c)+"ms");0===g.remaining&&r("css generated in "+(new Date-b)+"ms");c=new Date},a);h()};x.refreshStyles=h;x.refresh("development"===x.env);"function"===typeof define&&define.amd&&define("less",[],
function(){return x})})(window);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.iso=com.rooxteam.iso||{};com.rooxteam.iso.date=com.rooxteam.iso.date||{};
com.rooxteam.iso.date.parse=function(b){if(null==b)return null;var a=Date.parse,c=[1,4,5,6,7,10,11],d,h=0;if(d=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(b)){for(b=0;a=c[b];++b)d[a]=+d[a]||0;d[2]=(+d[2]||1)-1;d[3]=+d[3]||1;"Z"!==d[8]&&void 0!==d[9]&&(h=60*d[10]+d[11],"+"===d[9]&&(h=0-h));c=Date.UTC(d[1],d[2],d[3],d[4],d[5]+h,d[6],d[7])}else c=a?a(b):null;return c?new Date(c):null};
function pad(b){b=String(b);1===b.length&&(b="0"+b);return b}com.rooxteam.iso.date.toString=function(b){return null==b?null:b.getUTCFullYear()+"-"+pad(b.getUTCMonth()+1)+"-"+pad(b.getUTCDate())+"T"+pad(b.getUTCHours())+":"+pad(b.getUTCMinutes())+":"+pad(b.getUTCSeconds())+"."+String((b.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"};