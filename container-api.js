gadgets=window.gadgets||{};shindig=window.shindig||{};osapi=window.osapi||{};var safeJSON=window.safeJSON,tamings___=window.tamings___||[],bridge___,caja___=window.caja___,___=window.___;
gadgets.log=function(){function b(a,b){var m=Array.prototype.slice.call(arguments,1);!(a<h)&&l&&(a===c&&l.warn?l.warn.apply?l.warn.apply(l,m):l.warn(b):a===e&&l.error?l.error.apply?l.error.apply(l,m):l.error(b):l.log&&(l.log.apply?l.log.apply(l,m):l.log(b)))}var a=function(a){var c=Array.prototype.slice.call(arguments,0);c.unshift(1);b.apply(null,c)};a.INFO=1;var c=2;a.WARNING=c;var e=3;a.ERROR=e;a.NONE=4;gadgets.warn=function(a){var f=Array.prototype.slice.call(arguments,0);f.unshift(c);b.apply(null,
f)};gadgets.error=function(a){var c=Array.prototype.slice.call(arguments,0);c.unshift(e);b.apply(null,c)};gadgets.setLogLevel=function(a){h=a};var h=1;(function(a){"true"!==function(){var b=a.localStorage,c=a.sessionStorage;return{getValue:function(a){var d;(d=c&&c.getItem(a))||(d=b&&b.getItem(a));return d}}}().getValue("com.roox.cm.Common.App.Properties.unit.IsLogEnabled")&&(h=4)})(window);var l=window.console?window.console:window.opera?window.opera.postError:void 0;return a}();
tamings___.push(function(b){caja___.whitelistFuncs([[gadgets,"log"],[gadgets,"warn"],[gadgets,"error"],[gadgets,"setLogLevel"]]);caja___.whitelistProps([[gadgets.log,"INFO"],[gadgets.log,"WARNING"],[gadgets.log,"ERROR"],[gadgets.log,"NONE"]])});
window.gadgets.config||(gadgets.config=function(){function b(a,c){for(var d in c)c.hasOwnProperty(d)&&("object"===typeof a[d]&&"object"===typeof c[d]?b(a[d],c[d]):a[d]=c[d])}function a(b){var c="";if(3==b.nodeType||4==b.nodeType)c=b.nodeValue;else if(b.innerText)c=b.innerText;else if(b.innerHTML)c=b.innerHTML;else if(b.firstChild){c=[];for(b=b.firstChild;b;b=b.nextSibling)c.push(a(b));c=c.join("")}return c}function c(c){var d;d=document.scripts||document.getElementsByTagName("script");if(!d||0==d.length)d=
null;else{var f;if(l.u)for(var e=0;!f&&e<d.length;++e){var h=d[e];h.src&&0==h.src.indexOf(l.u)&&(f=h)}f||(f=d[d.length-1]);d=!f.src?null:f}if(d){var t;d=a(d);try{t=(new Function("return ("+d+"\n)"))()}catch(I){}if("object"!==typeof t){try{t=(new Function("return ({"+d+"\n})"))()}catch(z){}t="object"===typeof t?t:{}}l.f&&1==l.f.length&&!t[l.f[0]]&&(d={},d[l.f[0]]=t,t=d);b(c,t);(t=window.___cfg)&&b(c,t)}}function e(a){for(var b in d)if(d.hasOwnProperty(b))for(var c=d[b],f=0,e=c.length;f<e;++f)a(b,c[f])}
function h(){try{for(var a=window,b=null;a!==window.top;a=a.parent)if(b=a.__getConfigHook,"function"==typeof b)return b;b=a.__getConfigHook;return"function"==typeof b?b:null}catch(c){gadgets.warn("Unexpected exception while obtaining config hook "+c)}return null}var l,d={},f={};return{register:function(a,b,c,f){var e=d[a];e||(e=[],d[a]=e);e.push({validators:b||{},callback:c,callOnUpdate:f})},get:function(a){return a?f[a]||{}:f},init:function(a,d){l=window.___jsl||{};b(f,a);c(f);b(f,window.___config||
{});var p=h();p&&b(f,p()||{});e(function(a,b){var c=f[a];if(c&&!d){var e=b.validators,l;for(l in e)if(e.hasOwnProperty(l)&&!e[l](c[l]))throw Error('Invalid config value "'+c[l]+'" for parameter "'+l+'" in component "'+a+'"');}if(b.callback)try{b.callback(f)}catch(h){gadgets.error(h)}})},update:function(a,c){var d=[];e(function(b,e){(a.hasOwnProperty(b)||c&&f&&f[b])&&e.callback&&e.callOnUpdate&&d.push(e.callback)});f=c?{}:f||{};b(f,a);for(var l=0,h=d.length;l<h;++l)d[l](f)}}}());
(function(){gadgets.config.EnumValidator=function(b){var a=[];if(1<arguments.length)for(var c=0,e;e=arguments[c];++c)a.push(e);else a=b;return function(b){for(var c=0;a[c];++c)if(b===a[c])return!0;return!1}};gadgets.config.RegExValidator=function(b){return function(a){return b.test(a)}};gadgets.config.ExistsValidator=function(b){return"undefined"!==typeof b};gadgets.config.NonEmptyStringValidator=function(b){return"string"===typeof b&&0<b.length};gadgets.config.BooleanValidator=function(b){return"boolean"===
typeof b};gadgets.config.LikeValidator=function(b){return function(a){for(var c in b)if(b.hasOwnProperty(c)&&!(0,b[c])(a[c]))return!1;return!0}}})();gadgets.util=gadgets.util||{};gadgets.util.makeClosure=function(b,a,c){for(var e=[],h=2,l=arguments.length;h<l;++h)e.push(arguments[h]);return function(){for(var c=e.slice(),f=0,l=arguments.length;f<l;++f)c.push(arguments[f]);return a.apply(b,c)}};gadgets.util.makeEnum=function(b){var a,c,e={};for(a=0;c=b[a];++a)e[c]=c;return e};
gadgets.util=gadgets.util||{};
(function(){gadgets.util.createElement=function(b){var a;if(!document.body||document.body.namespaceURI)try{a=document.createElementNS("http://www.w3.org/1999/xhtml",b)}catch(c){}return a||document.createElement(b)};gadgets.util.createIframeElement=function(b){var a=gadgets.util.createElement("iframe");try{var c,e=["\x3c","iframe"],h=b||{},l;for(l in h)h.hasOwnProperty(l)&&(e.push(" "),e.push(l),e.push('\x3d"'),e.push(gadgets.util.escapeString(h[l])),e.push('"'));e.push("\x3e\x3c/");e.push("iframe");
e.push("\x3e");c=e.join("");var d=gadgets.util.createElement(c);if(d&&(!a||d.tagName==a.tagName&&d.namespaceURI==a.namespaceURI))a=d}catch(f){}c=a;b=b||{};for(var m in b)b.hasOwnProperty(m)&&(c[m]=b[m]);return a};gadgets.util.getBodyElement=function(){if(document.body)return document.body;try{var b=document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","body");if(b&&1==b.length)return b[0]}catch(a){}return document.documentElement||document}})();gadgets.util=gadgets.util||{};
gadgets.util.attachBrowserEvent=function(b,a,c,e){"undefined"!=typeof b.addEventListener?b.addEventListener(a,c,e):"undefined"!=typeof b.attachEvent?b.attachEvent("on"+a,c):gadgets.warn("cannot attachBrowserEvent: "+a)};gadgets.util.removeBrowserEvent=function(b,a,c,e){b.removeEventListener?b.removeEventListener(a,c,e):b.detachEvent?b.detachEvent("on"+a,c):gadgets.warn("cannot removeBrowserEvent: "+a)};gadgets.util=gadgets.util||{};
(function(){var b=[];gadgets.util.registerOnLoadHandler=function(a){b.push(a)};gadgets.util.runOnLoadHandlers=function(){gadgets.util.registerOnLoadHandler=function(a){a()};for(var a=0,c=b.length;a<c;++a)b[a]();b=void 0}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.util,"registerOnLoadHandler"]])});gadgets.util=gadgets.util||{};
(function(){function b(a,b){return String.fromCharCode(b)}var a={0:!1,10:!0,13:!0,34:!0,39:!0,60:!0,62:!0,92:!0,8232:!0,8233:!0,65282:!0,65287:!0,65308:!0,65310:!0,65340:!0};gadgets.util.escape=function(a,b){if(a){if("string"===typeof a)return gadgets.util.escapeString(a);if("array"===typeof a)for(var h=0,l=a.length;h<l;++h)a[h]=gadgets.util.escape(a[h]);else if("object"===typeof a&&b){h={};for(l in a)a.hasOwnProperty(l)&&(h[gadgets.util.escapeString(l)]=gadgets.util.escape(a[l],!0));return h}}return a};
gadgets.util.escapeString=function(b){if(!b)return b;for(var e=[],h,l,d=0,f=b.length;d<f;++d)h=b.charCodeAt(d),l=a[h],!0===l?e.push("\x26#",h,";"):!1!==l&&e.push(b.charAt(d));return e.join("")};gadgets.util.unescapeString=function(a){return!a?a:a.replace(/&#([0-9]+);/g,b)}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.util,"escape"],[gadgets.util,"escapeString"],[gadgets.util,"unescapeString"]])});gadgets.util=gadgets.util||{};
(function(){var b=null;gadgets.util.getUrlParameters=function(a){var c="undefined"===typeof a;if(null!==b&&c)return b;var e={};a=a||document.location.href;var h=a.indexOf("?"),l=a.indexOf("#");a=(-1===l?a.substr(h+1):[a.substr(h+1,l-h-1),"\x26",a.substr(l+1)].join("")).split("\x26");for(var h=window.decodeURIComponent?decodeURIComponent:unescape,l=0,d=a.length;l<d;++l){var f=a[l].indexOf("\x3d");if(-1!==f){var m=a[l].substring(0,f),f=a[l].substring(f+1),f=f.replace(/\+/g," ");try{e[m]=h(f)}catch(s){}}}c&&
(b=e);return e}})();gadgets.util.getUrlParameters();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.util,"getUrlParameters"]])});gadgets.util=gadgets.util||{};(function(){function b(b){a=b["core.util"]||{}}var a={},c={};gadgets.config&&gadgets.config.register("core.util",null,b);gadgets.util.getFeatureParameters=function(b){return"undefined"===typeof a[b]?null:a[b]};gadgets.util.hasFeature=function(b){return"undefined"!==typeof a[b]};gadgets.util.getServices=function(){return c}})();
tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.util,"getFeatureParameters"],[gadgets.util,"hasFeature"]])});
window.JSON&&(window.JSON.parse&&window.JSON.stringify)&&(gadgets.json=function(){function b(a,b){return this[a]}var a=/___$/;return{parse:function(a){try{return window.JSON.parse(a)}catch(b){return!1}},stringify:function(c){function e(a){return h.call(this,a,b)}var h=window.JSON.stringify,l=Array.prototype.toJSON&&'"[{\\"x\\": 1}]"'===h([{x:1}])?e:h;try{return l(c,function(b,c){return!a.test(b)?c:void 0})}catch(d){return null}}}}());
if(!window.JSON||!window.JSON.parse||!window.JSON.stringify)gadgets.json=function(){function b(a){return 10>a?"0"+a:a}function a(b){var h,l,d;h=/[\"\\\x00-\x1f\x7f-\x9f]/g;switch(typeof b){case "string":return h.test(b)?'"'+b.replace(h,function(a){var b=c[a];if(b)return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+b+'"';case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);case "object":if(!b)return"null";h=[];
if("number"===typeof b.length&&!b.propertyIsEnumerable("length")){d=b.length;for(l=0;l<d;l+=1)h.push(a(b[l])||"null");return"["+h.join(",")+"]"}for(l in b)!/___$/.test(l)&&b.hasOwnProperty(l)&&"string"===typeof l&&(d=a(b[l]))&&h.push(a(l)+":"+d);return"{"+h.join(",")+"}"}return""}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",b(this.getUTCMonth()+1),"-",b(this.getUTCDate()),"T",b(this.getUTCHours()),":",b(this.getUTCMinutes()),":",b(this.getUTCSeconds()),"Z"].join("")};var c={"\b":"\\b",
"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return{stringify:a,parse:function(a){return/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?eval("("+a+")"):!1}}}();gadgets.json.flatten=function(b){var a={};if(null===b||void 0===b)return a;for(var c in b)if(b.hasOwnProperty(c)){var e=b[c];null===e||void 0===e||(a[c]="string"===typeof e?e:gadgets.json.stringify(e))}return a};
shindig.Auth=function(){function b(b){for(var c=a.split("\x26"),l=0;l<c.length;l++){var d=c[l].split("\x3d");if(2===d.length){var f=d[0],d=d[1];"$"===d&&(d=encodeURIComponent(b[f]),c[l]=f+"\x3d"+d)}}a=c.join("\x26")}var a=null,c=null;gadgets.config.register("shindig.auth",null,function(e){var h=gadgets.util.getUrlParameters();e=e["shindig.auth"]||{};e.authToken?a=e.authToken:h.st&&(a=h.st);null!==a&&b(h);e.trustedJson&&(c=eval("("+e.trustedJson+")"))});return{getSecurityToken:function(){return a},
updateSecurityToken:function(b){a=b},getTrustedData:function(){return c}}};shindig.auth=new shindig.Auth;gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.wpm||(gadgets.rpctx.wpm=function(){function b(a,b,c){"undefined"!=typeof window.addEventListener?window.addEventListener(a,b,c):"undefined"!=typeof window.attachEvent&&window.attachEvent("on"+a,b)}function a(a){var b=gadgets.json.parse(a.data);if(b&&b.f){var f=gadgets.rpc.getTargetOrigin(b.f);(!h||!("undefined"!==typeof a.origin?a.origin!==f:a.domain!==/^.+:\/\/([^:]+).*/.exec(f)[1]))&&c(b,a.origin)}}var c,e,h=!0;return{getCode:function(){return"wpm"},isParentVerifiable:function(){return!0},
init:function(l,d){gadgets.config.register("rpc",null,function(a){if("true"===String((a?a.rpc:{}).disableForceSecure))h=!1});c=l;e=d;b("message",a,!1);e("..",!0);return!0},setup:function(a,b){e(a,!0);return!0},call:function(a,b,c){var e=gadgets.rpc.getTargetOrigin(a),h=gadgets.rpc._getTargetWin(a);e?window.setTimeout(function(){h.postMessage(gadgets.json.stringify(c),e)},0):gadgets.error("No relay set (used as window.postMessage targetOrigin), cannot send cross-domain message");return!0}}}());
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.flash||(gadgets.rpctx.flash=function(){function b(a,b){D[b]=D[b]||function(){a.apply({},arguments)};return N+"."+b}function a(){if(null===t&&document.body&&s){var b=s+"?cb\x3d"+Math.random()+"\x26origin\x3d"+u+"\x26jsl\x3d1",c=document.createElement("div");c.style.height="1px";c.style.width="1px";b='\x3cobject height\x3d"1" width\x3d"1" id\x3d"'+m+'" type\x3d"application/x-shockwave-flash"\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"always"\x3e\x3c/param\x3e\x3cparam name\x3d"movie" value\x3d"'+b+
'"\x3e\x3c/param\x3e\x3cembed type\x3d"application/x-shockwave-flash" allowScriptAccess\x3d"always" src\x3d"'+b+'" height\x3d"1" width\x3d"1"\x3e\x3c/embed\x3e\x3c/object\x3e';document.body.appendChild(c);c.innerHTML=b;t=c.firstChild}++G;null!==E&&(null!==t||G>=z)?window.clearTimeout(E):E=window.setTimeout(a,I)}function c(){r[".."]||(f(".."),Q++,Q>=R&&null!==w?(window.clearTimeout(w),w=null):w=window.setTimeout(c,M))}function e(){if(null!==t&&t.setup)for(;0<x.length;){var a=x.shift(),b=a.targetId;
t.setup(a.token,".."===b?gadgets.rpc.RPC_ID:b,".."===b?"INNER":"OUTER")}null!==E&&window.clearTimeout(E);E=null}function h(){!r[".."]&&null===w&&(w=window.setTimeout(c,M))}function l(a,b,c){b=gadgets.rpc.getTargetOrigin(a);var d=gadgets.rpc.getAuthToken(a);t["sendMessage_"+(".."===a?gadgets.rpc.RPC_ID:a)+"_"+d+"_"+(".."===a?"INNER":"OUTER")].call(t,gadgets.json.stringify(c),b);return!0}function d(a,b,c){var d=gadgets.json.parse(a);(a=d[K])?(B(a,!0),r[a]=!0,".."!==a&&f(a,!0)):window.setTimeout(function(){v(d,
b)},0)}function f(a,b){var c=gadgets.rpc.RPC_ID,d={};d[K]=b?"..":c;d[H]=c;l(a,c,d)}var m="___xpcswf",s=null,p=!1,v=null,B=null,t=null,I=100,z=50,x=[],E=null,G=0,K="_scr",H="_pnt",M=100,R=50,Q=0,w=null,r={},u=window.location.protocol+"//"+window.location.host,N,D=function(){window.___jsl=window.___jsl||{};var a=window.___jsl._fm={};N="___jsl._fm";return a}();gadgets.config.register("rpc",null,function(a){p&&(s=a.rpc.commSwf||"//xpc.googleusercontent.com/gadgets/xpc.swf")});b(e,"ready");b(h,"setupDone");
b(d,"receiveMessage");return{getCode:function(){return"flash"},isParentVerifiable:function(){return!0},init:function(a,b){v=a;B=b;return p=!0},setup:function(b,c){x.push({token:c,targetId:b});null===t&&null===E&&(E=window.setTimeout(a,I));return!0},call:l,_receiveMessage:d,_ready:e,_setupDone:h}}());gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.frameElement||(gadgets.rpctx.frameElement=function(){function b(b,d,f){try{if(".."!==d){var h=window.frameElement;if("function"===typeof h[a])return"function"!==typeof h[a][c]&&(h[a][c]=function(a){e(gadgets.json.parse(a))}),h[a](gadgets.json.stringify(f)),!0}else{var s=document.getElementById(b);if("function"===typeof s[a]&&"function"===typeof s[a][c])return s[a][c](gadgets.json.stringify(f)),!0}}catch(p){}return!1}var a="__g2c_rpc",c="__c2g_rpc",e,h;return{getCode:function(){return"fe"},
isParentVerifiable:function(){return!1},init:function(a,b){e=a;h=b;return!0},setup:function(b,c){if(".."!==b)try{document.getElementById(b)[a]=function(a){e(gadgets.json.parse(a))}}catch(f){return!1}".."===b&&(h("..",!0),gadgets.util.registerOnLoadHandler(function(){window.setTimeout(function(){gadgets.rpc.call(b,gadgets.rpc.ACK)},500)}));return!0},call:function(a,c,f){return b(a,c,f)}}}());gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.nix||(gadgets.rpctx.nix=function(){function b(){var f=h[".."];if(!f)if(++d>c)gadgets.warn("Nix transport setup failed, falling back..."),l("..",!1);else{if(!f&&(window.opener&&"GetAuthToken"in window.opener)&&(f=window.opener,f.GetAuthToken()==gadgets.rpc.getAuthToken(".."))){var m=gadgets.rpc.getAuthToken("..");f.CreateChannel(window[a]("..",m),m);h[".."]=f;window.opener=null;l("..",!0);return}window.setTimeout(function(){b()},e)}}var a="GRPC____NIXVBS_get_wrapper",c=10,e=500,h={},
l,d=0;return{getCode:function(){return"nix"},isParentVerifiable:function(){return!1},init:function(b,c){l=c;if("unknown"!==typeof window[a]){window.GRPC____NIXVBS_handle_message=function(a){window.setTimeout(function(){b(gadgets.json.parse(a))},0)};window.GRPC____NIXVBS_create_channel=function(a,b,c){gadgets.rpc.getAuthToken(a)===c&&(h[a]=b,l(a,!0))};var d="Class GRPC____NIXVBS_wrapper\n Private m_Intended\nPrivate m_Auth\nPublic Sub SetIntendedName(name)\n If isEmpty(m_Intended) Then\nm_Intended \x3d name\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\n If isEmpty(m_Auth) Then\nm_Auth \x3d auth\nEnd If\nEnd Sub\nPublic Sub SendMessage(data)\n GRPC____NIXVBS_handle_message(data)\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken \x3d m_Auth\nEnd Function\nPublic Sub CreateChannel(channel, auth)\n Call GRPC____NIXVBS_create_channel(m_Intended, channel, auth)\nEnd Sub\nEnd Class\nFunction "+
a+"(name, auth)\nDim wrap\nSet wrap \x3d New GRPC____NIXVBS_wrapper\nwrap.SetIntendedName name\nwrap.SetAuth auth\nSet "+a+" \x3d wrap\nEnd Function";try{window.execScript(d,"vbscript")}catch(e){return!1}}return!0},setup:function(c,d){if(".."===c)return b(),!0;try{var e=document.getElementById(c),h=window[a](c,d);e.contentWindow.opener=h}catch(l){return!1}return!0},call:function(a,b,c){try{h[a]&&h[a].SendMessage(gadgets.json.stringify(c))}catch(d){return!1}return!0}}}());
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.rmr||(gadgets.rpctx.rmr=function(){function b(a,b,c,d){var f=function(){document.body.appendChild(a);a.src="about:blank";d&&(a.onload=function(){h(d)});a.src=b+"#"+c};document.body?f():gadgets.util.registerOnLoadHandler(function(){f()})}function a(b){var c=null;m[b].searchCounter++;try{var e=gadgets.rpc._getTargetWin(b),c=".."===b?e.frames["rmrtransport-"+gadgets.rpc.RPC_ID]:e.frames["rmrtransport-.."]}catch(h){}e=!1;c&&(e=l(b,c));!e&&!(m[b].searchCounter>f)&&window.setTimeout(function(){a(b)},
d)}function c(a,b,c,d){var f=null;if(f=".."!==c?m[".."]:m[a]){b!==gadgets.rpc.ACK&&f.queue.push(d);if(f.waiting||0===f.queue.length&&!(b===gadgets.rpc.ACK&&d&&!0===d.ackAlone))return!0;0<f.queue.length&&(f.waiting=!0);a=f.relayUri+"#"+e(a);try{f.frame.contentWindow.location=a;var h=10==f.width?20:10;f.frame.style.width=h+"px";f.width=h}catch(l){return!1}}return!0}function e(a){a=m[a];var b={id:a.sendId};if(a){b.d=Array.prototype.slice.call(a.queue,0);var c={s:gadgets.rpc.ACK,id:a.recvId};a.originVerified||
(c.sendToken=a.verifySendToken);a.verifyRecvToken&&(c.recvToken=a.verifyRecvToken);b.d.push(c)}return gadgets.json.stringify(b)}function h(a){for(var b=m[a],d=b.receiveWindow.location.hash.substring(1),f=gadgets.json.parse(decodeURIComponent(d))||{},d=f.d||[],e=!1,h=!1,l=0,f=b.recvId-f.id,s=0;s<d.length;++s){var H=d[s];if(H.s===gadgets.rpc.ACK){v(a,!0);b.verifyRecvToken=H.sendToken;!b.originVerified&&(H.recvToken&&String(H.recvToken)==String(b.verifySendToken))&&(b.originVerified=!0);b.waiting&&(h=
!0);b.waiting=!1;var M=Math.max(0,H.id-b.sendId);b.queue.splice(0,M);b.sendId=Math.max(b.sendId,H.id||0)}else e=!0,++l<=f||(++b.recvId,p(H,b.originVerified?b.relayOrigin:void 0))}if(e||h&&0<b.queue.length)c(a,gadgets.rpc.ACK,".."===a?gadgets.rpc.RPC_ID:"..",{ackAlone:e})}function l(a,c){function d(){h(a)}var f=m[a];try{var l=!1,l="document"in c;if(!l)return!1;l="object"==typeof c.document;if(!l||"about:blank"===c.location.href)return!1}catch(s){return!1}f.receiveWindow=c;"undefined"===typeof c.attachEvent?
c.onresize=d:c.attachEvent("onresize",d);".."===a?b(f.frame,f.relayUri,e(a),a):h(a);return!0}var d=500,f=10,m={},s=gadgets.util.getUrlParameters().parent,p,v;return{getCode:function(){return"rmr"},isParentVerifiable:function(){return!0},init:function(a,b){p=a;v=b;return!0},setup:function(c,d){try{if("object"!==typeof m[c]){var f=document.createElement("iframe"),h=f.style;h.position="absolute";h.top="0px";h.border="0";h.opacity="0";h.width="10px";h.height="1px";f.id="rmrtransport-"+c;f.name=f.id;var l=
gadgets.rpc.getRelayUrl(c),p=gadgets.rpc.getOrigin(s);l||(l=p+"/robots.txt");m[c]={frame:f,receiveWindow:null,relayUri:l,relayOrigin:p,searchCounter:0,width:10,waiting:!0,queue:[],sendId:0,recvId:0,verifySendToken:String(Math.random()),verifyRecvToken:null,originVerified:!1};".."!==c&&b(f,l,e(c));a(c)}}catch(v){return gadgets.warn("Caught exception setting up RMR: "+v),!1}return!0},call:function(a,b,d){return c(a,d.s,b,d)}}}());gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.ifpc||(gadgets.rpctx.ifpc=function(){function b(a){for(var b=[],c=0,e=a.length;c<e;++c)b.push(encodeURIComponent(gadgets.json.stringify(a[c])));return b.join("\x26")}function a(a){for(var b,e=c.length-1;0<=e;--e){var h=c[e];try{if(h&&(h.recyclable||"complete"===h.readyState))if(h.parentNode.removeChild(h),window.ActiveXObject)c[e]=h=null,c.splice(e,1);else{h.recyclable=!1;b=h;break}}catch(l){}}b||(b=document.createElement("iframe"),b.style.border=b.style.width=b.style.height="0px",b.style.visibility=
"hidden",b.style.position="absolute",b.onload=function(){this.recyclable=!0},c.push(b));b.src=a;window.setTimeout(function(){document.body.appendChild(b)},0)}var c=[],e=0,h,l={};return{getCode:function(){return"ifpc"},isParentVerifiable:function(){return!0},init:function(a,b){h=b;h("..",!0);return!0},setup:function(a,b){h(a,!0);return!0},call:function(c,f,h){var l=gadgets.rpc.getRelayUrl(c);++e;if(!l)return gadgets.warn("No relay file assigned for IFPC"),!1;var p=null,v=[];if(h.l)p=[l,"#",b([f,e,
1,0,b([f,h.s,"","",f].concat(h.a))])].join(""),v.push(p);else{p=[l,"#",c,"\x26",f,"@",e,"\x26"].join("");c=encodeURIComponent(gadgets.json.stringify(h));f=2E3-p.length;h=Math.ceil(c.length/f);for(var l=0,B;0<c.length;)B=c.substring(0,f),c=c.substring(f),v.push([p,h,"\x26",l,"\x26",B].join("")),l+=1}do a(v.shift());while(0<v.length);return!0},_receiveMessage:function(a,b){var c=a[1],e=parseInt(a[2],10),h=parseInt(a[3],10),v=a[a.length-1],B=1===e;if(1<e){l[c]||(l[c]=[]);l[c][h]=v;a:{for(e-=1;0<=e;--e)if("undefined"===
typeof l[c][e]){e=!1;break a}e=!0}e&&(v=l[c].join(""),delete l[c],B=!0)}B&&b(gadgets.json.parse(decodeURIComponent(v)))}}}());
window.gadgets.rpc||(gadgets.rpc=function(){function b(a,b){if(!u[a]){var g=aa;b||(g=F);u[a]=g;for(var c=N[a]||[],d=0;d<c.length;++d){var f=c[d];f.t=H[a];g.call(a,f.f,f)}N[a]=[]}}function a(){function a(){W=!0}da||("undefined"!=typeof window.addEventListener?window.addEventListener("unload",a,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onunload",a),da=!0)}function c(b,g,c,d,f){if(!H[g]||H[g]!==c)gadgets.error("Invalid auth token. "+H[g]+" vs "+c),P(g,O);f.onunload=function(){Q[g]&&
!W&&(P(g,ba),gadgets.rpc.removeReceiver(g))};a();d=gadgets.json.parse(decodeURIComponent(d))}function e(a,g){if(a&&"string"===typeof a.s&&"string"===typeof a.f&&a.a instanceof Array)if(H[a.f]&&H[a.f]!==a.t&&(gadgets.error("Invalid auth token. "+H[a.f]+" vs "+a.t),P(a.f,O)),"__ack"===a.s)window.setTimeout(function(){b(a.f,!0)},0);else{a.c&&(a.callback=function(b){gadgets.rpc.call(a.f,"__cb",null,a.c,b)});if(g){var c=h(g);a.origin=g;var d=a.r;if(!d||h(d)!=c)d=g;a[x]=d}c=(E[a.s]||E[""]).apply(a,a.a);
a.c&&"undefined"!==typeof c&&gadgets.rpc.call(a.f,"__cb",null,a.c,c)}}function h(a){if(!a)return"";if(0==a.indexOf("file:"))return"file://";a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);-1==a.indexOf("://")&&(a=window.location.protocol+"//"+a);var b=a.substring(a.indexOf("://")+3),g=b.indexOf("/");-1!=g&&(b=b.substring(0,g));a=a.substring(0,a.indexOf("://"));var g="",c=b.indexOf(":");if(-1!=c){var d=b.substring(c+1),b=b.substring(0,c);if("http"===a&&"80"!==d||"https"===a&&"443"!==
d)g=":"+d}return a+"://"+b+g}function l(a){if("/"==a.charAt(0)){var b=a.indexOf("|"),g=0<b?a.substring(1,b):a.substring(1);a=0<b?a.substring(b+1):null;return{id:g,origin:a}}return null}function d(a){if("undefined"===typeof a||".."===a)return window.parent;var b=l(a);if(b)return window.top.frames[b.id];a=String(a);return(b=document.getElementById(a))&&b.contentWindow?b.contentWindow:(b=window.frames[a])&&!b.closed?b:null}function f(a,b){if(!0!==Q[a]){"undefined"===typeof Q[a]&&(Q[a]=0);var g=d(a);
(".."===a||null!=g)&&!0===aa.setup(a,b)?Q[a]=!0:!0!==Q[a]&&10>Q[a]++?window.setTimeout(function(){f(a,b)},500):(u[a]=F,Q[a]=!0)}}function m(a,b){var g=d(a);if(!w[a]||w[a]!==ga&&g.Function.prototype!==w[a].constructor.prototype){var c=s(a);if(h(c)!==h(window.location.href))return w[a]=ga,!1;try{w[a]=g.gadgets.rpc.receiveSameDomain}catch(f){return w[a]=ga,!1}}return w[a]&&w[a]!==ga?(w[a](b),!0):!1}function s(a){(a=G[a])&&"/"===a.substring(0,1)&&(a="/"===a.substring(1,2)?document.location.protocol+a:
document.location.protocol+"//"+document.location.host+a);return a}function p(a,b,g){/http(s)?:\/\/.+/.test(b)||(0==b.indexOf("//")?b=window.location.protocol+b:"/"==b.charAt(0)?b=window.location.protocol+"//"+window.location.host+b:-1==b.indexOf("://")&&(b=window.location.protocol+"//"+b));G[a]=b;"undefined"!==typeof g&&(K[a]=!!g)}function v(a,b){b=b||"";H[a]=String(b);f(a,b)}function B(a){a=(a.passReferrer||"").split(":",2);D=a[0]||"none";g=a[1]||"origin"}function t(a){"true"===String(a.useLegacyProtocol)&&
(aa=gadgets.rpctx.ifpc,aa.init(e,b))}function I(a,b){function g(c){c=c?c.rpc:{};B(c);var d=c.parentRelayUrl||"",d=h(r.parent||b)+d;p("..",d,"true"===String(c.useLegacyProtocol));t(c);v("..",a)}!r.parent&&b?g({}):gadgets.config.register("rpc",null,g)}function z(a,b,g){if(".."===a)I(g||r.rpctoken||r.ifpctok||"",b);else a:{var c=null;if("/"!=a.charAt(0)){if(!gadgets.util)break a;c=document.getElementById(a);if(!c)throw Error("Cannot set up gadgets.rpc receiver with ID: "+a+", element not found.");}c=
c&&c.src;b=b||gadgets.rpc.getOrigin(c);p(a,b);b=gadgets.util.getUrlParameters(c);v(a,g||b.rpctoken)}}var x="referer",E={},G={},K={},H={},M=0,R={},Q={},w={},r={},u={},N={},D=null,g=null,T=window.top!==window.self,L=window.name,P=function(){},ba=1,O=2,U=window.console,ca=U&&U.log&&function(a){U.log(a)}||function(){},F=function(){function a(b){return function(){ca(b+": call ignored")}}return{getCode:function(){return"noop"},isParentVerifiable:function(){return!0},init:a("init"),setup:a("setup"),call:a("call")}}();
gadgets.util&&(r=gadgets.util.getUrlParameters());var W=!1,da=!1,aa="flash"==r.rpctx?gadgets.rpctx.flash:"rmr"==r.rpctx?gadgets.rpctx.rmr:"function"===typeof window.postMessage?gadgets.rpctx.wpm:"object"===typeof window.postMessage?gadgets.rpctx.wpm:window.ActiveXObject?gadgets.rpctx.flash?gadgets.rpctx.flash:gadgets.rpctx.nix:0<navigator.userAgent.indexOf("WebKit")?gadgets.rpctx.rmr:"Gecko"===navigator.product?gadgets.rpctx.frameElement:gadgets.rpctx.ifpc;E[""]=function(){ca("Unknown RPC service: "+
this.s)};E.__cb=function(a,b){var g=R[a];g&&(delete R[a],g.call(this,b))};var ga={};return{config:function(a){"function"===typeof a.securityCallback&&(P=a.securityCallback)},register:function(a,b){if("__cb"===a||"__ack"===a)throw Error("Cannot overwrite callback/ack service");if(""===a)throw Error("Cannot overwrite default service: use registerDefault");E[a]=b},unregister:function(a){if("__cb"===a||"__ack"===a)throw Error("Cannot delete callback/ack service");if(""===a)throw Error("Cannot delete default service: use unregisterDefault");
delete E[a]},registerDefault:function(a){E[""]=a},unregisterDefault:function(){delete E[""]},forceParentVerifiable:function(){aa.isParentVerifiable()||(aa=gadgets.rpctx.ifpc)},call:function(a,b,c,d){a=a||"..";var f="..";".."===a?f=L:"/"==a.charAt(0)&&(f=gadgets.rpc.getOrigin(window.location.href),f="/"+L+(f?"|"+f:""));++M;c&&(R[M]=c);var e={s:b,f:f,c:c?M:0,a:Array.prototype.slice.call(arguments,3),t:H[a],l:!!K[a]},h;a:if("bidir"===D||"c2p"===D&&".."===a||"p2c"===D&&".."!==a){h=window.location.href;
var r="?";if("query"===g)r="#";else if("hash"===g)break a;r=h.lastIndexOf(r);r=-1===r?h.length:r;h=h.substring(0,r)}else h=null;h&&(e.r=h);!(".."!==a&&null==l(a)&&!document.getElementById(a))&&!m(a,e)&&(h=u[a],!h&&null!==l(a)&&(h=aa),h?(K[a]&&(h=gadgets.rpctx.ifpc),!1===h.call(a,f,e)&&(u[a]=F,aa.call(a,f,e))):N[a]?N[a].push(e):N[a]=[e])},getRelayUrl:s,setRelayUrl:p,setAuthToken:v,setupReceiver:z,getAuthToken:function(a){return H[a]},removeReceiver:function(a){delete G[a];delete K[a];delete H[a];delete Q[a];
delete w[a];delete u[a]},getRelayChannel:function(){return aa.getCode()},receive:function(a,b){4<a.length?aa._receiveMessage(a,e):c.apply(null,a.concat(b))},receiveSameDomain:function(a){a.a=Array.prototype.slice.call(a.a);window.setTimeout(function(){e(a)},0)},getOrigin:h,getTargetOrigin:function(a){var b=null,b=s(a);b||(b=(b=l(a))?b.origin:".."==a?r.parent:document.getElementById(a).src);return h(b)},init:function(){!1===aa.init(e,b)&&(aa=F);T?z(".."):gadgets.config.register("rpc",null,function(a){a=
a.rpc||{};B(a);t(a)})},_getTargetWin:d,_parseSiblingId:l,ACK:"__ack",RPC_ID:L||"..",SEC_ERROR_LOAD_TIMEOUT:0,SEC_ERROR_FRAME_PHISH:ba,SEC_ERROR_FORGED_MSG:O}}(),gadgets.rpc.init());
shindig.uri=function(){var b=/^(?:([^:/?#]+):)?(?:\/\/([^/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/;return function(a){function c(a){if(null===a.match(b))throw"Malformed URL: "+a;z=RegExp.$1;x=RegExp.$2;E=RegExp.$3;G=RegExp.$4;H=RegExp.$5}function e(a){for(var b=[],c=0,d=a.length;c<d;++c){var g=a[c][0],f=a[c][1];void 0!==f&&b.push(Q(g)+(null!==f?"\x3d"+Q(f):""))}return b.join("\x26")}function h(){K&&(G=e(K),K=null);return G}function l(){M&&(H=e(M),M=null);return H}function d(a){K=K||v(G);return B(K,
a)}function f(a){M=M||v(H);return B(M,a)}function m(a,b){K=t(K||v(G),a,b);return w}function s(a,b){M=t(M||v(H),a,b);return w}function p(){return[z,""!==z?":":"",""!==x?"//":"",x].join("")}function v(a){var b=[];a=a.split("\x26");for(var c=0,d=a.length;c<d;++c){var g=a[c].split("\x3d"),f=g.shift(),e=null;0<g.length&&(e=g.join("").replace(/\+/g," "));b.push([f,null!=e?R(e):null])}return b}function B(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c][0]==b)return a[c][1]}function t(a,b,c){var d=b;"string"===
typeof b&&(d={},d[b]=c);for(var g in d){b=!1;c=0;for(var f=a.length;!b&&c<f;++c)a[c][0]==g&&(a[c][1]=d[g],b=!0);b||a.push([g,d[g]])}return a}function I(a,b){a=a||"";a[0]===b&&(a=a.substr(b.length));return a}var z="",x="",E="",G="",K=null,H="",M=null,R=window.decodeURIComponent?decodeURIComponent:unescape,Q=window.encodeURIComponent?encodeURIComponent:escape,w=null;"object"===typeof a&&"function"===typeof a.toString?c(a.toString()):a&&c(a);return w={getSchema:function(){return z},getAuthority:function(){return x},
getOrigin:p,getPath:function(){return E},getQuery:h,getFragment:l,getQP:d,getFP:f,setSchema:function(a){z=a;return w},setAuthority:function(a){x=a;return w},setPath:function(a){"undefined"!==typeof a&&null!=a&&(E=("/"===a[0]?"":"/")+a);return w},setQuery:function(a){K=null;G=I(a,"?");return w},setFragment:function(a){M=null;H=I(a,"#");return w},setQP:m,setFP:s,setExistingP:function(a,b){void 0!==d(a,b)&&m(a,b);void 0!==f(a,b)&&s(a,b);return w},toString:function(){var a=h(),b=l();return[p(),E,""!==
a?"?":"",a,""!==b?"#":"",b].join("")}}}}();
gadgets.io=function(){function b(){var a;if("undefined"!=typeof shindig&&shindig.xhrwrapper&&shindig.xhrwrapper.createXHR)return shindig.xhrwrapper.createXHR();if("undefined"!=typeof ActiveXObject)return(a=new ActiveXObject("Msxml2.XMLHTTP"))||(a=new ActiveXObject("Microsoft.XMLHTTP")),a;if("undefined"!=typeof XMLHttpRequest||window.XMLHttpRequest)return new window.XMLHttpRequest;throw"no xhr available";}function a(a,b,c){if(4!==b.readyState)return!0;try{if(!(200==b.status||0==b.status)){var d=""+
b.status;b.responseText&&(d=d+" "+b.responseText);c({errors:[d],rc:b.status,text:b.responseText});return!0}}catch(f){return c({errors:[f.number+" Error not specified"],rc:f.number,text:f.description}),!0}return!1}function c(b,c,d,f){a(b,f,c)||c(h(d,{body:f.responseText}))}function e(b,c,d,e){if(!a(b,e,c)){e=e.responseText;var l=e.indexOf(m)+m.length;l<m.length||(e=e.substr(l),e=eval("("+e+")"),e=e[b],e.oauthState&&(f=e.oauthState),e.st&&shindig.auth.updateSecurityToken(e.st),c(h(d,e)))}}function h(a,
b){var c={text:b.body,rc:b.rc||200,headers:b.headers,oauthApprovalUrl:b.oauthApprovalUrl,oauthError:b.oauthError,oauthErrorText:b.oauthErrorText,errors:[]};if(200>c.rc||400<=c.rc)c.errors=[c.rc+" Error"];else if(void 0!==c.text&&null!==c.text)switch(300<=c.rc&&400>c.rc&&(a.CONTENT_TYPE="TEXT"),a.CONTENT_TYPE){case "JSON":case "FEED":c.data=gadgets.json.parse(c.text);c.data||(c.errors.push("500 Failed to parse JSON"),c.rc=500,c.data=null);break;case "DOM":var d;"undefined"!=typeof ActiveXObject?(d=
new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.validateOnParse=!1,d.resolveExternals=!1,d.loadXML(c.text)?c.data=d:(c.errors.push("500 Failed to parse XML"),c.rc=500)):(d=(new DOMParser).parseFromString(c.text,"text/xml"),"parsererror"===d.documentElement.nodeName?(c.errors.push("500 Failed to parse XML"),c.rc=500):c.data=d);break;default:c.data=c.text}return c}function l(a,c,d,f,e,h,l,m){var E=b();0==c.indexOf("//")&&(c=document.location.protocol+c);E.open(e,c,!0);d&&(E.onreadystatechange=gadgets.util.makeClosure(null,
l,a,d,h,E));if(null!==f){a="application/x-www-form-urlencoded";"string"===typeof m&&(a=m,m={});m=m||{};m["Content-Type"]||(m["Content-Type"]=a);for(var G in m)E.setRequestHeader(G,m[G])}E.send(f)}var d={},f,m="throw 1; \x3c don't be evil' \x3e";gadgets.config.register("core.io",null,function(a){d=a["core.io"]||{}});return{makeRequest:function(a,b,c){c=c||{};var m=c.METHOD||"GET",t=c.REFRESH_INTERVAL,I,z;c.AUTHORIZATION&&"NONE"!==c.AUTHORIZATION?(I=c.AUTHORIZATION.toLowerCase(),z=shindig.auth.getSecurityToken()):
"GET"===m&&void 0===t&&(t=3600);var x=!0;"undefined"!==typeof c.OWNER_SIGNED&&(x=c.OWNER_SIGNED);var E=!0;"undefined"!==typeof c.VIEWER_SIGNED&&(E=c.VIEWER_SIGNED);var G=c.HEADERS||{};"POST"===m&&!G["Content-Type"]&&(G["Content-Type"]="application/x-www-form-urlencoded");var K=gadgets.util.getUrlParameters();z={url:a,httpMethod:m,headers:gadgets.io.encodeValues(G,!1),postData:c.POST_DATA||"",authz:I||"",st:z||"",contentType:c.CONTENT_TYPE||"TEXT",numEntries:c.NUM_ENTRIES||"3",getSummaries:!!c.GET_SUMMARIES,
signOwner:x,signViewer:E,gadget:K.url,container:K.container||K.synd||"default",bypassSpecCache:gadgets.util.getUrlParameters().nocache||"",getFullHeaders:!!c.GET_FULL_HEADERS};if("oauth"===I||"signed"===I){gadgets.io.oauthReceivedCallbackUrl_&&(z.OAUTH_RECEIVED_CALLBACK=gadgets.io.oauthReceivedCallbackUrl_,gadgets.io.oauthReceivedCallbackUrl_=null);z.oauthState=f||"";for(var H in c)c.hasOwnProperty(H)&&0===H.indexOf("OAUTH_")&&(z[H]=c[H])}I=d.jsonProxyUrl.replace("%host%",document.location.host);
a:{if(gadgets.io.preloaded_&&"GET"===z.httpMethod)for(H=0;H<gadgets.io.preloaded_.length;H++)if((x=gadgets.io.preloaded_[H])&&x.id===z.url){delete gadgets.io.preloaded_[H];200!==x.rc?b({rc:x.rc,errors:[x.rc+" Error"]}):(x.oauthState&&(f=x.oauthState),b(h(c,{body:x.body,rc:x.rc,headers:x.headers,oauthApprovalUrl:x.oauthApprovalUrl,oauthError:x.oauthError,oauthErrorText:x.oauthErrorText,errors:[]})));H=!0;break a}H=!1}H||("GET"===m&&0<t?(m="?refresh\x3d"+t+"\x26"+gadgets.io.encodeValues(z),l(a,I+m,
b,null,"GET",c,e)):l(a,I,b,gadgets.io.encodeValues(z),"POST",c,e))},makeNonProxiedRequest:function(a,b,d,f){d=d||{};l(a,a,b,d.POST_DATA,d.METHOD,d,c,f)},clearOAuthState:function(){f=void 0},encodeValues:function(a,b){var c=!b,d=[],f=!1,e;for(e in a)a.hasOwnProperty(e)&&!/___$/.test(e)&&(f?d.push("\x26"):f=!0,d.push(c?encodeURIComponent(e):e),d.push("\x3d"),d.push(c?encodeURIComponent(a[e]):a[e]));return d.join("")},getProxyUrl:function(a,b){var c=d.proxyUrl;if(!c)return c;var f=b||{},e=f.REFRESH_INTERVAL;
void 0===e&&(e="3600");var h=gadgets.util.getUrlParameters(),f=f.rewriteMime?"\x26rewriteMime\x3d"+encodeURIComponent(f.rewriteMime):"",c=c.replace("%url%",encodeURIComponent(a)).replace("%host%",document.location.host).replace("%rawurl%",a).replace("%refresh%",encodeURIComponent(e)).replace("%gadget%",encodeURIComponent(h.url)).replace("%container%",encodeURIComponent(h.container||h.synd||"default")).replace("%rewriteMime%",f);0==c.indexOf("//")&&(c=window.location.protocol+c);return c}}}();
gadgets.io.RequestParameters=gadgets.util.makeEnum("METHOD CONTENT_TYPE POST_DATA HEADERS AUTHORIZATION NUM_ENTRIES GET_SUMMARIES GET_FULL_HEADERS REFRESH_INTERVAL OAUTH_SERVICE_NAME OAUTH_USE_TOKEN OAUTH_TOKEN_NAME OAUTH_REQUEST_TOKEN OAUTH_REQUEST_TOKEN_SECRET OAUTH_RECEIVED_CALLBACK".split(" "));gadgets.io.MethodType=gadgets.util.makeEnum(["GET","POST","PUT","DELETE","HEAD"]);gadgets.io.ContentType=gadgets.util.makeEnum(["TEXT","DOM","JSON","FEED"]);
gadgets.io.AuthorizationType=gadgets.util.makeEnum(["NONE","SIGNED","OAUTH"]);tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.io,"encodeValues"],[gadgets.io,"getProxyUrl"],[gadgets.io,"makeRequest"]])});
(function(){osapi.newBatch=function(){var b={},a=[],c=function(a){var b={method:a.request.method,id:a.key};a.request.rpc&&(b.params=a.request.rpc);return b};b.execute=function(b){for(var h={},l={},d=0,f=[],m=0;m<a.length;m++){var s=a[m].request.transport;l[s.name]||(f.push(s),d++);l[s.name]=l[s.name]||[];l[s.name].push(c(a[m]))}m=function(c){c.error&&(h.error=c.error);for(var f=0;f<a.length;f++){var l=a[f].key,m=c[l];m&&(h[l]=m.error?m:m.data||m.result)}d--;0===d&&b(h)};for(s=0;s<f.length;s++)f[s].execute(l[f[s].name],
m);0==d&&window.setTimeout(function(){b(h)},0)};b.add=function(c,h){h&&c&&a.push({key:c,request:h});return b};return b}})();
osapi._registerMethod=function(b,a){if("newBatch"!==b){for(var c=b.split("."),e=osapi,h=0;h<c.length-1;h++)e[c[h]]=e[c[h]]||{},e=e[c[h]];var l=c[c.length-1],d;e[l]&&(d=e[l]);e[l]=function(c){c=c||{};c.userId=c.userId||"@viewer";c.groupId=c.groupId||"@self";return new osapi._BoundCall(b,a,c)};"undefined"!==typeof tamings___&&(c=function(){caja___.markTameAsFunction(e[l],b)},d&&d.__taming_index?(e[l].__taming_index=d.__taming_index,tamings___[d.__taming_index]=c):(e[l].__taming_index=tamings___.length,
tamings___.push(c)))}};osapi._BoundCall=function(b,a,c){this.method=b;this.transport=a;this.rpc=c};osapi._BoundCall.prototype.execute=function(b){var a="undefined"!==typeof caja___&&caja___.getUseless&&caja___.getUseless(),c=a?caja___.getUseless():this,e=a?caja___.untame(b):b;b=osapi.newBatch();b.add(this.method,this);b.execute(function(a){a.error?e.call(c,a.error):e.call(c,a[c.method])})};
tamings___.push(function(b){function a(){var a=osapi.newBatch();caja___.whitelistFuncs([[a,"add"],[a,"execute"]]);return caja___.tame(a)}caja___.markTameAsFunction(a,"newBatch");caja___.tamesTo(osapi.newBatch,a);caja___.whitelistCtors([[osapi,"_BoundCall",Object]]);caja___.whitelistMeths([[osapi._BoundCall,"execute"]])});shindig._uri=shindig.uri;
shindig.uri=function(){var b=shindig._uri;shindig._uri=null;return function(a){var c=b(a);c.hasSameOrigin=function(a){return c.getOrigin()==a.getOrigin()};c.resolve=function(a){""==c.getSchema()&&c.setSchema(a.getSchema());""==c.getAuthority()&&c.setAuthority(a.getAuthority());var b=c.getPath();if(""==b||"/"!=b.charAt(0)){var l=a.getPath(),d=l.lastIndexOf("/");-1!=d&&l.substring(0,d+1);c.setPath(a.getPath()+b)}};return c}}();
(function(){function b(a,b){var l={POST_DATA:gadgets.json.stringify(a),CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"SIGNED"},d={"Content-Type":"application/json"},f=this.name,m=shindig.auth.getSecurityToken();m&&(c?d.Authorization="OAuth2 "+m:f=f+"?st\x3d"+encodeURIComponent(m));gadgets.io.makeNonProxiedRequest(f,function(a){if(a.errors[0])b({error:{code:a.rc,message:a.text}});else if(a=a.result||a.data,a.error)b(a);else{for(var c={},d=0;d<a.length;d++)c[a[d].id]=a[d];b(c)}},l,d)}function a(a){var h=
a["osapi.services"];c=a["osapi.useOAuth2"];if(h)for(var l in h)if(h.hasOwnProperty(l)&&(0==l.indexOf("http")||0==l.indexOf("//"))){a={name:l.replace("%host%",document.location.host),execute:b};for(var d=h[l],f=0;f<d.length;f++)osapi._registerMethod(d[f],a)}}var c;gadgets.config&&gadgets.config.register("osapi.services",null,a)})();
gadgets.util.registerOnLoadHandler(function(){osapi&&(osapi.people&&osapi.people.get)&&(osapi.people.getViewer=function(b){b=b||{};b.userId="@viewer";b.groupId="@self";return osapi.people.get(b)},osapi.people.getViewerFriends=function(b){b=b||{};b.userId="@viewer";b.groupId="@friends";return osapi.people.get(b)},osapi.people.getOwner=function(b){b=b||{};b.userId="@owner";b.groupId="@self";return osapi.people.get(b)},osapi.people.getOwnerFriends=function(b){b=b||{};b.userId="@owner";b.groupId="@friends";
return osapi.people.get(b)})});tamings___.push(function(b){gadgets.util.registerOnLoadHandler(function(){osapi&&(osapi.people&&osapi.people.get)&&caja___.whitelistFuncs([[osapi.people,"getViewer"],[osapi.people,"getViewerFriends"],[osapi.people,"getOwner"],[osapi.people,"getOwnerFriends"]])})});osapi.container={};osapi.container.MetadataParam={LOCAL_EXPIRE_TIME:"localExpireTimeMs",URL:"url"};
osapi.container.MetadataResponse={IFRAME_URL:"iframeUrl",NEEDS_TOKEN_REFRESH:"needsTokenRefresh",VIEWS:"views",EXPIRE_TIME_MS:"expireTimeMs",FEATURES:"features",HEIGHT:"height",MODULE_PREFS:"modulePrefs",PREFERRED_HEIGHT:"preferredHeight",PREFERRED_WIDTH:"preferredWidth",RESPONSE_TIME_MS:"responseTimeMs",WIDTH:"width"};osapi.container.TokenResponse={TOKEN:"token"};osapi.container.NavigateTiming={URL:"url",ID:"id",START:"start",XRT:"xrt",SRT:"srt",DL:"dl",OL:"ol",PRT:"prt"};
osapi.container.RenderParam={ALLOW_DEFAULT_VIEW:"allowDefaultView",CAJOLE:"cajole",CLASS:"class",DEBUG:"debug",HEIGHT:"height",NO_CACHE:"nocache",TEST_MODE:"testmode",USER_PREFS:"userPrefs",VIEW:"view",WIDTH:"width"};osapi.container.ViewParam={VIEW:"view"};osapi.container.CallbackType={ON_PRELOADED:"onPreloaded",ON_NAVIGATED:"onNavigated",ON_CLOSED:"onClosed",ON_UNLOADED:"onUnloaded"};osapi.container.util={};
osapi.container.util.getSafeJsonValue=function(b,a,c){return void 0!=b[a]&&null!=b[a]?b[a]:c};osapi.container.util.mergeJsons=function(b,a){var c={},e;for(e in b)c[e]=b[e];for(e in a)c[e]=a[e];return c};osapi.container.util.newMetadataRequest=function(b){osapi.container.util.isArray(b)||(b=[b]);return{container:window.__CONTAINER,ids:b,fields:"iframeUrl modulePrefs.* needsTokenRefresh userPrefs.* views.preferredHeight views.preferredWidth expireTimeMs responseTimeMs".split(" ")}};
osapi.container.util.newTokenRequest=function(b){osapi.container.util.isArray(b)||(b=[b]);return{container:window.__CONTAINER,ids:b,fields:["token"]}};osapi.container.util.toArrayOfJsonKeys=function(b){var a=[],c;for(c in b)a.push(c);return a};osapi.container.util.isArray=function(b){return"[object Array]"==Object.prototype.toString.call(b)};osapi.container.util.isEmptyJson=function(b){for(var a in b)return!1;return!0};osapi.container.util.warn=function(b){console&&console.warn&&console.warn(b)};
osapi.container.util.getCurrentTimeMs=function(){return(new Date).getTime()};osapi.container.util.createIframeHtml=function(b){var a=[];a.push("\x3ciframe ");for(var c in b){var e=b[c];e&&(a.push(c),a.push('\x3d"'),a.push(e),a.push('" '))}a.push("\x3e\x3c/iframe\x3e");return a.join("")};osapi.container.GadgetHolder=function(b,a){this.siteId_=b;this.el_=a;this.securityToken_=this.iframeId_=this.renderParams_=this.viewParams_=this.gadgetInfo_=null;this.onConstructed()};
osapi.container.GadgetHolder.prototype.relayPath_=null;osapi.container.GadgetHolder.prototype.onConstructed=function(){};osapi.container.GadgetHolder.prototype.getElement=function(){return this.el_};osapi.container.GadgetHolder.prototype.getIframeId=function(){return this.iframeId_};osapi.container.GadgetHolder.prototype.getGadgetInfo=function(){return this.gadgetInfo_};osapi.container.GadgetHolder.prototype.dispose=function(){this.gadgetInfo_=null};
osapi.container.GadgetHolder.prototype.getUrl=function(){return this.gadgetInfo_?this.gadgetInfo_.url:null};osapi.container.GadgetHolder.prototype.getView=function(){return this.renderParams_[osapi.container.RenderParam.VIEW]};osapi.container.GadgetHolder.prototype.getIframeElement=function(){return this.el_.getElementsByTagName("iframe")[0]};osapi.container.GadgetHolder.prototype.setSecurityToken=function(b){this.securityToken_=b;return this};
osapi.container.GadgetHolder.prototype.render=function(b,a,c){this.iframeId_=osapi.container.GadgetHolder.IFRAME_ID_PREFIX_+this.siteId_;this.gadgetInfo_=b;this.viewParams_=a;this.renderParams_=c;this.doOaaIframeHtml_()};osapi.container.GadgetHolder.IFRAME_ID_PREFIX_="__gadget_";
osapi.container.GadgetHolder.prototype.doNormalIframeHtml_=function(){this.el_.innerHTML=this.getIframeHtml_();var b=shindig.uri(this.gadgetInfo_[osapi.container.MetadataResponse.IFRAME_URL]),a=shindig.uri().setSchema(b.getSchema()).setAuthority(b.getAuthority()).setPath(this.relayPath_);gadgets.rpc.setupReceiver(this.iframeId_,a.toString(),b.getFP("rpctoken"))};
osapi.container.GadgetHolder.prototype.doOaaIframeHtml_=function(){var b={id:this.iframeId_,name:this.iframeId_,src:this.getIframeUrl_(),allowTransparency:!0,scrolling:"no",marginwidth:"0",marginheight:"0",frameborder:"0",vspace:"0",hspace:"0","class":this.renderParams_[osapi.container.RenderParam.CLASS],height:this.renderParams_[osapi.container.RenderParam.HEIGHT],width:this.renderParams_[osapi.container.RenderParam.WIDTH]};new OpenAjax.hub.IframeContainer(gadgets.pubsub2router.hub,this.iframeId_,
{Container:{onSecurityAlert:function(a,b){gadgets.error(["Security error for container ",a.getClientID()," : ",b].join(""));a.getIframe().src="about:blank"},onConnect:function(a){gadgets.log(["connected: ",a.getClientID()].join(""))}},IframeContainer:{parent:this.el_,uri:this.getIframeUrl_(),tunnelURI:shindig.uri(this.relayPath_).resolve(shindig.uri(window.location.href)),iframeAttrs:b,timeout:3E5}})};
osapi.container.GadgetHolder.prototype.hasFeature_=function(b,a){var c=b[osapi.container.MetadataResponse.MODULE_PREFS];return c&&(c=c[osapi.container.MetadataResponse.FEATURES])&&c[a]?!0:!1};
osapi.container.GadgetHolder.prototype.getIframeHtml_=function(){var b={id:this.iframeId_,name:this.iframeId_,src:this.getIframeUrl_(),allowTransparency:!0,scrolling:"no",marginwidth:"0",marginheight:"0",frameborder:"0",vspace:"0",hspace:"0","class":this.renderParams_[osapi.container.RenderParam.CLASS],height:this.renderParams_[osapi.container.RenderParam.HEIGHT],width:this.renderParams_[osapi.container.RenderParam.WIDTH]},a=[];a.push("\x3ciframe ");for(var c in b){var e=b[c];e&&(a.push(c),a.push('\x3d"'),
a.push(e),a.push('" '))}a.push("\x3e\x3c/iframe\x3e");return a.join("")};
osapi.container.GadgetHolder.prototype.getIframeUrl_=function(){var b=shindig.uri(this.gadgetInfo_[osapi.container.MetadataResponse.IFRAME_URL]);b.setQP("debug",this.renderParams_[osapi.container.RenderParam.DEBUG]?"1":"0");b.setQP("nocache",this.renderParams_[osapi.container.RenderParam.NO_CACHE]?"1":"0");b.setQP("testmode",this.renderParams_[osapi.container.RenderParam.TEST_MODE]?"1":"0");b.setQP("view",this.getView());if(this.renderParams_[osapi.container.RenderParam.CAJOLE]){var a=b.getQP("libs");
null==a||""==a?b.setQP("libs","caja"):b.setQP("libs",[a,":caja"].join(""));b.setQP("caja","1")}this.updateUserPrefParams_(b);b.setQP("parent",window.__CONTAINER_URI.getOrigin());this.securityToken_&&b.setExistingP("st",this.securityToken_);b.setQP("mid",String(this.siteId_));osapi.container.util.isEmptyJson(this.viewParams_)||(a=gadgets.json.stringify(this.viewParams_),b.setFP("view-params",a));return b.toString()};
osapi.container.GadgetHolder.prototype.updateUserPrefParams_=function(b){var a=this.renderParams_[osapi.container.RenderParam.USER_PREFS];if(a)for(var c in a){var e="up_"+c,h=a[c];h instanceof Array&&(h=h.join("|"));b.setExistingP(e,h)}};function init(b){b.container&&(osapi.container.GadgetHolder.prototype.relayPath_=b.container.relayPath)}gadgets.config&&gadgets.config.register("container",null,init);
osapi.container.GadgetSite=function(b){this.service_=b.service;this.navigateCallback_=b.navigateCallback;this.currentGadgetEl_=b.gadgetEl;this.loadingGadgetEl_=b.bufferEl;this.id_=this.currentGadgetEl_&&this.currentGadgetEl_.id?this.currentGadgetEl_.id:osapi.container.GadgetSite.nextUniqueId_++;this.loadingGadgetHolder_=this.currentGadgetHolder_=this.parentId_=null;this.onConstructed()};osapi.container.GadgetSite.prototype.onConstructed=function(){};
osapi.container.GadgetSite.prototype.setHeight=function(b){var a=this.getActiveGadgetHolder();if(a){if(a=a.getIframeElement())a.style.height=b+"px";this.currentGadgetEl_&&(this.currentGadgetEl_.style.height=b+"px")}return this};osapi.container.GadgetSite.prototype.setWidth=function(b){var a=this.getActiveGadgetHolder();if(a&&(a=a.getIframeElement()))a.style.width=b+"px";return this};osapi.container.GadgetSite.prototype.setParentId=function(b){this.parentId_=b;return this};
osapi.container.GadgetSite.prototype.getId=function(){return this.id_};osapi.container.GadgetSite.prototype.getActiveGadgetHolder=function(){return this.loadingGadgetHolder_||this.currentGadgetHolder_};osapi.container.GadgetSite.prototype.getFeature=function(b,a){var c=a||this.getActiveGadgetHolder().getGadgetInfo();return c[osapi.container.MetadataResponse.FEATURES]&&c[osapi.container.MetadataResponse.FEATURES][b]};osapi.container.GadgetSite.prototype.getParentId=function(){return this.parentId_};
osapi.container.GadgetSite.prototype.navigateTo=function(b,a,c,e){var h=osapi.container.util.getCurrentTimeMs(),l=this.service_.getCachedGadgetMetadata(b),d=e||function(){};e=osapi.container.util.newMetadataRequest([b]);var f=this;this.service_.getGadgetMetadata(e,function(e){var s=!l?osapi.container.util.getCurrentTimeMs()-h:0;e=e[b];if(e.error){var p=["Failed to navigate for gadget ",b,"."].join("");osapi.container.util.warn(p)}else f.render(e,a,c);p={};p[osapi.container.NavigateTiming.URL]=b;p[osapi.container.NavigateTiming.ID]=
f.id_;p[osapi.container.NavigateTiming.START]=h;p[osapi.container.NavigateTiming.XRT]=s;f.onNavigateTo(p);d(e)})};osapi.container.GadgetSite.prototype.onNavigateTo=function(b){if(this.navigateCallback_){var a=window[this.navigateCallback_];"function"===typeof a&&a(b)}};
osapi.container.GadgetSite.prototype.render=function(b,a,c){var e=null;if((this.currentGadgetHolder_?this.currentGadgetHolder_.getUrl():null)==b.url)e=this.currentGadgetHolder_.getView();var h=function(a){if("undefined"!==typeof a&&null!=a){a=a.aliases||[];for(var c=0;c<a.length;c++)if(b[osapi.container.MetadataResponse.VIEWS][a[c]])return{view:a[c],viewInfo:b[osapi.container.MetadataResponse.VIEWS][a[c]]}}return null},e=c[osapi.container.RenderParam.VIEW]||a[osapi.container.ViewParam.VIEW]||e,l=
b[osapi.container.MetadataResponse.VIEWS][e];if(e&&!l){var d=h(gadgets.config.get("views")[e]);d&&(e=d.view,l=d.viewInfo)}if(!l&&(c[osapi.container.RenderParam.ALLOW_DEFAULT_VIEW]&&e!=osapi.container.GadgetSite.DEFAULT_VIEW_)&&(e=osapi.container.GadgetSite.DEFAULT_VIEW_,l=b[osapi.container.MetadataResponse.VIEWS][e],!l&&(d=h(gadgets.config.get("views")[e]))))e=d.view,l=d.viewInfo;if(l){this.loadingGadgetHolder_=new osapi.container.GadgetHolder(this.id_,this.loadingGadgetEl_||this.currentGadgetEl_);
var h={},f;for(f in c)h[f]=c[f];h[osapi.container.RenderParam.VIEW]=e;h[osapi.container.RenderParam.HEIGHT]=c[osapi.container.RenderParam.HEIGHT]||l[osapi.container.MetadataResponse.PREFERRED_HEIGHT]||b[osapi.container.MetadataResponse.MODULE_PREFS][osapi.container.MetadataResponse.HEIGHT]||String(osapi.container.GadgetSite.DEFAULT_HEIGHT_);h[osapi.container.RenderParam.WIDTH]=c[osapi.container.RenderParam.WIDTH]||l[osapi.container.MetadataResponse.PREFERRED_WIDTH]||b[osapi.container.MetadataResponse.MODULE_PREFS][osapi.container.MetadataResponse.WIDTH]||
String(osapi.container.GadgetSite.DEFAULT_WIDTH_);this.updateSecurityToken_(b,h);this.loadingGadgetHolder_.render(b,a,h);this.onRender(b,a,c)}else gadgets.warn(["Unsupported view ",e," for gadget ",b.url,"."].join(""))};osapi.container.GadgetSite.prototype.onRender=function(b,a,c){this.swapBuffers_();this.currentGadgetHolder_&&this.currentGadgetHolder_.dispose();this.currentGadgetHolder_=this.loadingGadgetHolder_;this.loadingGadgetHolder_=null};
osapi.container.GadgetSite.prototype.rpcCall=function(b,a,c){this.currentGadgetHolder_&&gadgets.rpc.call(this.currentGadgetHolder_.getIframeId(),b,a,c)};osapi.container.GadgetSite.prototype.updateSecurityToken_=function(b,a){var c=this.service_.getCachedGadgetToken(b.url);c&&this.loadingGadgetHolder_.setSecurityToken(c[osapi.container.TokenResponse.TOKEN])};
osapi.container.GadgetSite.prototype.close=function(){this.loadingGadgetEl_&&this.loadingGadgetEl_.firstChild&&this.loadingGadgetEl_.removeChild(this.loadingGadgetEl_.firstChild);this.currentGadgetEl_&&this.currentGadgetEl_.firstChild&&this.currentGadgetEl_.removeChild(this.currentGadgetEl_.firstChild);this.loadingGadgetHolder_&&this.loadingGadgetHolder_.dispose();this.currentGadgetHolder_&&this.currentGadgetHolder_.dispose()};osapi.container.GadgetSite.nextUniqueId_=0;
osapi.container.GadgetSite.prototype.swapBuffers_=function(){if(this.loadingGadgetEl_){this.loadingGadgetEl_.style.left="";this.loadingGadgetEl_.style.position="";this.currentGadgetEl_.style.position="absolute";this.currentGadgetEl_.style.left="-2000px";var b=this.currentGadgetEl_;this.currentGadgetEl_=this.loadingGadgetEl_;this.loadingGadgetEl_=b}};osapi.container.GadgetSite.RPC_ARG_KEY="gs";osapi.container.GadgetSite.DEFAULT_HEIGHT_=200;osapi.container.GadgetSite.DEFAULT_WIDTH_=320;
osapi.container.GadgetSite.DEFAULT_VIEW_="default";osapi.container.UrlHolder=function(b,a){this.siteId_=b;this.el_=a;this.renderParams_=this.url_=this.iframeId_=null;this.onConstructed()};osapi.container.UrlHolder.prototype.onConstructed=function(){};osapi.container.UrlHolder.prototype.getElement=function(){return this.el_};osapi.container.UrlHolder.prototype.getIframeId=function(){return this.iframeId_};osapi.container.UrlHolder.prototype.dispose=function(){this.url_=null};
osapi.container.UrlHolder.prototype.getUrl=function(){return this.url_};osapi.container.UrlHolder.prototype.getIframeElement=function(){return this.el_.firstChild};osapi.container.UrlHolder.prototype.render=function(b,a){this.iframeId_=osapi.container.UrlHolder.IFRAME_PREFIX_+this.siteId_;this.url_=b;this.renderParams_=a;var c=this.createIframeHtml_();this.el_.innerHTML=c};
osapi.container.UrlHolder.prototype.createIframeHtml_=function(){var b={id:this.iframeId_,name:this.iframeId_,src:this.getUrl(),scrolling:"auto",marginwidth:"0",marginheight:"0",frameborder:"0",vspace:"0",hspace:"0","class":this.renderParams_[osapi.container.RenderParam.CLASS],height:this.renderParams_[osapi.container.RenderParam.HEIGHT],width:this.renderParams_[osapi.container.RenderParam.WIDTH]};return osapi.container.util.createIframeHtml(b)};osapi.container.UrlHolder.IFRAME_PREFIX_="__url_";
osapi.container.UrlSite=function(b){this.holder_=this.parentId_=null;this.id_=osapi.container.UrlSite.nextUniqueId_++;this.el_=b[osapi.container.UrlSite.URL_ELEMENT];this.url_=null;this.onConstructed()};osapi.container.UrlSite.prototype.onConstructed=function(){};osapi.container.UrlSite.prototype.setHeight=function(b){if(this.holder_){var a=this.holder_.getIframeElement();a&&(a.style.height=b+"px")}return this};
osapi.container.UrlSite.prototype.setWidth=function(b){if(this.holder_){var a=this.holder_.getIframeElement();a&&(a.style.width=b+"px")}return this};osapi.container.UrlSite.prototype.setParentId=function(b){this.parentId_=b;return this};osapi.container.UrlSite.prototype.getId=function(){return this.id_};osapi.container.UrlSite.prototype.getParentId=function(){return this.parentId_};osapi.container.UrlSite.prototype.getActiveUrlHolder=function(){return this.holder_};
osapi.container.UrlSite.prototype.close=function(){this.el_&&this.el_.firstChild&&this.el_.removeChild(this.el_.firstChild);this.holder_&&this.holder_.dispose()};osapi.container.UrlSite.prototype.render=function(b,a){this.holder_=new osapi.container.UrlHolder(this.id_,this.el_);var c={},e;for(e in a)c[e]=a[e];this.holder_.render(b,c)};osapi.container.UrlSite.nextUniqueId_=0;osapi.container.UrlSite.URL_ELEMENT="urlEl";
osapi.container.Service=function(b){b=this.config_=b||{};this.apiHost_=String(osapi.container.util.getSafeJsonValue(b,osapi.container.ServiceConfig.API_HOST,window.__API_URI.getOrigin()));this.apiPath_=String(osapi.container.util.getSafeJsonValue(b,osapi.container.ServiceConfig.API_PATH,"/rpc"));this.cachedMetadatas_={};this.cachedTokens_={};b.GET_LANGUAGE&&(this.getLanguage=b.GET_LANGUAGE);b.GET_COUNTRY&&(this.getCountry=b.GET_COUNTRY);this.registerOsapiServices();this.onConstructed(b)};
osapi.container.Service.prototype.onConstructed=function(b){};
osapi.container.Service.prototype.getGadgetMetadata=function(b,a){var c=a||function(){},e=osapi.container.util.toArrayOfJsonKeys(this.getUncachedDataByRequest_(this.cachedMetadatas_,b)),h=this.getCachedDataByRequest_(this.cachedMetadatas_,b);if(0==e.length)c(h);else{var l=this;b.ids=e;b.language=this.getLanguage();b.country=this.getCountry();osapi.gadgets.metadata(b).execute(function(a){if(a.error)for(var f=0;f<b.ids.length;f++)h[e]={error:a.error};else{var f=osapi.container.util.getCurrentTimeMs(),
e;for(e in a){var s=a[e];l.updateResponse_(s,e,f);l.cachedMetadatas_[e]=s;h[e]=s}}c(h)})}};osapi.container.Service.prototype.addGadgetMetadatas=function(b,a){this.addToCache_(b,a,this.cachedMetadatas_)};osapi.container.Service.prototype.addGadgetTokens=function(b,a){this.addToCache_(b,a,this.cachedTokens_)};osapi.container.Service.prototype.addToCache_=function(b,a,c){var e=osapi.container.util.getCurrentTimeMs(),h;for(h in b){var l=b[h];this.updateResponse_(l,h,e,a);c[h]=l}};
osapi.container.Service.prototype.updateResponse_=function(b,a,c,e){b[osapi.container.MetadataParam.URL]=a;b[osapi.container.MetadataParam.LOCAL_EXPIRE_TIME]=b[osapi.container.MetadataResponse.EXPIRE_TIME_MS]-(null==e?b[osapi.container.MetadataResponse.RESPONSE_TIME_MS]:e)+c};
osapi.container.Service.prototype.getGadgetToken=function(b,a){var c=a||function(){},e=this,h=function(a){var d={};if(a.error)for(var f=0;f<b.ids.length;f++)d[b.ids[f]]={error:a.error};else for(f in a)a[f].url=f,e.cachedTokens_[f]=a[f],d[f]=a[f];c(d)};if(this.config_[osapi.container.ContainerConfig.GET_GADGET_TOKEN])this.config_[osapi.container.ContainerConfig.GET_GADGET_TOKEN](b,h);else osapi.gadgets.token(b).execute(h)};osapi.container.Service.prototype.getCachedGadgetMetadata=function(b){return this.cachedMetadatas_[b]};
osapi.container.Service.prototype.getCachedGadgetToken=function(b){return this.cachedTokens_[b]};osapi.container.Service.prototype.uncacheStaleGadgetMetadataExcept=function(b){for(var a in this.cachedMetadatas_)"undefined"===typeof b[a]&&this.cachedMetadatas_[a][osapi.container.MetadataParam.LOCAL_EXPIRE_TIME]<osapi.container.util.getCurrentTimeMs()&&delete this.cachedMetadatas_[a]};
osapi.container.Service.prototype.registerOsapiServices=function(){var b=this.apiHost_+this.apiPath_,a={"gadgets.rpc":["container.listMethods"]};a[b]=["gadgets.metadata","gadgets.token"];gadgets.config.init({osapi:{endPoints:[b]},"osapi.services":a})};osapi.container.Service.prototype.getCachedDataByRequest_=function(b,a){return this.filterCachedDataByRequest_(b,a,function(a){return"undefined"!==typeof a})};
osapi.container.Service.prototype.getUncachedDataByRequest_=function(b,a){return this.filterCachedDataByRequest_(b,a,function(a){return"undefined"===typeof a})};osapi.container.Service.prototype.filterCachedDataByRequest_=function(b,a,c){for(var e={},h=0;h<a.ids.length;h++){var l=a.ids[h],d=b[l];c(d)&&(e[l]=d)}return e};osapi.container.Service.prototype.getLocale_=function(){var b=window.navigator;return b.userLanguage||b.systemLanguage||b.language};
osapi.container.Service.prototype.getLanguage=function(){try{return this.getLocale_().split("-")[0]||"ALL"}catch(b){return"ALL"}};osapi.container.Service.prototype.getCountry=function(){try{return this.getLocale_().split("-")[1]||"ALL"}catch(b){return"ALL"}};osapi.container.ServiceConfig={};osapi.container.ServiceConfig.API_HOST="apiHost";osapi.container.ServiceConfig.API_PATH="apiPath";
osapi.container.Container=function(b){b=this.config_=b||{};this.gadgetLifecycleCallbacks_={};this.preloadedGadgetUrls_={};this.sites_={};this.allowDefaultView_=Boolean(osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.ALLOW_DEFAULT_VIEW,!0));this.renderCajole_=Boolean(osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.RENDER_CAJOLE,!1));this.renderDebugParam_=String(osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.RENDER_DEBUG_PARAM,
osapi.container.ContainerConfig.RENDER_DEBUG));var a=window.__CONTAINER_URI.getQP(this.renderDebugParam_);this.renderDebug_="undefined"===typeof a?Boolean(osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.RENDER_DEBUG,!1)):"1"===a;this.renderTest_=Boolean(osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.RENDER_TEST,!1));this.tokenRefreshInterval_=Number(osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.TOKEN_REFRESH_INTERVAL,18E5));
this.navigateCallback_=String(osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.NAVIGATE_CALLBACK,null));this.service_=new osapi.container.Service(b);this.tokenRefreshTimer_=null;this.initializeMixins_();this.preloadCaches(b);this.registerRpcServices_();this.onConstructed(b)};
osapi.container.Container.prototype.newGadgetSite=function(b,a){var c=new osapi.container.GadgetSite({service:this.service_,navigateCallback:this.navigateCallback_,gadgetEl:b,bufferEl:a||null});return this.sites_[c.getId()]=c};
osapi.container.Container.prototype.navigateGadget=function(b,a,c,e,h){var l=h||function(){};h=osapi.container.ContainerConfig;var d=osapi.container.RenderParam;this.allowDefaultView_&&(e[d.ALLOW_DEFAULT_VIEW]=!0);this.renderCajole_&&(e[d.CAJOLE]=!0);this.renderDebug_&&(e[d.NO_CACHE]=!0,e[d.DEBUG]=!0);this.renderTest_&&(e[d.TEST_MODE]=!0);this.refreshService_();var f=this,m=function(h){e[d.USER_PREFS]=h;b.navigateTo(a,c,e,function(c){c.error?gadgets.warn(["Failed to possibly schedule token refresh for gadget ",
a,"."].join("")):c[osapi.container.MetadataResponse.NEEDS_TOKEN_REFRESH]&&f.scheduleRefreshTokens_();f.applyLifecycleCallbacks_(osapi.container.CallbackType.ON_NAVIGATED,b);l(c)})};if(this.config_[h.GET_PREFERENCES]&&!e[d.USER_PREFS])this.config_[h.GET_PREFERENCES](b.getId(),a,m);else m(e[d.USER_PREFS])};osapi.container.Container.prototype.closeGadget=function(b){var a=b.getId();this.applyLifecycleCallbacks_(osapi.container.CallbackType.ON_CLOSED,b);b.close();delete this.sites_[a];this.unscheduleRefreshTokens_()};
osapi.container.Container.prototype.addGadgetLifecycleCallback=function(b,a){return!this.gadgetLifecycleCallbacks_[b]?(this.gadgetLifecycleCallbacks_[b]=a,!0):!1};osapi.container.Container.prototype.removeGadgetLifecycleCallback=function(b){delete this.gadgetLifecycleCallbacks_[b]};osapi.container.Container.prototype.preloadGadget=function(b,a){this.preloadGadgets([b],a)};
osapi.container.Container.prototype.preloadGadgets=function(b,a){var c=a||function(){},e=osapi.container.util.newMetadataRequest(b),h=this;this.refreshService_();this.service_.getGadgetMetadata(e,function(a){h.addPreloadGadgets_(a);h.applyLifecycleCallbacks_(osapi.container.CallbackType.ON_PRELOADED,a);c(a)})};osapi.container.Container.prototype.unloadGadget=function(b){this.unloadGadgets([b])};
osapi.container.Container.prototype.unloadGadgets=function(b){for(var a=0;a<b.length;a++){var c=b[a];delete this.preloadedGadgetUrls_[c];this.applyLifecycleCallbacks_(osapi.container.CallbackType.ON_UNLOADED,c)}};osapi.container.Container.prototype.getGadgetMetadata=function(b,a){var c=osapi.container.util.newMetadataRequest([b]);this.refreshService_();this.service_.getGadgetMetadata(c,a)};
osapi.container.Container.prototype.rpcRegister=function(b,a){var c=this;gadgets.rpc.register(b,function(){this[osapi.container.GadgetSite.RPC_ARG_KEY]=c.getGadgetSiteByIframeId_(this.f);for(var b=[this],h=0;h<arguments.length;++h)b.push(arguments[h]);return a.apply(c,b)})};osapi.container.Container.prototype.onConstructed=function(b){};osapi.container.Container.addMixin=function(b,a){osapi.container.Container.prototype.mixins_[b]=a};osapi.container.ContainerConfig={};
osapi.container.ContainerConfig.ALLOW_DEFAULT_VIEW="allowDefaultView";osapi.container.ContainerConfig.RENDER_CAJOLE="renderCajole";osapi.container.ContainerConfig.RENDER_DEBUG="renderDebug";osapi.container.ContainerConfig.RENDER_DEBUG_PARAM="renderDebugParam";osapi.container.ContainerConfig.RENDER_TEST="renderTest";osapi.container.ContainerConfig.TOKEN_REFRESH_INTERVAL="tokenRefreshInterval";osapi.container.ContainerConfig.NAVIGATE_CALLBACK="navigateCallback";
osapi.container.ContainerConfig.PRELOAD_REF_TIME="preloadRefTime";osapi.container.ContainerConfig.PRELOAD_METADATAS="preloadMetadatas";osapi.container.ContainerConfig.PRELOAD_TOKENS="preloadTokens";osapi.container.ContainerConfig.GET_LANGUAGE="GET_LANGUAGE";osapi.container.ContainerConfig.GET_COUNTRY="GET_COUNTRY";osapi.container.ContainerConfig.GET_PREFERENCES="GET_PREFERENCES";osapi.container.ContainerConfig.SET_PREFERENCES="SET_PREFERENCES";osapi.container.ContainerConfig.GET_GADGET_TOKEN="GET_GADGET_TOKEN";
osapi.container.Container.prototype.mixins_={};osapi.container.Container.prototype.initializeMixins_=function(){for(var b in this.mixins_)this[b]=new this.mixins_[b](this)};osapi.container.Container.prototype.addPreloadGadgets_=function(b){for(var a in b)b[a].error?gadgets.warn(["Failed to preload gadget ",a,"."].join("")):(this.addPreloadedGadgetUrl_(a),b[a][osapi.container.MetadataResponse.NEEDS_TOKEN_REFRESH]&&this.scheduleRefreshTokens_())};
osapi.container.Container.prototype.preloadCaches=function(b){var a=osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.PRELOAD_METADATAS,{}),c=osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.PRELOAD_TOKENS,{});b=osapi.container.util.getSafeJsonValue(b,osapi.container.ContainerConfig.PRELOAD_REF_TIME,null);this.service_.addGadgetMetadatas(a,b);this.service_.addGadgetTokens(c,b);this.addPreloadGadgets_(a)};
osapi.container.Container.prototype.refreshService_=function(){var b=this.getActiveGadgetUrls_();this.service_.uncacheStaleGadgetMetadataExcept(b)};osapi.container.Container.prototype.getGadgetSiteByIframeId_=function(b){for(var a in this.sites_){var c=this.sites_[a],e=c.getActiveGadgetHolder();if(e&&e.getIframeId()===b)return c}return null};
osapi.container.Container.prototype.scheduleRefreshTokens_=function(){if(this.isRefreshTokensEnabled_()&&!this.tokenRefreshTimer_){var b=this;this.tokenRefreshTimer_=window.setInterval(function(){b.refreshTokens_()},this.tokenRefreshInterval_)}};osapi.container.Container.prototype.unscheduleRefreshTokens_=function(){this.tokenRefreshTimer_&&0>=this.getTokenRefreshableGadgetUrls_().length&&(window.clearInterval(this.tokenRefreshTimer_),this.tokenRefreshTimer_=null)};
osapi.container.Container.prototype.isRefreshTokensEnabled_=function(){return 0<this.tokenRefreshInterval_};
osapi.container.Container.prototype.registerRpcServices_=function(){var b=this;this.rpcRegister("resize_iframe",function(a,b){var e=a[osapi.container.GadgetSite.RPC_ARG_KEY];e&&e.setHeight(b)});this.rpcRegister("resize_iframe_width",function(a,b){var e=a[osapi.container.GadgetSite.RPC_ARG_KEY];e&&e.setWidth(b);return!0});this.rpcRegister("set_pref",function(a,c,e){var h=a[osapi.container.GadgetSite.RPC_ARG_KEY],l=b.config_[osapi.container.ContainerConfig.SET_PREFERENCES];if(h&&l){for(var d={},f=2,
m=arguments.length;f<m;f+=2)d[arguments[f]]=arguments[f+1];l(h.getId(),h.getActiveGadgetHolder().getUrl(),d)}})};osapi.container.Container.prototype.addPreloadedGadgetUrl_=function(b){this.preloadedGadgetUrls_[b]=null};osapi.container.Container.prototype.getTokenRefreshableGadgetUrls_=function(){var b={},a;for(a in this.getActiveGadgetUrls_())this.service_.getCachedGadgetMetadata(a)[osapi.container.MetadataResponse.NEEDS_TOKEN_REFRESH]&&(b[a]=null);return osapi.container.util.toArrayOfJsonKeys(b)};
osapi.container.Container.prototype.getActiveGadgetUrls_=function(){return osapi.container.util.mergeJsons(this.getNavigatedGadgetUrls_(),this.preloadedGadgetUrls_)};osapi.container.Container.prototype.getNavigatedGadgetUrls_=function(){var b={},a;for(a in this.sites_){var c=this.sites_[a].getActiveGadgetHolder();c&&(b[c.getUrl()]=null)}return b};
osapi.container.Container.prototype.refreshTokens_=function(){var b=this.getTokenRefreshableGadgetUrls_(),b=osapi.container.util.newTokenRequest(b),a=this;this.service_.getGadgetToken(b,function(b){for(var e in a.sites_){var h=a.sites_[e].getActiveGadgetHolder();if(a.service_.getCachedGadgetMetadata(h.getUrl())[osapi.container.MetadataResponse.NEEDS_TOKEN_REFRESH]){var l=b[h.getUrl()];l.error?gadgets.warn(["Failed to get token for gadget ",h.getUrl(),"."].join("")):gadgets.rpc.call(h.getIframeId(),
"update_security_token",null,l[osapi.container.TokenResponse.TOKEN])}}})};osapi.container.Container.prototype.applyLifecycleCallbacks_=function(b,a){for(name in this.gadgetLifecycleCallbacks_){var c=this.gadgetLifecycleCallbacks_[name][b];c&&c(a)}};osapi.container.Container.prototype.newUrlSite=function(b){var a={};a[osapi.container.UrlSite.URL_ELEMENT]=b;return new osapi.container.UrlSite(a)};osapi.container.Container.prototype.navigateUrl=function(b,a,c){b.render(a,c);return b};
(function(){gadgets.config.init({rpc:{parentRelayUrl:""},"core.io":{jsonProxyUrl:"http://%host%/gadgets/makeRequest",proxyUrl:"http://%host%/gadgets/proxy?refresh\x3d%refresh%\x26container\x3d%container%%rewriteMime%\x26gadget\x3d%gadget%/%rawurl%"}});window.__CONTAINER_URI=shindig.uri(window.location.href);var b=window.__API_URI=null;if(window.__CONTAINER_SCRIPT_ID)b=document.getElementById(window.__CONTAINER_SCRIPT_ID);else{var a=document.getElementsByTagName("script");0<a.length&&(b=a[a.length-
1])}b&&(window.__API_URI=shindig.uri(b.src),window.__API_URI.resolve(window.__CONTAINER_URI));window.__CONTAINER=window.__API_URI?window.__API_URI.getQP("container"):"default"})();osapi.container.ee={};osapi.container.ee.RenderParam={GADGET_RENDER_PARAMS:"gadgetRenderParams",GADGET_VIEW_PARAMS:"gadgetViewParams",URL_RENDER_PARAMS:"urlRenderParams",DATA_MODEL:"eeDataModel",EMBEDDED:"embedded"};
(function(){osapi.container.Container.addMixin("ee",function(b){function a(a,h,l,d){var f=l[osapi.container.ee.RenderParam.GADGET_VIEW_PARAMS]||{},m=l[osapi.container.ee.RenderParam.GADGET_RENDER_PARAMS]||{};m[osapi.container.ee.RenderParam.DATA_MODEL]=h;m[osapi.container.RenderParam.VIEW]=osapi.container.ee.RenderParam.EMBEDDED;var s=b.newGadgetSite(a),p=h.gadget;b.preloadGadget(p,function(v){null==v[p]||null!=v[p]&&v[p].error?null!=h.url?c(a,h,l,d):null!=d&&d(s,v[p]):b.navigateGadget(s,p,f,m,function(a){null!=
d&&d(s,a)})})}function c(a,c,l,d){l=l[osapi.container.ee.RenderParam.URL_RENDER_PARAMS]||{};a=b.newUrlSite(a);c=b.navigateUrl(a,c.url,l);d&&d(c,null)}b.rpcRegister("ee_gadget_rendered",function(a){return(a=a.gs.currentGadgetHolder_.renderParams_.eeDataModel)?a.context:null});return{navigate:function(b,h,l,d){h.gadget?a(b,h,l,d):h.url&&c(b,h,l,d)},close:function(a){a instanceof osapi.container.GadgetSite&&b.closeGadget(a);a instanceof osapi.container.UrlSite&&a.close()}}})})();
(function(){function b(b,c,d){var e="",h=f.getGadgetSiteByIframeId_(this.f);void 0!==h&&void 0!==h.getActiveGadgetHolder()&&(e=h.getActiveGadgetHolder().getUrl());var l="",m="",p={};void 0!==d&&(void 0!==d.view&&(l=d.view),void 0!==d.viewTarget&&(m=d.viewTarget),void 0!==d.viewParams&&(p=d.viewParams));f.preloadGadget(e,function(d){var h={};if(void 0!==d&&void 0!==d[e]){if(d[e].error){gadgets.error("Failed to preload gadget : "+e);null!=c&&c(null,d[e]);return}h=d[e]}d=f.views.createElementForGadget(h,
l,m);var t=f.newGadgetSite(d);d={};void 0!==l&&""!==l&&(d[osapi.container.RenderParam.VIEW]=l);d[osapi.container.RenderParam.WIDTH]="100%";d[osapi.container.RenderParam.HEIGHT]="100%";f.navigateGadget(t,e,p,d,function(d){null!=d&&a(t,b);null!=c&&c(t,d)})})}function a(a,b){var c;a&&a.getActiveGadgetHolder()&&(c=a.getActiveGadgetHolder().getIframeId());p[c]=a;"undefined"!==typeof a.getId()&&null!=b&&(m[a.getId()]=b)}function c(b,c,d,e){var h=d.gadget;f.preloadGadget(h,function(l){if((null==l[h]||null!=
l[h]&&l[h].error)&&!d.url)null!=c&&c(null,l[h]);else{var m="";l={};void 0!=e&&(void 0!=e.viewTarget&&(m=e.viewTarget),void 0!=e.viewParams&&(l=e.viewParams));var m=f.views.createElementForEmbeddedExperience(m),p={};p[osapi.container.RenderParam.VIEW]=osapi.container.ee.RenderParam.EMBEDDED;p[osapi.container.RenderParam.WIDTH]="100%";p[osapi.container.RenderParam.HEIGHT]="100%";var s={};s[osapi.container.RenderParam.WIDTH]="100%";s[osapi.container.RenderParam.HEIGHT]="100%";var H={};H[osapi.container.ee.RenderParam.GADGET_RENDER_PARAMS]=
p;H[osapi.container.ee.RenderParam.URL_RENDER_PARAMS]=s;H[osapi.container.ee.RenderParam.GADGET_VIEW_PARAMS]=l;f.ee.navigate(m,d,H,function(d,f){null!=f&&a(d,b);null!=c&&c(d,f)})}})}function e(a,b,c){c=f.views.createElementForUrl(c);c=f.newUrlSite(c);var d={};d[osapi.container.RenderParam.WIDTH]="100%";d[osapi.container.RenderParam.HEIGHT]="100%";f.navigateUrl(c,a,d);void 0!==b&&b(c)}function h(a){var b=this.f;a=void 0==a||""==a?p[b]:a;if(null!=a&&(b=a.getId(),void 0!==b&&void 0!==m[b]&&void 0!==
s[b]))m[b](s[b]);f.views.destroyElement(a)}function l(a){if(void 0!==a&&void 0!==p[this.f]){var b=p[this.f].getId();void 0!==b&&(s[b]=a)}}function d(a){if(null!=a){var b=document.documentElement,c={width:-1,height:-1};void 0!==b&&(c.width=b.clientWidth,c.height=b.clientHeight);a(c)}}var f,m,s,p;osapi.container.Container.addMixin("views",function(a){f=a;gadgets.rpc.register("gadgets.views.openGadget",b);gadgets.rpc.register("gadgets.views.openEmbeddedExperience",c);gadgets.rpc.register("gadgets.views.openUrl",
e);gadgets.rpc.register("gadgets.views.close",h);gadgets.rpc.register("gadgets.views.setReturnValue",l);gadgets.rpc.register("gadgets.window.getContainerDimensions",d);m={};s={};p={};return{createElementForGadget:function(a,b,c){console.log("container need to define createElementForGadget function")},createElementForEmbeddedExperience:function(a){console.log("container need to define createElementForEmbeddedExperience function")},createElementForUrl:function(a){console.log("container need to define createElementForUrl function")},
destroyElement:function(a){console.log("container need to define destroyElement function")}}})})();var com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.sharedcontext=com.rooxteam.sharedcontext||{};
(function(){function b(a){var b=[],e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},h=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e(),l;l=a?window.localStorage||window.sessionStorage:window.sessionStorage||window.localStorage;var d=function(b,c,d,f){"undefined"===typeof c&&(c=null);if(l)if(null===c){if(null===l.getItem(b))return;l.removeItem(b)}else{var e=JSON.stringify(c);if(l.getItem(b)===e)return;l.setItem(b,e)}if(!a&&!1!==f){c=JSON.stringify({id:"__storageEvent",key:b,
value:c,__messageSource:h});if(window.top==window){if((f=window.frames)&&f.length)for(e=0;e<f.length;e++)f[e].postMessage(c,"*");"undefined"!==typeof Host&&Host.processMessageEvent(c)}window.top.postMessage(c,"*")}!1!==d&&s(b)},f=function(a,d,f,e){var h={keys:{},callback:d,oneTime:!!f};if("string"===typeof a)h.keys[a]=!0,"*"!=a&&(a=[a]);else for(d=0;d<a.length;d++)h.keys[a[d]]=!0;b.push(h);e&&"*"!==a&&window.setTimeout(function(){m(h,a)},1)},m=function(a,d){a.callback(d);if(a.oneTime)a:for(var f=
0;f<b.length;++f)if(b[f]==a){b.splice(f,1);break a}},s=function(a){"string"==typeof a&&(a=[a]);for(var d=0;d<b.length;++d)for(var f=b[d],e=0;e<a.length;e++)if(f.keys[a[e]]||f.keys["*"]){m(f,a);break}};if(!a){if("undefined"!==typeof Host){var e=Host.getSessionStorageData(),p;for(p in e)try{d(p,JSON.parse(e[p]),!0,!1)}catch(v){}}gadgets.util.attachBrowserEvent(window,"message",function(a){if(a.data){var b=null;try{b=JSON.parse(a.data)}catch(c){return}if(b&&b.__messageSource!==h){"__storageEvent"===
b.id&&d(b.key,b.value,!0,!1);var f=window.frames;if(f&&f.length)for(var e=0;e<f.length;e++)f[e].postMessage(a.data,"*");"Host"!==b.__messageSource&&(window==window.top&&a.source!=window&&"undefined"!==typeof Host)&&(b.__messageSource=h,Host.processMessageEvent(JSON.stringify(b)))}}},!1)}return{getData:function(){if(!l)return{};for(var a={},b=0;b<l.length;b++)a[b]=l.getItem(l.key(b));return a},getDataKeys:function(){if(!l)return[];for(var a=[],b=0;b<l.length;b++)a.push(l.key(b));return a},registerListener:function(a,
b){f(a,b,!1,!0)},registerOneTimeListener_:function(a,b){f(a,b,!0,!0)},registerDeferredListener_:function(a,b){f(a,b,!1,!1)},getDataSet:function(a){if(!l)return null;a=l.getItem(a);return"undefined"===typeof a||null===a?a:JSON.parse(a)},putDataSet:function(a,b){d(a,b,!0)},removeDataSet:function(a){d(a,null,!0,void 0)},putDataSets:function(a){var b=[],c;for(c in a)b.push(c),d(c,a[c],!1);s(b)}}}com.rooxteam.sharedcontext.DataContext=b(!1);com.rooxteam.sharedcontext.PersistentDataContext=b(!0)})();
com.rooxteam.sharedcontext.getDataContext=function(){return com.rooxteam.sharedcontext.DataContext};com.rooxteam.sharedcontext.getPersistentDataContext=function(){return com.rooxteam.sharedcontext.PersistentDataContext};
(function(b,a){function c(a){var b=T[a]={},g,c;a=a.split(/\s+/);g=0;for(c=a.length;g<c;g++)b[a[g]]=!0;return b}function e(b,c,d){if(d===a&&1===b.nodeType)if(d="data-"+c.replace(ba,"-$1").toLowerCase(),d=b.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:g.isNumeric(d)?+d:P.test(d)?g.parseJSON(d):d}catch(f){}g.data(b,c,d)}else d=a;return d}function h(a){for(var b in a)if(!("data"===b&&g.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function l(a,b,c){var d=
b+"defer",f=b+"queue",e=b+"mark",h=g._data(a,d);h&&(("queue"===c||!g._data(a,f))&&("mark"===c||!g._data(a,e)))&&setTimeout(function(){!g._data(a,f)&&!g._data(a,e)&&(g.removeData(a,d,!0),h.fire())},0)}function d(){return!1}function f(){return!0}function m(a,b,c){b=b||0;if(g.isFunction(b))return g.grep(a,function(a,g){return!!b.call(a,g,a)===c});if(b.nodeType)return g.grep(a,function(a,g){return a===b===c});if("string"===typeof b){var d=g.grep(a,function(a){return 1===a.nodeType});if(ia.test(b))return g.filter(b,
d,!c);b=g.filter(b,d)}return g.grep(a,function(a,d){return 0<=g.inArray(a,b)===c})}function s(a){var b=Aa.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function p(a,b){if(1===b.nodeType&&g.hasData(a)){var c,d,f;d=g._data(a);var e=g._data(b,d),h=d.events;if(h)for(c in delete e.handle,e.events={},h){d=0;for(f=h[c].length;d<f;d++)g.event.add(b,c,h[c][d])}e.data&&(e.data=g.extend({},e.data))}}function v(a,b){var c;1===b.nodeType&&(b.clearAttributes&&
b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"===c&&("checkbox"===a.type||"radio"===a.type)?(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(g.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}
function B(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function t(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function I(a){var b=(a.nodeName||"").toLowerCase();"input"===b?t(a):"script"!==b&&"undefined"!==typeof a.getElementsByTagName&&g.grep(a.getElementsByTagName("input"),t)}function z(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,f="width"===b?1:0;if(0<d){if("border"!==
c)for(;4>f;f+=2)c||(d-=parseFloat(g.css(a,"padding"+qa[f]))||0),d="margin"===c?d+(parseFloat(g.css(a,c+qa[f]))||0):d-(parseFloat(g.css(a,"border"+qa[f]+"Width"))||0);return d+"px"}d=sa(a,b);if(0>d||null==d)d=a.style[b];if(ua.test(d))return d;d=parseFloat(d)||0;if(c)for(;4>f;f+=2)d+=parseFloat(g.css(a,"padding"+qa[f]))||0,"padding"!==c&&(d+=parseFloat(g.css(a,"border"+qa[f]+"Width"))||0),"margin"===c&&(d+=parseFloat(g.css(a,c+qa[f]))||0);return d+"px"}function x(a){return function(b,c){"string"!==
typeof b&&(c=b,b="*");if(g.isFunction(c))for(var d=b.toLowerCase().split(gb),f=0,e=d.length,h,l;f<e;f++)h=d[f],(l=/^\+/.test(h))&&(h=h.substr(1)||"*"),h=a[h]=a[h]||[],h[l?"unshift":"push"](c)}}function E(b,g,c,d,f,e){f=f||g.dataTypes[0];e=e||{};e[f]=!0;f=b[f];for(var h=0,l=f?f.length:0,m=b===Ua,q;h<l&&(m||!q);h++)q=f[h](g,c,d),"string"===typeof q&&(!m||e[q]?q=a:(g.dataTypes.unshift(q),q=E(b,g,c,d,q,e)));if((m||!q)&&!e["*"])q=E(b,g,c,d,"*",e);return q}function G(b,c){var d,f,e=g.ajaxSettings.flatOptions||
{};for(d in c)c[d]!==a&&((e[d]?b:f||(f={}))[d]=c[d]);f&&g.extend(!0,b,f)}function K(a,b,c,d){if(g.isArray(b))g.each(b,function(b,g){c||C.test(a)?d(a,g):K(a+"["+("object"===typeof g?b:"")+"]",g,c,d)});else if(!c&&"object"===g.type(b))for(var f in b)K(a+"["+f+"]",b[f],c,d);else d(a,b)}function H(){try{return new b.XMLHttpRequest}catch(a){}}function M(){setTimeout(R,0);return La=g.now()}function R(){La=a}function Q(a,b){var c={};g.each(Ma.concat.apply([],Ma.slice(0,b)),function(){c[this]=a});return c}
function w(a){if(!Va[a]){var b=u.body,c=g("\x3c"+a+"\x3e").appendTo(b),d=c.css("display");c.remove();if("none"===d||""===d){ra||(ra=u.createElement("iframe"),ra.frameBorder=ra.width=ra.height=0);b.appendChild(ra);if(!xa||!ra.createElement)xa=(ra.contentWindow||ra.contentDocument).document,xa.write((g.support.boxModel?"\x3c!doctype html\x3e":"")+"\x3chtml\x3e\x3cbody\x3e"),xa.close();c=xa.createElement(a);xa.body.appendChild(c);d=g.css(c,"display");b.removeChild(ra)}Va[a]=d}return Va[a]}function r(a){return g.isWindow(a)?
a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var u=b.document,N=b.navigator,D=b.location,g=function(){function c(){if(!g.isReady){try{u.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}g.ready()}}var g=function(a,b){return new g.fn.init(a,b,e)},d=b.jQuery,f=b.$,e,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,q=/^\s+/,m=/\s+$/,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,w=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
p=/(?:^|:|,)(?:\s*\[)+/g,s=/(webkit)[ \/]([\w.]+)/,D=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,V=/(mozilla)(?:.*? rv:([\w.]+))?/,T=/-([a-z]|[0-9])/ig,ja=/^-ms-/,v=function(a,b){return(b+"").toUpperCase()},L=N.userAgent,Na,X,ea=Object.prototype.toString,z=Object.prototype.hasOwnProperty,x=Array.prototype.push,E=Array.prototype.slice,I=String.prototype.trim,P=Array.prototype.indexOf,J={};g.fn=g.prototype={constructor:g,init:function(b,c,d){var f;if(!b)return this;if(b.nodeType)return this.context=
this[0]=b,this.length=1,this;if("body"===b&&!c&&u.body)return this.context=u,this[0]=u.body,this.selector=b,this.length=1,this;if("string"===typeof b){if((f="\x3c"===b.charAt(0)&&"\x3e"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:h.exec(b))&&(f[1]||!c)){if(f[1])return d=(c=c instanceof g?c[0]:c)?c.ownerDocument||c:u,(b=C.exec(b))?g.isPlainObject(c)?(b=[u.createElement(b[1])],g.fn.attr.call(b,c,!0)):b=[d.createElement(b[1])]:(b=g.buildFragment([f[1]],[d]),b=(b.cacheable?g.clone(b.fragment):b.fragment).childNodes),
g.merge(this,b);if((c=u.getElementById(f[2]))&&c.parentNode){if(c.id!==f[2])return d.find(b);this.length=1;this[0]=c}this.context=u;this.selector=b;return this}return!c||c.jquery?(c||d).find(b):this.constructor(c).find(b)}if(g.isFunction(b))return d.ready(b);b.selector!==a&&(this.selector=b.selector,this.context=b.context);return g.makeArray(b,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return null==a?this.toArray():
0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();g.isArray(a)?x.apply(d,a):g.merge(d,a);d.prevObject=this;d.context=this.context;"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return g.each(this,a,b)},ready:function(a){g.bindReady();Na.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(g.map(this,function(b,g){return a.call(b,g,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:x,sort:[].sort,splice:[].splice};g.fn.init.prototype=g.fn;g.extend=g.fn.extend=function(){var b,c,d,f,S,e=arguments[0]||{},h=1,l=arguments.length,q=!1;"boolean"===typeof e&&(q=e,e=arguments[1]||{},h=2);"object"!==typeof e&&!g.isFunction(e)&&(e=
{});l===h&&(e=this,--h);for(;h<l;h++)if(null!=(b=arguments[h]))for(c in b)d=e[c],f=b[c],e!==f&&(q&&f&&(g.isPlainObject(f)||(S=g.isArray(f)))?(S?(S=!1,d=d&&g.isArray(d)?d:[]):d=d&&g.isPlainObject(d)?d:{},e[c]=g.extend(q,d,f)):f!==a&&(e[c]=f));return e};g.extend({noConflict:function(a){b.$===g&&(b.$=f);a&&b.jQuery===g&&(b.jQuery=d);return g},isReady:!1,readyWait:1,holdReady:function(a){a?g.readyWait++:g.ready(!0)},ready:function(a){if(!0===a&&!--g.readyWait||!0!==a&&!g.isReady){if(!u.body)return setTimeout(g.ready,
1);g.isReady=!0;!0!==a&&0<--g.readyWait||(Na.fireWith(u,[g]),g.fn.trigger&&g(u).trigger("ready").off("ready"))}},bindReady:function(){if(!Na){Na=g.Callbacks("once memory");if("complete"===u.readyState)return setTimeout(g.ready,1);if(u.addEventListener)u.addEventListener("DOMContentLoaded",X,!1),b.addEventListener("load",g.ready,!1);else if(u.attachEvent){u.attachEvent("onreadystatechange",X);b.attachEvent("onload",g.ready);var a=!1;try{a=null==b.frameElement}catch(d){}u.documentElement.doScroll&&
a&&c()}}},isFunction:function(a){return"function"===g.type(a)},isArray:Array.isArray||function(a){return"array"===g.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):J[ea.call(a)]||"object"},isPlainObject:function(b){if(!b||"object"!==g.type(b)||b.nodeType||g.isWindow(b))return!1;try{if(b.constructor&&!z.call(b,"constructor")&&!z.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var d in b);
return d===a||z.call(b,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseJSON:function(a){if("string"!==typeof a||!a)return null;a=g.trim(a);if(b.JSON&&b.JSON.parse)return b.JSON.parse(a);if(r.test(a.replace(n,"@").replace(w,"]").replace(p,"")))return(new Function("return "+a))();g.error("Invalid JSON: "+a)},parseXML:function(c){if("string"!==typeof c||!c)return null;var d,f;try{b.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=
new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(S){d=a}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&g.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(a){a&&l.test(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(ja,"ms-").replace(T,v)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,c,d){var f,S=0,e=b.length,h=e===a||g.isFunction(b);
if(d)if(h)for(f in b){if(!1===c.apply(b[f],d))break}else for(;S<e&&!1!==c.apply(b[S++],d););else if(h)for(f in b){if(!1===c.call(b[f],f,b[f]))break}else for(;S<e&&!1!==c.call(b[S],S,b[S++]););return b},trim:I?function(a){return null==a?"":I.call(a)}:function(a){return null==a?"":a.toString().replace(q,"").replace(m,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var d=g.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||g.isWindow(a)?x.call(c,a):g.merge(c,a)}return c},inArray:function(a,
b,g){var c;if(b){if(P)return P.call(b,a,g);c=b.length;for(g=g?0>g?Math.max(0,c+g):g:0;g<c;g++)if(g in b&&b[g]===a)return g}return-1},merge:function(b,g){var c=b.length,d=0;if("number"===typeof g.length)for(var f=g.length;d<f;d++)b[c++]=g[d];else for(;g[d]!==a;)b[c++]=g[d++];b.length=c;return b},grep:function(a,b,g){var c=[],d;g=!!g;for(var f=0,S=a.length;f<S;f++)d=!!b(a[f],f),g!==d&&c.push(a[f]);return c},map:function(b,c,d){var f,S,e=[],h=0,l=b.length;if(b instanceof g||l!==a&&"number"===typeof l&&
(0<l&&b[0]&&b[l-1]||0===l||g.isArray(b)))for(;h<l;h++)f=c(b[h],h,d),null!=f&&(e[e.length]=f);else for(S in b)f=c(b[S],S,d),null!=f&&(e[e.length]=f);return e.concat.apply([],e)},guid:1,proxy:function(b,c){if("string"===typeof c){var d=b[c];c=b;b=d}if(!g.isFunction(b))return a;var f=E.call(arguments,2),d=function(){return b.apply(c,f.concat(E.call(arguments)))};d.guid=b.guid=b.guid||d.guid||g.guid++;return d},access:function(b,c,d,f,S,e,h){var l,q=null==d,m=0,fb=b.length;if(d&&"object"===typeof d){for(m in d)g.access(b,
c,m,d[m],1,e,f);S=1}else if(f!==a){l=h===a&&g.isFunction(f);q&&(l?(l=c,c=function(a,b,c){return l.call(g(a),c)}):(c.call(b,f),c=null));if(c)for(;m<fb;m++)c(b[m],d,l?f.call(b[m],m,c(b[m],d)):f,h);S=1}return S?b:q?c.call(b):fb?c(b[0],d):e},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=s.exec(a)||D.exec(a)||t.exec(a)||0>a.indexOf("compatible")&&V.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,g){return new a.fn.init(b,g)}g.extend(!0,
a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,d){d&&(d instanceof g&&!(d instanceof a))&&(d=a(d));return g.fn.init.call(this,c,d,b)};a.fn.init.prototype=a.fn;var b=a(u);return a},browser:{}});g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()});L=g.uaMatch(L);L.browser&&(g.browser[L.browser]=!0,g.browser.version=L.version);g.browser.webkit&&(g.browser.safari=!0);l.test(" ")&&
(q=/^[\s\xA0]+/,m=/[\s\xA0]+$/);e=g(u);u.addEventListener?X=function(){u.removeEventListener("DOMContentLoaded",X,!1);g.ready()}:u.attachEvent&&(X=function(){"complete"===u.readyState&&(u.detachEvent("onreadystatechange",X),g.ready())});return g}(),T={};g.Callbacks=function(b){b=b?T[b]||c(b):{};var d=[],f=[],e,h,l,m,q,C,r=function(a){var c,f,e,h;c=0;for(f=a.length;c<f;c++)e=a[c],h=g.type(e),"array"===h?r(e):"function"===h&&(!b.unique||!n.has(e))&&d.push(e)},u=function(a,g){g=g||[];e=!b.memory||[a,
g];l=h=!0;C=m||0;m=0;for(q=d.length;d&&C<q;C++)if(!1===d[C].apply(a,g)&&b.stopOnFalse){e=!0;break}l=!1;d&&(b.once?!0===e?n.disable():d=[]:f&&f.length&&(e=f.shift(),n.fireWith(e[0],e[1])))},n={add:function(){if(d){var a=d.length;r(arguments);l?q=d.length:e&&!0!==e&&(m=a,u(e[0],e[1]))}return this},remove:function(){if(d)for(var a=arguments,g=0,c=a.length;g<c;g++)for(var f=0;f<d.length&&!(a[g]===d[f]&&(l&&f<=q&&(q--,f<=C&&C--),d.splice(f--,1),b.unique));f++);return this},has:function(a){if(d)for(var b=
0,g=d.length;b<g;b++)if(a===d[b])return!0;return!1},empty:function(){d=[];return this},disable:function(){d=f=e=a;return this},disabled:function(){return!d},lock:function(){f=a;(!e||!0===e)&&n.disable();return this},locked:function(){return!f},fireWith:function(a,g){f&&(l?b.once||f.push([a,g]):(!b.once||!e)&&u(a,g));return this},fire:function(){n.fireWith(this,arguments);return this},fired:function(){return!!h}};return n};var L=[].slice;g.extend({Deferred:function(a){var b=g.Callbacks("once memory"),
c=g.Callbacks("once memory"),d=g.Callbacks("memory"),f="pending",e={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return f},isResolved:b.fired,isRejected:c.fired,then:function(a,b,g){l.done(a).fail(b).progress(g);return this},always:function(){l.done.apply(l,arguments).fail.apply(l,arguments);return this},pipe:function(a,b,c){return g.Deferred(function(d){g.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],f=b[1],e;if(g.isFunction(c))l[a](function(){if((e=
c.apply(this,arguments))&&g.isFunction(e.promise))e.promise().then(d.resolve,d.reject,d.notify);else d[f+"With"](this===l?d:this,[e])});else l[a](d[f])})}).promise()},promise:function(a){if(null==a)a=h;else for(var b in h)a[b]=h[b];return a}},l=h.promise({}),m;for(m in e)l[m]=e[m].fire,l[m+"With"]=e[m].fireWith;l.done(function(){f="resolved"},c.disable,d.lock).fail(function(){f="rejected"},b.disable,d.lock);a&&a.call(l,l);return l},when:function(a){function b(a){return function(b){d[a]=1<arguments.length?
L.call(arguments,0):b;--l||m.resolveWith(m,d)}}function c(a){return function(b){h[a]=1<arguments.length?L.call(arguments,0):b;m.notifyWith(q,h)}}var d=L.call(arguments,0),f=0,e=d.length,h=Array(e),l=e,m=1>=e&&a&&g.isFunction(a.promise)?a:g.Deferred(),q=m.promise();if(1<e){for(;f<e;f++)d[f]&&d[f].promise&&g.isFunction(d[f].promise)?d[f].promise().then(b(f),m.reject,c(f)):--l;l||m.resolveWith(m,d)}else m!==a&&m.resolveWith(m,e?[a]:[]);return q}});g.support=function(){var a,c,d,f,e,h,l,m,q=u.createElement("div");
q.setAttribute("className","t");q.innerHTML="   \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a' style\x3d'top:1px;float:left;opacity:.55;'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";c=q.getElementsByTagName("*");d=q.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};f=u.createElement("select");e=f.appendChild(u.createElement("option"));c=q.getElementsByTagName("input")[0];a={leadingWhitespace:3===q.firstChild.nodeType,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,
style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===c.value,optSelected:e.selected,getSetAttribute:"t"!==q.className,enctype:!!u.createElement("form").enctype,html5Clone:"\x3c:nav\x3e\x3c/:nav\x3e"!==u.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,
pixelMargin:!0};g.boxModel=a.boxModel="CSS1Compat"===u.compatMode;c.checked=!0;a.noCloneChecked=c.cloneNode(!0).checked;f.disabled=!0;a.optDisabled=!e.disabled;try{delete q.test}catch(C){a.deleteExpando=!1}!q.addEventListener&&(q.attachEvent&&q.fireEvent)&&(q.attachEvent("onclick",function(){a.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick"));c=u.createElement("input");c.value="t";c.setAttribute("type","radio");a.radioValue="t"===c.value;c.setAttribute("checked","checked");c.setAttribute("name",
"t");q.appendChild(c);d=u.createDocumentFragment();d.appendChild(q.lastChild);a.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=c.checked;d.removeChild(c);d.appendChild(q);if(q.attachEvent)for(l in{submit:1,change:1,focusin:1})c="on"+l,m=c in q,m||(q.setAttribute(c,"return;"),m="function"===typeof q[c]),a[l+"Bubbles"]=m;d.removeChild(q);d=f=e=q=c=null;g(function(){var c,d,f,e,l=u.getElementsByTagName("body")[0];l&&(c=u.createElement("div"),c.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",
l.insertBefore(c,l.firstChild),q=u.createElement("div"),c.appendChild(q),q.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd style\x3d'padding:0;margin:0;border:0;display:none'\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",h=q.getElementsByTagName("td"),m=0===h[0].offsetHeight,h[0].style.display="",h[1].style.display="none",a.reliableHiddenOffsets=m&&0===h[0].offsetHeight,b.getComputedStyle&&(q.innerHTML="",d=u.createElement("div"),d.style.width="0",d.style.marginRight="0",q.style.width="2px",
q.appendChild(d),a.reliableMarginRight=0===(parseInt((b.getComputedStyle(d,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!==typeof q.style.zoom&&(q.innerHTML="",q.style.width=q.style.padding="1px",q.style.border=0,q.style.overflow="hidden",q.style.display="inline",q.style.zoom=1,a.inlineBlockNeedsLayout=3===q.offsetWidth,q.style.display="block",q.style.overflow="visible",q.innerHTML="\x3cdiv style\x3d'width:5px;'\x3e\x3c/div\x3e",a.shrinkWrapBlocks=3!==q.offsetWidth),q.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",
q.innerHTML="\x3cdiv style\x3d'position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'\x3e\x3cdiv style\x3d'padding:0;margin:0;border:0;display:block;overflow:hidden;'\x3e\x3c/div\x3e\x3c/div\x3e\x3ctable style\x3d'position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding\x3d'0' cellspacing\x3d'0'\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",d=q.firstChild,f=d.firstChild,e=d.nextSibling.firstChild.firstChild,
e={doesNotAddBorder:5!==f.offsetTop,doesAddBorderForTableAndCells:5===e.offsetTop},f.style.position="fixed",f.style.top="20px",e.fixedPosition=20===f.offsetTop||15===f.offsetTop,f.style.position=f.style.top="",d.style.overflow="hidden",d.style.position="relative",e.subtractsBorderForOverflowNotVisible=-5===f.offsetTop,e.doesNotIncludeMarginInBodyOffset=1!==l.offsetTop,b.getComputedStyle&&(q.style.marginTop="1%",a.pixelMargin="1%"!==(b.getComputedStyle(q,null)||{marginTop:0}).marginTop),"undefined"!==
typeof c.style.zoom&&(c.style.zoom=1),l.removeChild(c),q=null,g.extend(a,e))});return a}();var P=/^(?:\{.*\}|\[.*\])$/,ba=/([A-Z])/g;g.extend({cache:{},uuid:0,expando:"jQuery"+(g.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?g.cache[a[g.expando]]:a[g.expando];return!!a&&!h(a)},data:function(b,c,d,f){if(g.acceptData(b)){var e;e=g.expando;var h="string"===typeof c,l=b.nodeType,q=l?g.cache:b,
m=l?b[e]:b[e]&&e,C="events"===c;if(m&&q[m]&&(C||f||q[m].data)||!(h&&d===a)){m||(l?b[e]=m=++g.uuid:m=e);q[m]||(q[m]={},l||(q[m].toJSON=g.noop));if("object"===typeof c||"function"===typeof c)f?q[m]=g.extend(q[m],c):q[m].data=g.extend(q[m].data,c);e=b=q[m];f||(b.data||(b.data={}),b=b.data);d!==a&&(b[g.camelCase(c)]=d);if(C&&!b[c])return e.events;h?(d=b[c],null==d&&(d=b[g.camelCase(c)])):d=b;return d}}},removeData:function(a,b,c){if(g.acceptData(a)){var d,f,e,l=g.expando,q=a.nodeType,m=q?g.cache:a,C=
q?a[l]:l;if(m[C]){if(b&&(d=c?m[C]:m[C].data)){g.isArray(b)||(b in d?b=[b]:(b=g.camelCase(b),b=b in d?[b]:b.split(" ")));f=0;for(e=b.length;f<e;f++)delete d[b[f]];if(!(c?h:g.isEmptyObject)(d))return}if(!c&&(delete m[C].data,!h(m[C])))return;g.support.deleteExpando||!m.setInterval?delete m[C]:m[C]=null;q&&(g.support.deleteExpando?delete a[l]:a.removeAttribute?a.removeAttribute(l):a[l]=null)}}},_data:function(a,b,c){return g.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=g.noData[a.nodeName.toLowerCase()];
if(b)return!(!0===b||a.getAttribute("classid")!==b)}return!0}});g.fn.extend({data:function(b,c){var d,f,h,l,q,m=this[0],C=0,r=null;if(b===a){if(this.length&&(r=g.data(m),1===m.nodeType&&!g._data(m,"parsedAttrs"))){h=m.attributes;for(q=h.length;C<q;C++)l=h[C].name,0===l.indexOf("data-")&&(l=g.camelCase(l.substring(5)),e(m,l,r[l]));g._data(m,"parsedAttrs",!0)}return r}if("object"===typeof b)return this.each(function(){g.data(this,b)});d=b.split(".",2);d[1]=d[1]?"."+d[1]:"";f=d[1]+"!";return g.access(this,
function(c){if(c===a)return r=this.triggerHandler("getData"+f,[d[0]]),r===a&&m&&(r=g.data(m,b),r=e(m,b,r)),r===a&&d[1]?this.data(d[0]):r;d[1]=c;this.each(function(){var a=g(this);a.triggerHandler("setData"+f,d);g.data(this,b,c);a.triggerHandler("changeData"+f,d)})},null,c,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){g.removeData(this,a)})}});g.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",g._data(a,b,(g._data(a,b)||0)+1))},_unmark:function(a,b,c){!0!==a&&(c=
b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark";(a=a?0:(g._data(b,d)||1)-1)?g._data(b,d,a):(g.removeData(b,d,!0),l(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=g._data(a,b),c&&(!d||g.isArray(c)?d=g._data(a,b,g.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=g.queue(a,b),d=c.shift(),f={};"inprogress"===d&&(d=c.shift());d&&("fx"===b&&c.unshift("inprogress"),g._data(a,b+".run",f),d.call(a,function(){g.dequeue(a,b)},f));c.length||(g.removeData(a,b+"queue "+
b+".run",!0),l(a,b,"queue"))}});g.fn.extend({queue:function(b,c){var d=2;"string"!==typeof b&&(c=b,b="fx",d--);return arguments.length<d?g.queue(this[0],b):c===a?this:this.each(function(){var a=g.queue(this,b,c);"fx"===b&&"inprogress"!==a[0]&&g.dequeue(this,b)})},dequeue:function(a){return this.each(function(){g.dequeue(this,a)})},delay:function(a,b){a=g.fx?g.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var g=setTimeout(b,a);c.stop=function(){clearTimeout(g)}})},clearQueue:function(a){return this.queue(a||
"fx",[])},promise:function(b,c){function d(){--l||f.resolveWith(e,[e])}"string"!==typeof b&&(c=b,b=a);b=b||"fx";for(var f=g.Deferred(),e=this,h=e.length,l=1,q=b+"defer",m=b+"queue",C=b+"mark",r;h--;)if(r=g.data(e[h],q,a,!0)||(g.data(e[h],m,a,!0)||g.data(e[h],C,a,!0))&&g.data(e[h],q,g.Callbacks("once memory"),!0))l++,r.add(d);d();return f.promise(c)}});var O=/[\n\t\r]/g,U=/\s+/,ca=/\r/g,F=/^(?:button|input)$/i,W=/^(?:button|input|object|select|textarea)$/i,da=/^a(?:rea)?$/i,aa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
ga=g.support.getSetAttribute,A,ka,fa;g.fn.extend({attr:function(a,b){return g.access(this,g.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){g.removeAttr(this,a)})},prop:function(a,b){return g.access(this,g.prop,a,b,1<arguments.length)},removeProp:function(b){b=g.propFix[b]||b;return this.each(function(){try{this[b]=a,delete this[b]}catch(c){}})},addClass:function(a){var b,c,d,f,e,h,l;if(g.isFunction(a))return this.each(function(b){g(this).addClass(a.call(this,b,this.className))});
if(a&&"string"===typeof a){b=a.split(U);c=0;for(d=this.length;c<d;c++)if(f=this[c],1===f.nodeType)if(!f.className&&1===b.length)f.className=a;else{e=" "+f.className+" ";h=0;for(l=b.length;h<l;h++)~e.indexOf(" "+b[h]+" ")||(e+=b[h]+" ");f.className=g.trim(e)}}return this},removeClass:function(b){var c,d,f,e,h,l,q;if(g.isFunction(b))return this.each(function(a){g(this).removeClass(b.call(this,a,this.className))});if(b&&"string"===typeof b||b===a){c=(b||"").split(U);d=0;for(f=this.length;d<f;d++)if(e=
this[d],1===e.nodeType&&e.className)if(b){h=(" "+e.className+" ").replace(O," ");l=0;for(q=c.length;l<q;l++)h=h.replace(" "+c[l]+" "," ");e.className=g.trim(h)}else e.className=""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"===typeof b;return g.isFunction(a)?this.each(function(c){g(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var f,e=0,h=g(this),l=b,q=a.split(U);f=q[e++];)l=d?l:!h.hasClass(f),h[l?"addClass":"removeClass"](f);
else if("undefined"===c||"boolean"===c)this.className&&g._data(this,"__className__",this.className),this.className=this.className||!1===a?"":g._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(O," ").indexOf(a))return!0;return!1},val:function(b){var c,d,f,e=this[0];if(arguments.length)return f=g.isFunction(b),this.each(function(d){var e=g(this);if(1===this.nodeType&&(d=f?b.call(this,
d,e.val()):b,null==d?d="":"number"===typeof d?d+="":g.isArray(d)&&(d=g.map(d,function(a){return null==a?"":a+""})),c=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],!c||!("set"in c)||c.set(this,d,"value")===a))this.value=d});if(e){if((c=g.valHooks[e.type]||g.valHooks[e.nodeName.toLowerCase()])&&"get"in c&&(d=c.get(e,"value"))!==a)return d;d=e.value;return"string"===typeof d?d.replace(ca,""):null==d?"":d}}});g.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||
b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.selectedIndex,f=[],e=a.options,h="select-one"===a.type;if(0>d)return null;a=h?d:0;for(c=h?d+1:e.length;a<c;a++)if(b=e[a],b.selected&&(g.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!g.nodeName(b.parentNode,"optgroup"))){b=g(b).val();if(h)return b;f.push(b)}return h&&!f.length&&e.length?g(e[d]).val():f},set:function(a,b){var c=g.makeArray(b);g(a).find("option").each(function(){this.selected=
0<=g.inArray(g(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(b,c,d,f){var e,h,l=b.nodeType;if(b&&!(3===l||8===l||2===l)){if(f&&c in g.attrFn)return g(b)[c](d);if("undefined"===typeof b.getAttribute)return g.prop(b,c,d);if(f=1!==l||!g.isXMLDoc(b))c=c.toLowerCase(),h=g.attrHooks[c]||(aa.test(c)?ka:A);if(d!==a)if(null===d)g.removeAttr(b,c);else{if(h&&"set"in h&&f&&(e=h.set(b,d,c))!==a)return e;b.setAttribute(c,
""+d);return d}else{if(h&&"get"in h&&f&&null!==(e=h.get(b,c)))return e;e=b.getAttribute(c);return null===e?a:e}}},removeAttr:function(a,b){var c,d,f,e,h,l=0;if(b&&1===a.nodeType){d=b.toLowerCase().split(U);for(e=d.length;l<e;l++)if(f=d[l])c=g.propFix[f]||f,(h=aa.test(f))||g.attr(a,f,""),a.removeAttribute(ga?f:c),h&&c in a&&(a[c]=!1)}},attrHooks:{type:{set:function(a,b){if(F.test(a.nodeName)&&a.parentNode)g.error("type property can't be changed");else if(!g.support.radioValue&&"radio"===b&&g.nodeName(a,
"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}},value:{get:function(a,b){return A&&g.nodeName(a,"button")?A.get(a,b):b in a?a.value:null},set:function(a,b,c){if(A&&g.nodeName(a,"button"))return A.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
prop:function(b,c,d){var f,e,h;h=b.nodeType;if(b&&!(3===h||8===h||2===h)){if(h=1!==h||!g.isXMLDoc(b))c=g.propFix[c]||c,e=g.propHooks[c];return d!==a?e&&"set"in e&&(f=e.set(b,d,c))!==a?f:b[c]=d:e&&"get"in e&&null!==(f=e.get(b,c))?f:b[c]}},propHooks:{tabIndex:{get:function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):W.test(b.nodeName)||da.test(b.nodeName)&&b.href?0:a}}}});g.attrHooks.tabindex=g.propHooks.tabIndex;ka={get:function(b,c){var d,f=g.prop(b,c);return!0===
f||"boolean"!==typeof f&&(d=b.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():a},set:function(a,b,c){!1===b?g.removeAttr(a,c):(b=g.propFix[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}};ga||(fa={name:!0,id:!0,coords:!0},A=g.valHooks.button={get:function(b,c){var g;return(g=b.getAttributeNode(c))&&(fa[c]?""!==g.nodeValue:g.specified)?g.nodeValue:a},set:function(a,b,c){var g=a.getAttributeNode(c);g||(g=u.createAttribute(c),a.setAttributeNode(g));return g.nodeValue=b+""}},
g.attrHooks.tabindex.set=A.set,g.each(["width","height"],function(a,b){g.attrHooks[b]=g.extend(g.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),g.attrHooks.contenteditable={get:A.get,set:function(a,b,c){""===b&&(b="false");A.set(a,b,c)}});g.support.hrefNormalized||g.each(["href","src","width","height"],function(b,c){g.attrHooks[c]=g.extend(g.attrHooks[c],{get:function(b){b=b.getAttribute(c,2);return null===b?a:b}})});g.support.style||(g.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||
a},set:function(a,b){return a.style.cssText=""+b}});g.support.optSelected||(g.propHooks.selected=g.extend(g.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));g.support.enctype||(g.propFix.enctype="encoding");g.support.checkOn||g.each(["radio","checkbox"],function(){g.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});g.each(["radio","checkbox"],function(){g.valHooks[this]=g.extend(g.valHooks[this],
{set:function(a,b){if(g.isArray(b))return a.checked=0<=g.inArray(g(a).val(),b)}})});var n=/^(?:textarea|input|select)$/i,y=/^([^\.]*)?(?:\.(.+))?$/,ea=/(?:^|\s)hover(\.\S+)?\b/,la=/^key/,ha=/^(?:mouse|contextmenu)|click/,Z=/^(?:focusinfocus|focusoutblur)$/,q=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,V=function(a){if(a=q.exec(a))a[1]=(a[1]||"").toLowerCase(),a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)");return a},X=function(a){return g.event.special.hover?a:a.replace(ea,"mouseenter$1 mouseleave$1")};
g.event={add:function(b,c,d,f,e){var h,l,q,m,C,r,u,n,w;if(!(3===b.nodeType||8===b.nodeType||!c||!d||!(h=g._data(b)))){d.handler&&(u=d,d=u.handler,e=u.selector);d.guid||(d.guid=g.guid++);q=h.events;q||(h.events=q={});l=h.handle;l||(h.handle=l=function(b){return"undefined"!==typeof g&&(!b||g.event.triggered!==b.type)?g.event.dispatch.apply(l.elem,arguments):a},l.elem=b);c=g.trim(X(c)).split(" ");for(h=0;h<c.length;h++){m=y.exec(c[h])||[];C=m[1];r=(m[2]||"").split(".").sort();w=g.event.special[C]||{};
C=(e?w.delegateType:w.bindType)||C;w=g.event.special[C]||{};m=g.extend({type:C,origType:m[1],data:f,handler:d,guid:d.guid,selector:e,quick:e&&V(e),namespace:r.join(".")},u);n=q[C];if(!n&&(n=q[C]=[],n.delegateCount=0,!w.setup||!1===w.setup.call(b,f,r,l)))b.addEventListener?b.addEventListener(C,l,!1):b.attachEvent&&b.attachEvent("on"+C,l);w.add&&(w.add.call(b,m),m.handler.guid||(m.handler.guid=d.guid));e?n.splice(n.delegateCount++,0,m):n.push(m);g.event.global[C]=!0}b=null}},global:{},remove:function(a,
b,c,d,f){var e=g.hasData(a)&&g._data(a),h,l,q,m,C,r,u,n,w,p;if(e&&(u=e.events)){b=g.trim(X(b||"")).split(" ");for(h=0;h<b.length;h++)if(l=y.exec(b[h])||[],q=m=l[1],l=l[2],q){n=g.event.special[q]||{};q=(d?n.delegateType:n.bindType)||q;w=u[q]||[];C=w.length;l=l?RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(r=0;r<w.length;r++)if(p=w[r],(f||m===p.origType)&&(!c||c.guid===p.guid)&&(!l||l.test(p.namespace))&&(!d||d===p.selector||"**"===d&&p.selector))w.splice(r--,1),p.selector&&
w.delegateCount--,n.remove&&n.remove.call(a,p);0===w.length&&C!==w.length&&((!n.teardown||!1===n.teardown.call(a,l))&&g.removeEvent(a,q,e.handle),delete u[q])}else for(q in u)g.event.remove(a,q+b[h],c,d,!0);if(g.isEmptyObject(u)){if(b=e.handle)b.elem=null;g.removeData(a,["events","handle"],!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,e){if(!f||!(3===f.nodeType||8===f.nodeType)){var h=c.type||c,l=[],q,m,C,r,n;if(!Z.test(h+g.event.triggered)&&(0<=h.indexOf("!")&&(h=
h.slice(0,-1),q=!0),0<=h.indexOf(".")&&(l=h.split("."),h=l.shift(),l.sort()),f&&!g.event.customEvent[h]||g.event.global[h]))if(c="object"===typeof c?c[g.expando]?c:new g.Event(h,c):new g.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=q,c.namespace=l.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+l.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,q=0>h.indexOf(":")?"on"+h:"",f){if(c.result=a,c.target||(c.target=f),d=null!=d?g.makeArray(d):[],d.unshift(c),C=g.event.special[h]||{},!(C.trigger&&!1===C.trigger.apply(f,
d))){n=[[f,C.bindType||h]];if(!e&&!C.noBubble&&!g.isWindow(f)){r=C.delegateType||h;l=Z.test(r+h)?f:f.parentNode;for(m=null;l;l=l.parentNode)n.push([l,r]),m=l;m&&m===f.ownerDocument&&n.push([m.defaultView||m.parentWindow||b,r])}for(m=0;m<n.length&&!c.isPropagationStopped();m++)l=n[m][0],c.type=n[m][1],(r=(g._data(l,"events")||{})[c.type]&&g._data(l,"handle"))&&r.apply(l,d),(r=q&&l[q])&&(g.acceptData(l)&&!1===r.apply(l,d))&&c.preventDefault();c.type=h;if(!e&&!c.isDefaultPrevented()&&(!C._default||!1===
C._default.apply(f.ownerDocument,d))&&!("click"===h&&g.nodeName(f,"a"))&&g.acceptData(f))if(q&&f[h]&&("focus"!==h&&"blur"!==h||0!==c.target.offsetWidth)&&!g.isWindow(f))(m=f[q])&&(f[q]=null),g.event.triggered=h,f[h](),g.event.triggered=a,m&&(f[q]=m);return c.result}}else for(m in f=g.cache,f)f[m].events&&f[m].events[h]&&g.event.trigger(c,d,f[m].handle.elem,!0)}},dispatch:function(c){c=g.event.fix(c||b.event);var d=(g._data(this,"events")||{})[c.type]||[],f=d.delegateCount,e=[].slice.call(arguments,
0),h=!c.exclusive&&!c.namespace,l=g.event.special[c.type]||{},q=[],m,C,r,n,u,w,p;e[0]=c;c.delegateTarget=this;if(!(l.preDispatch&&!1===l.preDispatch.call(this,c))){if(f&&!(c.button&&"click"===c.type)){r=g(this);r.context=this.ownerDocument||this;for(C=c.target;C!=this;C=C.parentNode||this)if(!0!==C.disabled){u={};w=[];r[0]=C;for(m=0;m<f;m++){n=d[m];p=n.selector;if(u[p]===a){var s=u,D=p,t;if(n.quick){t=n.quick;var V=C.attributes||{};t=(!t[1]||C.nodeName.toLowerCase()===t[1])&&(!t[2]||(V.id||{}).value===
t[2])&&(!t[3]||t[3].test((V["class"]||{}).value))}else t=r.is(p);s[D]=t}u[p]&&w.push(n)}w.length&&q.push({elem:C,matches:w})}}d.length>f&&q.push({elem:this,matches:d.slice(f)});for(m=0;m<q.length&&!c.isPropagationStopped();m++){f=q[m];c.currentTarget=f.elem;for(d=0;d<f.matches.length&&!c.isImmediatePropagationStopped();d++)if(n=f.matches[d],h||!c.namespace&&!n.namespace||c.namespace_re&&c.namespace_re.test(n.namespace))c.data=n.data,c.handleObj=n,n=((g.event.special[n.origType]||{}).handle||n.handler).apply(f.elem,
e),n!==a&&(c.result=n,!1===n&&(c.preventDefault(),c.stopPropagation()))}l.postDispatch&&l.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(b,c){var g,d,f=c.button,e=c.fromElement;null==b.pageX&&null!=c.clientX&&(g=b.target.ownerDocument||u,d=g.documentElement,g=g.body,b.pageX=c.clientX+(d&&d.scrollLeft||g&&g.scrollLeft||0)-(d&&d.clientLeft||g&&g.clientLeft||0),b.pageY=c.clientY+(d&&d.scrollTop||g&&g.scrollTop||0)-(d&&d.clientTop||g&&g.clientTop||0));!b.relatedTarget&&e&&(b.relatedTarget=e===b.target?c.toElement:e);!b.which&&f!==a&&(b.which=f&1?1:f&2?3:f&4?2:0);return b}},fix:function(b){if(b[g.expando])return b;var c,
d,f=b,e=g.event.fixHooks[b.type]||{},h=e.props?this.props.concat(e.props):this.props;b=g.Event(f);for(c=h.length;c;)d=h[--c],b[d]=f[d];b.target||(b.target=f.srcElement||u);3===b.target.nodeType&&(b.target=b.target.parentNode);b.metaKey===a&&(b.metaKey=b.ctrlKey);return e.filter?e.filter(b,f):b},special:{ready:{setup:g.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){g.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,
b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){a=g.extend(new g.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?g.event.trigger(a,null,b):g.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};g.event.handle=g.event.dispatch;g.removeEvent=u.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};g.Event=function(a,b){if(!(this instanceof g.Event))return new g.Event(a,
b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?f:d):this.type=a;b&&g.extend(this,b);this.timeStamp=a&&a.timeStamp||g.now();this[g.expando]=!0};g.Event.prototype={preventDefault:function(){this.isDefaultPrevented=f;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=f;var a=this.originalEvent;a&&(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f;this.stopPropagation()},isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d};g.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){g.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=a.relatedTarget,d=a.handleObj,f;if(!c||c!==this&&!g.contains(this,c))a.type=d.origType,f=d.handler.apply(this,arguments),a.type=b;return f}}});g.support.submitBubbles||
(g.event.special.submit={setup:function(){if(g.nodeName(this,"form"))return!1;g.event.add(this,"click._submit keypress._submit",function(b){b=b.target;if((b=g.nodeName(b,"input")||g.nodeName(b,"button")?b.form:a)&&!b._submit_attached)g.event.add(b,"submit._submit",function(a){a._submit_bubble=!0}),b._submit_attached=!0})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&g.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(g.nodeName(this,
"form"))return!1;g.event.remove(this,"._submit")}});g.support.changeBubbles||(g.event.special.change={setup:function(){if(n.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)g.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),g.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,g.event.simulate("change",this,a,!0))});return!1}g.event.add(this,"beforeactivate._change",
function(a){a=a.target;n.test(a.nodeName)&&!a._change_attached&&(g.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&g.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){g.event.remove(this,"._change");return n.test(this.nodeName)}});g.support.focusinBubbles||
g.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){g.event.simulate(b,a.target,g.event.fix(a),!0)};g.event.special[b]={setup:function(){0===c++&&u.addEventListener(a,d,!0)},teardown:function(){0===--c&&u.removeEventListener(a,d,!0)}}});g.fn.extend({on:function(b,c,f,e,h){var l,q;if("object"===typeof b){"string"!==typeof c&&(f=f||c,c=a);for(q in b)this.on(q,c,f,b[q],h);return this}null==f&&null==e?(e=c,f=c=a):null==e&&("string"===typeof c?(e=f,f=a):(e=f,f=c,c=a));if(!1===
e)e=d;else if(!e)return this;1===h&&(l=e,e=function(a){g().off(a);return l.apply(this,arguments)},e.guid=l.guid||(l.guid=g.guid++));return this.each(function(){g.event.add(this,b,e,f,c)})},one:function(a,b,c,g){return this.on(a,b,c,g,1)},off:function(b,c,f){if(b&&b.preventDefault&&b.handleObj){var e=b.handleObj;g(b.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if("object"===typeof b){for(e in b)this.off(e,c,b[e]);return this}if(!1===c||"function"===
typeof c)f=c,c=a;!1===f&&(f=d);return this.each(function(){g.event.remove(this,b,f,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){g(this.context).on(a,this.selector,b,c);return this},die:function(a,b){g(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,g){return this.on(b,a,c,g)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){g.event.trigger(a,
b,this)})},triggerHandler:function(a,b){if(this[0])return g.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||g.guid++,d=0,f=function(c){var f=(g._data(this,"lastToggle"+a.guid)||0)%d;g._data(this,"lastToggle"+a.guid,f+1);c.preventDefault();return b[f].apply(this,arguments)||!1};for(f.guid=c;d<b.length;)b[d++].guid=c;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){g.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};g.attrFn&&(g.attrFn[b]=!0);la.test(b)&&(g.event.fixHooks[b]=g.event.keyHooks);ha.test(b)&&(g.event.fixHooks[b]=g.event.mouseHooks)});(function(){function b(a,c,g,d,e,h){e=0;for(var l=d.length;e<l;e++){var q=d[e];if(q){for(var m=!1,q=q[a];q;){if(q[f]===g){m=d[q.sizset];break}1===q.nodeType&&!h&&(q[f]=g,q.sizset=e);if(q.nodeName.toLowerCase()===c){m=q;break}q=q[a]}d[e]=m}}}function c(a,
b,g,d,e,h){e=0;for(var l=d.length;e<l;e++){var q=d[e];if(q){for(var m=!1,q=q[a];q;){if(q[f]===g){m=d[q.sizset];break}if(1===q.nodeType)if(h||(q[f]=g,q.sizset=e),"string"!==typeof b){if(q===b){m=!0;break}}else if(0<n.filter(b,[q]).length){m=q;break}q=q[a]}d[e]=m}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,f="sizcache"+(Math.random()+"").replace(".",""),e=0,h=Object.prototype.toString,l=!1,q=!0,m=/\\/g,
C=/\r\n/g,r=/\W/;[0,0].sort(function(){q=!1;return 0});var n=function(a,b,c,g){c=c||[];var f=b=b||u;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return c;var e,l,q,m,C,r=!0,S=n.isXML(b),w=[],D=a;do if(d.exec(""),e=d.exec(D))if(D=e[3],w.push(e[1]),e[2]){m=e[3];break}while(e);if(1<w.length&&s.exec(a))if(2===w.length&&p.relative[w[0]])l=N(w[0]+w[1],b,g);else for(l=p.relative[w[0]]?[b]:n(w.shift(),b);w.length;)a=w.shift(),p.relative[a]&&(a+=w.shift()),l=N(a,l,g);else if(!g&&(1<
w.length&&9===b.nodeType&&!S&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1]))&&(e=n.find(w.shift(),b,S),b=e.expr?n.filter(e.expr,e.set)[0]:e.set[0]),b){e=g?{expr:w.pop(),set:V(g)}:n.find(w.pop(),1===w.length&&("~"===w[0]||"+"===w[0])&&b.parentNode?b.parentNode:b,S);l=e.expr?n.filter(e.expr,e.set):e.set;for(0<w.length?q=V(l):r=!1;w.length;)e=C=w.pop(),p.relative[C]?e=w.pop():C="",null==e&&(e=b),p.relative[C](q,e,S)}else q=[];q||(q=l);q||n.error(C||a);if("[object Array]"===h.call(q))if(r)if(b&&
1===b.nodeType)for(a=0;null!=q[a];a++)q[a]&&(!0===q[a]||1===q[a].nodeType&&n.contains(b,q[a]))&&c.push(l[a]);else for(a=0;null!=q[a];a++)q[a]&&1===q[a].nodeType&&c.push(l[a]);else c.push.apply(c,q);else V(q,c);m&&(n(m,f,c,g),n.uniqueSort(c));return c};n.uniqueSort=function(a){if(ja&&(l=q,a.sort(ja),l))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};n.matches=function(a,b){return n(a,null,null,b)};n.matchesSelector=function(a,b){return 0<n(b,null,null,[a]).length};n.find=function(a,
b,c){var g,d,f,e,h,l;if(!a)return[];d=0;for(f=p.order.length;d<f;d++)if(h=p.order[d],e=p.leftMatch[h].exec(a))if(l=e[1],e.splice(1,1),"\\"!==l.substr(l.length-1)&&(e[1]=(e[1]||"").replace(m,""),g=p.find[h](e,b,c),null!=g)){a=a.replace(p.match[h],"");break}g||(g="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:g,expr:a}};n.filter=function(b,c,g,d){for(var f,e,h,l,q,m,C,r,S=b,u=[],w=c,s=c&&c[0]&&n.isXML(c[0]);b&&c.length;){for(h in p.filter)if(null!=(f=p.leftMatch[h].exec(b))&&
f[2])if(m=p.filter[h],q=f[1],e=!1,f.splice(1,1),"\\"!==q.substr(q.length-1)){w===u&&(u=[]);if(p.preFilter[h])if(f=p.preFilter[h](f,w,g,u,d,s)){if(!0===f)continue}else e=l=!0;if(f)for(C=0;null!=(q=w[C]);C++)q&&(l=m(q,f,C,w),r=d^l,g&&null!=l?r?e=!0:w[C]=!1:r&&(u.push(q),e=!0));if(l!==a){g||(w=u);b=b.replace(p.match[h],"");if(!e)return[];break}}if(b===S)if(null==e)n.error(b);else break;S=b}return w};n.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var w=n.getText=function(a){var b,
c;b=a.nodeType;var g="";if(b)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;if("string"===typeof a.innerText)return a.innerText.replace(C,"");for(a=a.firstChild;a;a=a.nextSibling)g+=w(a)}else{if(3===b||4===b)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(g+=w(c));return g},p=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"===typeof b,g=c&&!r.test(b),c=c&&!g;g&&(b=b.toLowerCase());for(var g=0,d=a.length,f;g<d;g++)if(f=a[g]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[g]=c||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}c&&n.filter(b,a,!0)},"\x3e":function(a,b){var c,g="string"===typeof b,d=0,f=a.length;if(g&&!r.test(b))for(b=b.toLowerCase();d<f;d++){if(c=a[d])c=c.parentNode,a[d]=c.nodeName.toLowerCase()===b?c:!1}else{for(;d<f;d++)(c=
a[d])&&(a[d]=g?c.parentNode:c.parentNode===b);g&&n.filter(b,a,!0)}},"":function(a,g,d){var f,h=e++,l=c;"string"===typeof g&&!r.test(g)&&(f=g=g.toLowerCase(),l=b);l("parentNode",g,h,a,f,d)},"~":function(a,g,d){var f,h=e++,l=c;"string"===typeof g&&!r.test(g)&&(f=g=g.toLowerCase(),l=b);l("previousSibling",g,h,a,f,d)}},find:{ID:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=
[],g=b.getElementsByName(a[1]),d=0,f=g.length;d<f;d++)g[d].getAttribute("name")===a[1]&&c.push(g[d]);return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,g,d,f){a=" "+a[1].replace(m,"")+" ";if(f)return a;f=0;for(var e;null!=(e=b[f]);f++)e&&(d^(e.className&&0<=(" "+e.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||g.push(e):c&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(m,
"")},TAG:function(a,b){return a[1].replace(m,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||n.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&n.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,g,d,f){b=a[1]=a[1].replace(m,"");!f&&p.attrMap[b]&&(a[1]=p.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(m,"");"~\x3d"===a[2]&&(a[4]=" "+
a[4]+" ");return a},PSEUDO:function(a,b,c,g,f){if("not"===a[1])if(1<(d.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=n(a[3],null,null,b);else return a=n.filter(a[3],b,c,1^f),c||g.push.apply(g,a),!1;else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!n(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===
a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,g){return b===g.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,
b,c,g){var d=b[1],f=p.filters[d];if(f)return f(a,c,b,g);if("contains"===d)return 0<=(a.textContent||a.innerText||w([a])||"").indexOf(b[3]);if("not"===d){b=b[3];c=0;for(g=b.length;c<g;c++)if(b[c]===a)return!1;return!0}n.error(d)},CHILD:function(a,b){var c,g,d,e,h,l;c=b[1];l=a;switch(c){case "only":case "first":for(;l=l.previousSibling;)if(1===l.nodeType)return!1;if("first"===c)return!0;l=a;case "last":for(;l=l.nextSibling;)if(1===l.nodeType)return!1;return!0;case "nth":c=b[2];g=b[3];if(1===c&&0===
g)return!0;d=b[0];if((e=a.parentNode)&&(e[f]!==d||!a.nodeIndex)){h=0;for(l=e.firstChild;l;l=l.nextSibling)1===l.nodeType&&(l.nodeIndex=++h);e[f]=d}l=a.nodeIndex-g;return 0===c?0===l:0===l%c&&0<=l/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=n.attr?n.attr(a,c):p.attrHandle[c]?
p.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),g=c+"",d=b[2],f=b[4];return null==c?"!\x3d"===d:!d&&n.attr?null!=c:"\x3d"===d?g===f:"*\x3d"===d?0<=g.indexOf(f):"~\x3d"===d?0<=(" "+g+" ").indexOf(f):!f?g&&!1!==c:"!\x3d"===d?g!==f:"^\x3d"===d?0===g.indexOf(f):"$\x3d"===d?g.substr(g.length-f.length)===f:"|\x3d"===d?g===f||g.substr(0,f.length+1)===f+"-":!1},POS:function(a,b,c,g){var d=p.setFilters[b[2]];if(d)return d(a,c,b,g)}}},s=p.match.POS,D=function(a,b){return"\\"+(b-0+1)},t;for(t in p.match)p.match[t]=
RegExp(p.match[t].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[t]=RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[t].source.replace(/\\(\d+)/g,D));p.match.globalPOS=s;var V=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(u.documentElement.childNodes,0)[0].nodeType}catch(T){V=function(a,b){var c=0,g=b||[];if("[object Array]"===h.call(a))Array.prototype.push.apply(g,a);else if("number"===typeof a.length)for(var d=a.length;c<d;c++)g.push(a[c]);
else for(;a[c];c++)g.push(a[c]);return g}}var ja,v;u.documentElement.compareDocumentPosition?ja=function(a,b){return a===b?(l=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(ja=function(a,b){if(a===b)return l=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,g,d=[],f=[];c=a.parentNode;g=b.parentNode;var e=c;if(c===g)return v(a,b);if(c){if(!g)return 1}else return-1;for(;e;)d.unshift(e),e=e.parentNode;
for(e=g;e;)f.unshift(e),e=e.parentNode;c=d.length;g=f.length;for(e=0;e<c&&e<g;e++)if(d[e]!==f[e])return v(d[e],f[e]);return e===c?v(a,f[e],-1):v(d[e],b,1)},v=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});(function(){var b=u.createElement("div"),c="script"+(new Date).getTime(),g=u.documentElement;b.innerHTML="\x3ca name\x3d'"+c+"'/\x3e";g.insertBefore(b,g.firstChild);u.getElementById(c)&&(p.find.ID=function(b,c,g){if("undefined"!==typeof c.getElementById&&
!g)return(c=c.getElementById(b[1]))?c.id===b[1]||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").nodeValue===b[1]?[c]:a:[]},p.filter.ID=function(a,b){var c="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});g.removeChild(b);g=b=null})();(function(){var a=u.createElement("div");a.appendChild(u.createComment(""));0<a.getElementsByTagName("*").length&&(p.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var g=
[],d=0;c[d];d++)1===c[d].nodeType&&g.push(c[d]);c=g}return c});a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";a.firstChild&&("undefined"!==typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href"))&&(p.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();u.querySelectorAll&&function(){var a=n,b=u.createElement("div");b.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e";if(!(b.querySelectorAll&&0===b.querySelectorAll(".TEST").length)){n=function(b,c,g,d){c=c||u;if(!d&&
!n.isXML(c)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(f&&(1===c.nodeType||9===c.nodeType)){if(f[1])return V(c.getElementsByTagName(b),g);if(f[2]&&p.find.CLASS&&c.getElementsByClassName)return V(c.getElementsByClassName(f[2]),g)}if(9===c.nodeType){if("body"===b&&c.body)return V([c.body],g);if(f&&f[3]){var e=c.getElementById(f[3]);if(e&&e.parentNode){if(e.id===f[3])return V([e],g)}else return V([],g)}try{return V(c.querySelectorAll(b),g)}catch(h){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var f=
c,l=(e=c.getAttribute("id"))||"__sizzle__",q=c.parentNode,m=/^\s*[+~]/.test(b);e?l=l.replace(/'/g,"\\$\x26"):c.setAttribute("id",l);m&&q&&(c=c.parentNode);try{if(!m||q)return V(c.querySelectorAll("[id\x3d'"+l+"'] "+b),g)}catch(C){}finally{e||f.removeAttribute("id")}}}return a(b,c,g,d)};for(var c in a)n[c]=a[c];b=null}}();(function(){var a=u.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(u.createElement("div"),"div"),g=!1;
try{b.call(u.documentElement,"[test!\x3d'']:sizzle")}catch(d){g=!0}n.matchesSelector=function(a,d){d=d.replace(/\=\s*([^'"\]]*)\s*\]/g,"\x3d'$1']");if(!n.isXML(a))try{if(g||!p.match.PSEUDO.test(d)&&!/!=/.test(d)){var f=b.call(a,d);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(e){}return 0<n(d,null,null,[a]).length}}})();(function(){var a=u.createElement("div");a.innerHTML="\x3cdiv class\x3d'test e'\x3e\x3c/div\x3e\x3cdiv class\x3d'test'\x3e\x3c/div\x3e";a.getElementsByClassName&&
0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},a=null))})();n.contains=u.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:u.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};n.isXML=function(a){return(a=
(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var N=function(a,b,c){var g,d=[],f="";for(b=b.nodeType?[b]:b;g=p.match.PSEUDO.exec(a);)f+=g[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;g=0;for(var e=b.length;g<e;g++)n(a,b[g],d,c);return n.filter(f,d)};n.attr=g.attr;n.selectors.attrMap={};g.find=n;g.expr=n.selectors;g.expr[":"]=g.expr.filters;g.unique=n.uniqueSort;g.text=n.getText;g.isXMLDoc=n.isXML;g.contains=n.contains})();var ta=/Until$/,J=/^(?:parents|prevUntil|prevAll)/,
ma=/,/,ia=/^.[^:#\[\.,]*$/,Y=Array.prototype.slice,oa=g.expr.match.globalPOS,ya={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({find:function(a){var b=this,c,d;if("string"!==typeof a)return g(a).filter(function(){c=0;for(d=b.length;c<d;c++)if(g.contains(b[c],this))return!0});var f=this.pushStack("","find",a),e,h,l;c=0;for(d=this.length;c<d;c++)if(e=f.length,g.find(a,this[c],f),0<c)for(h=e;h<f.length;h++)for(l=0;l<e;l++)if(f[l]===f[h]){f.splice(h--,1);break}return f},has:function(a){var b=g(a);
return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(g.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(m(this,a,!1),"not",a)},filter:function(a){return this.pushStack(m(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?oa.test(a)?0<=g(a,this.context).index(this[0]):0<g.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){var c=[],d,f,e=this[0];if(g.isArray(a)){for(f=1;e&&e.ownerDocument&&e!==b;){for(d=0;d<a.length;d++)g(e).is(a[d])&&
c.push({selector:a[d],elem:e,level:f});e=e.parentNode;f++}return c}var h=oa.test(a)||"string"!==typeof a?g(a,b||this.context):0;d=0;for(f=this.length;d<f;d++)for(e=this[d];e;)if(h?-1<h.index(e):g.find.matchesSelector(e,a)){c.push(e);break}else if(e=e.parentNode,!e||!e.ownerDocument||e===b||11===e.nodeType)break;c=1<c.length?g.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?g.inArray(this[0],g(a)):
g.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?g(a,b):g.makeArray(a&&a.nodeType?[a]:a),d=g.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||11===c[0].parentNode.nodeType||!d[0]||!d[0].parentNode||11===d[0].parentNode.nodeType?d:g.unique(d))},andSelf:function(){return this.add(this.prevObject)}});g.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return g.dir(a,"parentNode")},parentsUntil:function(a,b,c){return g.dir(a,
"parentNode",c)},next:function(a){return g.nth(a,2,"nextSibling")},prev:function(a){return g.nth(a,2,"previousSibling")},nextAll:function(a){return g.dir(a,"nextSibling")},prevAll:function(a){return g.dir(a,"previousSibling")},nextUntil:function(a,b,c){return g.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return g.dir(a,"previousSibling",c)},siblings:function(a){return g.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return g.sibling(a.firstChild)},contents:function(a){return g.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:g.makeArray(a.childNodes)}},function(a,b){g.fn[a]=function(c,d){var f=g.map(this,b,c);ta.test(a)||(d=c);d&&"string"===typeof d&&(f=g.filter(d,f));f=1<this.length&&!ya[a]?g.unique(f):f;if((1<this.length||ma.test(d))&&J.test(a))f=f.reverse();return this.pushStack(f,a,Y.call(arguments).join(","))}});g.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?g.find.matchesSelector(b[0],a)?[b[0]]:[]:g.find.matches(a,b)},dir:function(b,
c,d){var f=[];for(b=b[c];b&&9!==b.nodeType&&(d===a||1!==b.nodeType||!g(b).is(d));)1===b.nodeType&&f.push(b),b=b[c];return f},nth:function(a,b,c,g){b=b||1;for(g=0;a&&!(1===a.nodeType&&++g===b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Aa="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wa=/ jQuery\d+="(?:\d+|null)"/g,
Ba=/^\s+/,Oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Pa=/<([\w:]+)/,Xa=/<tbody/i,Ca=/<|&#?\w+;/,Ya=/<(?:script|style)/i,Za=/<(?:script|object|embed|option|style)/i,Qa=RegExp("\x3c(?:"+Aa+")[\\s/\x3e]","i"),Da=/checked\s*(?:[^=]|=\s*.checked.)/i,Ea=/\/(java|ecma)script/i,$a=/^\s*<!(?:\[CDATA\[|\-\-)/,na={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],
tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],_default:[0,"",""]},Fa=s(u);na.optgroup=na.option;na.tbody=na.tfoot=na.colgroup=na.caption=na.thead;na.th=na.td;g.support.htmlSerialize||(na._default=[1,"div\x3cdiv\x3e","\x3c/div\x3e"]);g.fn.extend({text:function(b){return g.access(this,
function(b){return b===a?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(b))},null,b,arguments.length)},wrapAll:function(a){if(g.isFunction(a))return this.each(function(b){g(this).wrapAll(a.call(this,b))});if(this[0]){var b=g(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return g.isFunction(a)?
this.each(function(b){g(this).wrapInner(a.call(this,b))}):this.each(function(){var b=g(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=g.isFunction(a);return this.each(function(c){g(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=g.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=
this.pushStack(this,"after",arguments);a.push.apply(a,g.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;null!=(d=this[c]);c++)if(!a||g.filter(a,[d]).length)!b&&1===d.nodeType&&(g.cleanData(d.getElementsByTagName("*")),g.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&g.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==
a?!1:a;b=null==b?a:b;return this.map(function(){return g.clone(this,a,b)})},html:function(b){return g.access(this,function(b){var c=this[0]||{},d=0,f=this.length;if(b===a)return 1===c.nodeType?c.innerHTML.replace(Wa,""):null;if("string"===typeof b&&!Ya.test(b)&&(g.support.leadingWhitespace||!Ba.test(b))&&!na[(Pa.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(Oa,"\x3c$1\x3e\x3c/$2\x3e");try{for(;d<f;d++)c=this[d]||{},1===c.nodeType&&(g.cleanData(c.getElementsByTagName("*")),c.innerHTML=b);c=0}catch(e){}}c&&
this.empty().append(b)},null,b,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(g.isFunction(a))return this.each(function(b){var c=g(this),d=c.html();c.replaceWith(a.call(this,b,d))});"string"!==typeof a&&(a=g(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;g(this).remove();b?g(b).before(a):g(c).append(a)})}return this.length?this.pushStack(g(g.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(b,
c,d){var f,e,h,l=b[0],q=[];if(!g.support.checkClone&&3===arguments.length&&"string"===typeof l&&Da.test(l))return this.each(function(){g(this).domManip(b,c,d,!0)});if(g.isFunction(l))return this.each(function(f){var e=g(this);b[0]=l.call(this,f,c?e.html():a);e.domManip(b,c,d)});if(this[0]){f=l&&l.parentNode;f=g.support.parentNode&&f&&11===f.nodeType&&f.childNodes.length===this.length?{fragment:f}:g.buildFragment(b,this,q);h=f.fragment;if(e=1===h.childNodes.length?h=h.firstChild:h.firstChild){c=c&&
g.nodeName(e,"tr");e=0;for(var m=this.length,C=m-1;e<m;e++)d.call(c?g.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e]:this[e],f.cacheable||1<m&&e<C?g.clone(h,!0,!0):h)}q.length&&g.each(q,function(a,b){b.src?g.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):g.globalEval((b.text||b.textContent||b.innerHTML||"").replace($a,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)})}return this}});
g.buildFragment=function(a,b,c){var d,f,e,h,l=a[0];b&&b[0]&&(h=b[0].ownerDocument||b[0]);h.createDocumentFragment||(h=u);if(1===a.length&&"string"===typeof l&&512>l.length&&h===u&&"\x3c"===l.charAt(0)&&!Za.test(l)&&(g.support.checkClone||!Da.test(l))&&(g.support.html5Clone||!Qa.test(l)))f=!0,(e=g.fragments[l])&&1!==e&&(d=e);d||(d=h.createDocumentFragment(),g.clean(a,h,d,c));f&&(g.fragments[l]=e?d:1);return{fragment:d,cacheable:f}};g.fragments={};g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,b){g.fn[a]=function(c){var d=[];c=g(c);var f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===c.length)return c[b](this[0]),this;for(var f=0,e=c.length;f<e;f++){var h=(0<f?this.clone(!0):this).get();g(c[f])[b](h);d=d.concat(h)}return this.pushStack(d,a,c.selector)}});g.extend({clone:function(a,b,c){var d,f,e;g.support.html5Clone||g.isXMLDoc(a)||!Qa.test("\x3c"+a.nodeName+"\x3e")?d=a.cloneNode(!0):(d=u.createElement("div"),
Fa.appendChild(d),d.innerHTML=a.outerHTML,d=d.firstChild);var h=d;if((!g.support.noCloneEvent||!g.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!g.isXMLDoc(a)){v(a,h);d=B(a);f=B(h);for(e=0;d[e];++e)f[e]&&v(d[e],f[e])}if(b&&(p(a,h),c)){d=B(a);f=B(h);for(e=0;d[e];++e)p(d[e],f[e])}return h},clean:function(a,b,c,d){var f,e=[];b=b||u;"undefined"===typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||u);for(var h=0,l;null!=(l=a[h]);h++)if("number"===typeof l&&(l+=""),l){if("string"===
typeof l)if(Ca.test(l)){l=l.replace(Oa,"\x3c$1\x3e\x3c/$2\x3e");f=(Pa.exec(l)||["",""])[1].toLowerCase();var q=na[f]||na._default,m=q[0],C=b.createElement("div"),n=Fa.childNodes;b===u?Fa.appendChild(C):s(b).appendChild(C);for(C.innerHTML=q[1]+l+q[2];m--;)C=C.lastChild;if(!g.support.tbody){m=Xa.test(l);q="table"===f&&!m?C.firstChild&&C.firstChild.childNodes:"\x3ctable\x3e"===q[1]&&!m?C.childNodes:[];for(f=q.length-1;0<=f;--f)g.nodeName(q[f],"tbody")&&!q[f].childNodes.length&&q[f].parentNode.removeChild(q[f])}!g.support.leadingWhitespace&&
Ba.test(l)&&C.insertBefore(b.createTextNode(Ba.exec(l)[0]),C.firstChild);l=C.childNodes;C&&(C.parentNode.removeChild(C),0<n.length&&(C=n[n.length-1])&&C.parentNode&&C.parentNode.removeChild(C))}else l=b.createTextNode(l);var r;if(!g.support.appendChecked)if(l[0]&&"number"===typeof(r=l.length))for(f=0;f<r;f++)I(l[f]);else I(l);l.nodeType?e.push(l):e=g.merge(e,l)}if(c){a=function(a){return!a.type||Ea.test(a.type)};for(h=0;e[h];h++)b=e[h],d&&g.nodeName(b,"script")&&(!b.type||Ea.test(b.type))?d.push(b.parentNode?
b.parentNode.removeChild(b):b):(1===b.nodeType&&(l=g.grep(b.getElementsByTagName("script"),a),e.splice.apply(e,[h+1,0].concat(l))),c.appendChild(b))}return e},cleanData:function(a){for(var b,c,d=g.cache,f=g.event.special,e=g.support.deleteExpando,h=0,l;null!=(l=a[h]);h++)if(!l.nodeName||!g.noData[l.nodeName.toLowerCase()])if(c=l[g.expando]){if((b=d[c])&&b.events){for(var q in b.events)f[q]?g.event.remove(l,q):g.removeEvent(l,q,b.handle);b.handle&&(b.handle.elem=null)}e?delete l[g.expando]:l.removeAttribute&&
l.removeAttribute(g.expando);delete d[c]}}});var Ga=/alpha\([^)]*\)/i,Ha=/opacity=([^)]*)/,Ia=/([A-Z]|^ms)/g,ab=/^[\-+]?(?:\d*\.)?\d+$/i,ua=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Ja=/^([\-+])=([\-+.\de]+)/,bb=/^margin/,cb={position:"absolute",visibility:"hidden",display:"block"},qa=["Top","Right","Bottom","Left"],sa,Ka,pa;g.fn.css=function(b,c){return g.access(this,function(b,c,d){return d!==a?g.style(b,c,d):g.css(b,c)},b,c,1<arguments.length)};g.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=
sa(a,"opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":g.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,c,d,f){if(b&&!(3===b.nodeType||8===b.nodeType||!b.style)){var e,h=g.camelCase(c),l=b.style,q=g.cssHooks[h];c=g.cssProps[h]||h;if(d!==a){f=typeof d;if("string"===f&&(e=Ja.exec(d)))d=+(e[1]+1)*+e[2]+parseFloat(g.css(b,c)),f="number";if(!(null==d||"number"===
f&&isNaN(d)))if("number"===f&&!g.cssNumber[h]&&(d+="px"),!q||!("set"in q)||(d=q.set(b,d))!==a)try{l[c]=d}catch(m){}}else return q&&"get"in q&&(e=q.get(b,!1,f))!==a?e:l[c]}},css:function(b,c,d){var f,e;c=g.camelCase(c);e=g.cssHooks[c];c=g.cssProps[c]||c;"cssFloat"===c&&(c="float");if(e&&"get"in e&&(f=e.get(b,!0,d))!==a)return f;if(sa)return sa(b,c)},swap:function(a,b,c){var d={},g;for(g in b)d[g]=a.style[g],a.style[g]=b[g];c=c.call(a);for(g in b)a.style[g]=d[g];return c}});g.curCSS=g.css;u.defaultView&&
u.defaultView.getComputedStyle&&(Ka=function(a,b){var c,d,f,e=a.style;b=b.replace(Ia,"-$1").toLowerCase();if((d=a.ownerDocument.defaultView)&&(f=d.getComputedStyle(a,null)))c=f.getPropertyValue(b),""===c&&!g.contains(a.ownerDocument.documentElement,a)&&(c=g.style(a,b));!g.support.pixelMargin&&(f&&bb.test(b)&&ua.test(c))&&(d=e.width,e.width=c,c=f.width,e.width=d);return c});u.documentElement.currentStyle&&(pa=function(a,b){var c,d,g=a.currentStyle&&a.currentStyle[b],f=a.style;if(null==g&&f&&(c=f[b]))g=
c;if(ua.test(g)){c=f.left;if(d=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===b?"1em":g;g=f.pixelLeft+"px";f.left=c;d&&(a.runtimeStyle.left=d)}return""===g?"auto":g});sa=Ka||pa;g.each(["height","width"],function(a,b){g.cssHooks[b]={get:function(a,c,d){if(c)return 0!==a.offsetWidth?z(a,b,d):g.swap(a,cb,function(){return z(a,b,d)})},set:function(a,b){return ab.test(b)?b+"px":b}}});g.support.opacity||(g.cssHooks.opacity={get:function(a,b){return Ha.test((b&&
a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,f=g.isNumeric(b)?"alpha(opacity\x3d"+100*b+")":"",e=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&""===g.trim(e.replace(Ga,""))&&(c.removeAttribute("filter"),d&&!d.filter))return;c.filter=Ga.test(e)?e.replace(Ga,f):e+" "+f}});g(function(){g.support.reliableMarginRight||(g.cssHooks.marginRight={get:function(a,b){return g.swap(a,{display:"inline-block"},function(){return b?
sa(a,"margin-right"):a.style.marginRight})}})});g.expr&&g.expr.filters&&(g.expr.filters.hidden=function(a){var b=a.offsetHeight;return 0===a.offsetWidth&&0===b||!g.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||g.css(a,"display"))},g.expr.filters.visible=function(a){return!g.expr.filters.hidden(a)});g.each({margin:"",padding:"",border:"Width"},function(a,b){g.cssHooks[a+b]={expand:function(c){var d="string"===typeof c?c.split(" "):[c],g={};for(c=0;4>c;c++)g[a+qa[c]+b]=d[c]||d[c-
2]||d[0];return g}}});var Ra=/%20/g,C=/\[\]$/,ja=/\r?\n/g,db=/#.*$/,ob=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,pb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,hb=/\?/,sb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,tb=/^(?:select|textarea)/i,gb=/\s+/,ub=/([?&])_=[^&]*/,ib=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,jb=g.fn.load,Ua={},kb={},va,wa,lb=["*/"]+["*"];try{va=D.href}catch(Ab){va=u.createElement("a"),
va.href="",va=va.href}wa=ib.exec(va.toLowerCase())||[];g.fn.extend({load:function(b,c,d){if("string"!==typeof b&&jb)return jb.apply(this,arguments);if(!this.length)return this;var f=b.indexOf(" ");if(0<=f){var e=b.slice(f,b.length);b=b.slice(0,f)}f="GET";c&&(g.isFunction(c)?(d=c,c=a):"object"===typeof c&&(c=g.param(c,g.ajaxSettings.traditional),f="POST"));var h=this;g.ajax({url:b,type:f,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText;a.isResolved()&&(a.done(function(a){c=a}),h.html(e?
g("\x3cdiv\x3e").append(c.replace(sb,"")).find(e):c));d&&h.each(d,[c,b,a])}});return this},serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?g.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||tb.test(this.nodeName)||pb.test(this.type))}).map(function(a,b){var c=g(this).val();return null==c?null:g.isArray(c)?g.map(c,function(a,c){return{name:b.name,value:a.replace(ja,
"\r\n")}}):{name:b.name,value:c.replace(ja,"\r\n")}}).get()}});g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){g.fn[b]=function(a){return this.on(b,a)}});g.each(["get","post"],function(b,c){g[c]=function(b,d,f,e){g.isFunction(d)&&(e=e||f,f=d,d=a);return g.ajax({type:c,url:b,data:d,success:f,dataType:e})}});g.extend({getScript:function(b,c){return g.get(b,a,c,"script")},getJSON:function(a,b,c){return g.get(a,b,c,"json")},ajaxSetup:function(a,b){b?G(a,
g.ajaxSettings):(b=a,a=g.ajaxSettings);G(a,b);return a},ajaxSettings:{url:va,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(wa[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":lb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,
"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:x(Ua),ajaxTransport:x(kb),ajax:function(b,c){function d(b,c,n,r){if(2!==t){t=2;s&&clearTimeout(s);p=a;u=r||"";v.readyState=0<b?4:0;var w,D,T;r=c;if(n){var ja=f,N=v,L=ja.contents,X=ja.dataTypes,ea=ja.responseFields,z,S,x,E;for(S in ea)S in n&&(N[ea[S]]=n[S]);for(;"*"===X[0];)X.shift(),z===a&&(z=ja.mimeType||N.getResponseHeader("content-type"));if(z)for(S in L)if(L[S]&&L[S].test(z)){X.unshift(S);
break}if(X[0]in n)x=X[0];else{for(S in n){if(!X[0]||ja.converters[S+" "+X[0]]){x=S;break}E||(E=S)}x=x||E}x?(x!==X[0]&&X.unshift(x),n=n[x]):n=void 0}else n=a;if(200<=b&&300>b||304===b){if(f.ifModified){if(z=v.getResponseHeader("Last-Modified"))g.lastModified[C]=z;if(z=v.getResponseHeader("Etag"))g.etag[C]=z}if(304===b)r="notmodified",w=!0;else try{z=f;z.dataFilter&&(n=z.dataFilter(n,z.dataType));var I=z.dataTypes;S={};var P,J,db=I.length,K,G=I[0],oa,H,B,A,aa;for(P=1;P<db;P++){if(1===P)for(J in z.converters)"string"===
typeof J&&(S[J.toLowerCase()]=z.converters[J]);oa=G;G=I[P];if("*"===G)G=oa;else if("*"!==oa&&oa!==G){H=oa+" "+G;B=S[H]||S["* "+G];if(!B)for(A in aa=a,S)if(K=A.split(" "),K[0]===oa||"*"===K[0])if(aa=S[K[1]+" "+G]){A=S[A];!0===A?B=aa:!0===aa&&(B=A);break}!B&&!aa&&g.error("No conversion from "+H.replace(" "," to "));!0!==B&&(n=B?B(n):aa(A(n)))}}D=n;r="success";w=!0}catch(y){r="parsererror",T=y}}else if(T=r,!r||b)r="error",0>b&&(b=0);v.status=b;v.statusText=""+(c||r);w?l.resolveWith(e,[D,r,v]):l.rejectWith(e,
[v,r,T]);v.statusCode(m);m=a;V&&h.trigger("ajax"+(w?"Success":"Error"),[v,f,w?D:T]);q.fireWith(e,[v,r]);V&&(h.trigger("ajaxComplete",[v,f]),--g.active||g.event.trigger("ajaxStop"))}}"object"===typeof b&&(c=b,b=a);c=c||{};var f=g.ajaxSetup({},c),e=f.context||f,h=e!==f&&(e.nodeType||e instanceof g)?g(e):g.event,l=g.Deferred(),q=g.Callbacks("once memory"),m=f.statusCode||{},C,n={},r={},u,w,p,s,D,t=0,V,T,v={readyState:0,setRequestHeader:function(a,b){if(!t){var c=a.toLowerCase();a=r[c]=r[c]||a;n[a]=b}return this},
getAllResponseHeaders:function(){return 2===t?u:null},getResponseHeader:function(b){var c;if(2===t){if(!w)for(w={};c=ob.exec(u);)w[c[1].toLowerCase()]=c[2];c=w[b.toLowerCase()]}return c===a?null:c},overrideMimeType:function(a){t||(f.mimeType=a);return this},abort:function(a){a=a||"abort";p&&p.abort(a);d(0,a);return this}};l.promise(v);v.success=v.done;v.error=v.fail;v.complete=q.add;v.statusCode=function(a){if(a){var b;if(2>t)for(b in a)m[b]=[m[b],a[b]];else b=a[v.status],v.then(b,b)}return this};
f.url=((b||f.url)+"").replace(db,"").replace(rb,wa[1]+"//");f.dataTypes=g.trim(f.dataType||"*").toLowerCase().split(gb);null==f.crossDomain&&(D=ib.exec(f.url.toLowerCase()),f.crossDomain=!(!D||!(D[1]!=wa[1]||D[2]!=wa[2]||(D[3]||("http:"===D[1]?80:443))!=(wa[3]||("http:"===wa[1]?80:443)))));f.data&&(f.processData&&"string"!==typeof f.data)&&(f.data=g.param(f.data,f.traditional));E(Ua,f,c,v);if(2===t)return!1;V=f.global;f.type=f.type.toUpperCase();f.hasContent=!qb.test(f.type);V&&0===g.active++&&g.event.trigger("ajaxStart");
if(!f.hasContent&&(f.data&&(f.url+=(hb.test(f.url)?"\x26":"?")+f.data,delete f.data),C=f.url,!1===f.cache)){D=g.now();var ja=f.url.replace(ub,"$1_\x3d"+D);f.url=ja+(ja===f.url?(hb.test(f.url)?"\x26":"?")+"_\x3d"+D:"")}(f.data&&f.hasContent&&!1!==f.contentType||c.contentType)&&v.setRequestHeader("Content-Type",f.contentType);f.ifModified&&(C=C||f.url,g.lastModified[C]&&v.setRequestHeader("If-Modified-Since",g.lastModified[C]),g.etag[C]&&v.setRequestHeader("If-None-Match",g.etag[C]));v.setRequestHeader("Accept",
f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+lb+"; q\x3d0.01":""):f.accepts["*"]);for(T in f.headers)v.setRequestHeader(T,f.headers[T]);if(f.beforeSend&&(!1===f.beforeSend.call(e,v,f)||2===t))return v.abort(),!1;for(T in{success:1,error:1,complete:1})v[T](f[T]);if(p=E(kb,f,c,v)){v.readyState=1;V&&h.trigger("ajaxSend",[v,f]);f.async&&0<f.timeout&&(s=setTimeout(function(){v.abort("timeout")},f.timeout));try{t=1,p.send(n,d)}catch(N){if(2>t)d(-1,N);else throw N;
}}else d(-1,"No Transport");return v},param:function(b,c){var d=[],f=function(a,b){b=g.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)};c===a&&(c=g.ajaxSettings.traditional);if(g.isArray(b)||b.jquery&&!g.isPlainObject(b))g.each(b,function(){f(this.name,this.value)});else for(var e in b)K(e,b[e],c,f);return d.join("\x26").replace(Ra,"+")}});g.extend({active:0,lastModified:{},etag:{}});var vb=g.now(),Sa=/(\=)\?(&|$)|\?\?/i;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return g.expando+
"_"+vb++}});g.ajaxPrefilter("json jsonp",function(a,c,d){c="string"===typeof a.data&&/^application\/x\-www\-form\-urlencoded/.test(a.contentType);if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(Sa.test(a.url)||c&&Sa.test(a.data))){var f,e=a.jsonpCallback=g.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h=b[e],l=a.url,q=a.data,m="$1"+e+"$2";!1!==a.jsonp&&(l=l.replace(Sa,m),a.url===l&&(c&&(q=q.replace(Sa,m)),a.data===q&&(l+=(/\?/.test(l)?"\x26":"?")+a.jsonp+"\x3d"+e)));a.url=l;a.data=q;b[e]=
function(a){f=[a]};d.always(function(){b[e]=h;if(f&&g.isFunction(h))b[e](f[0])});a.converters["script json"]=function(){f||g.error(e+" was not called");return f[0]};a.dataTypes[0]="json";return"script"}});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){g.globalEval(a);return a}}});g.ajaxPrefilter("script",function(b){b.cache===a&&(b.cache=!1);b.crossDomain&&
(b.type="GET",b.global=!1)});g.ajaxTransport("script",function(b){if(b.crossDomain){var c,d=u.head||u.getElementsByTagName("head")[0]||u.documentElement;return{send:function(g,f){c=u.createElement("script");c.async="async";b.scriptCharset&&(c.charset=b.scriptCharset);c.src=b.url;c.onload=c.onreadystatechange=function(b,g){if(g||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=a,g||f(200,"success")};d.insertBefore(c,d.firstChild)},
abort:function(){if(c)c.onload(0,1)}}}});var eb=b.ActiveXObject?function(){for(var a in za)za[a](0,1)}:!1,wb=0,za;g.ajaxSettings.xhr=b.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&H()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:H;(function(a){g.extend(g.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(g.ajaxSettings.xhr());g.support.ajax&&g.ajaxTransport(function(c){if(!c.crossDomain||g.support.cors){var d;return{send:function(f,e){var h=c.xhr(),
l,q;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(q in c.xhrFields)h[q]=c.xhrFields[q];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType);!c.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(q in f)h.setRequestHeader(q,f[q])}catch(m){}h.send(c.hasContent&&c.data||null);d=function(b,f){var q,m,C,n,r;try{if(d&&(f||4===h.readyState))if(d=a,l&&(h.onreadystatechange=g.noop,eb&&delete za[l]),
f)4!==h.readyState&&h.abort();else{q=h.status;C=h.getAllResponseHeaders();n={};if((r=h.responseXML)&&r.documentElement)n.xml=r;try{n.text=h.responseText}catch(w){}try{m=h.statusText}catch(u){m=""}!q&&c.isLocal&&!c.crossDomain?q=n.text?200:404:1223===q&&(q=204)}}catch(p){f||e(-1,p)}n&&e(q,m,n,C)};!c.async||4===h.readyState?d():(l=++wb,eb&&(za||(za={},g(b).unload(eb)),za[l]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var Va={},ra,xa,xb=/^(?:toggle|show|hide)$/,yb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
Ta,Ma=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],La;g.fn.extend({show:function(a,b,c){if(a||0===a)return this.animate(Q("show",3),a,b,c);c=0;for(var d=this.length;c<d;c++)a=this[c],a.style&&(b=a.style.display,!g._data(a,"olddisplay")&&"none"===b&&(b=a.style.display=""),(""===b&&"none"===g.css(a,"display")||!g.contains(a.ownerDocument.documentElement,a))&&g._data(a,"olddisplay",w(a.nodeName)));for(c=
0;c<d;c++)if(a=this[c],a.style&&(b=a.style.display,""===b||"none"===b))a.style.display=g._data(a,"olddisplay")||"";return this},hide:function(a,b,c){if(a||0===a)return this.animate(Q("hide",3),a,b,c);c=0;for(var d=this.length;c<d;c++)a=this[c],a.style&&(b=g.css(a,"display"),"none"!==b&&!g._data(a,"olddisplay")&&g._data(a,"olddisplay",b));for(c=0;c<d;c++)this[c].style&&(this[c].style.display="none");return this},_toggle:g.fn.toggle,toggle:function(a,b,c){var d="boolean"===typeof a;g.isFunction(a)&&
g.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:g(this).is(":hidden");g(this)[b?"show":"hide"]()}):this.animate(Q("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function f(){!1===e.queue&&g._mark(this);var b=g.extend({},e),c=1===this.nodeType,d=c&&g(this).is(":hidden"),h,l,q,m,C;b.animatedProperties={};for(q in a)if(h=g.camelCase(q),
q!==h&&(a[h]=a[q],delete a[q]),(l=g.cssHooks[h])&&"expand"in l)for(q in m=l.expand(a[h]),delete a[h],m)q in a||(a[q]=m[q]);for(h in a){l=a[h];g.isArray(l)?(b.animatedProperties[h]=l[1],l=a[h]=l[0]):b.animatedProperties[h]=b.specialEasing&&b.specialEasing[h]||b.easing||"swing";if("hide"===l&&d||"show"===l&&!d)return b.complete.call(this);if(c&&("height"===h||"width"===h))b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===g.css(this,"display")&&"none"===g.css(this,
"float")&&(!g.support.inlineBlockNeedsLayout||"inline"===w(this.nodeName)?this.style.display="inline-block":this.style.zoom=1)}null!=b.overflow&&(this.style.overflow="hidden");for(q in a)if(c=new g.fx(this,b,q),l=a[q],xb.test(l))if(h=g._data(this,"toggle"+q)||("toggle"===l?d?"show":"hide":0))g._data(this,"toggle"+q,"show"===h?"hide":"show"),c[h]();else c[l]();else h=yb.exec(l),m=c.cur(),h?(l=parseFloat(h[2]),C=h[3]||(g.cssNumber[q]?"":"px"),"px"!==C&&(g.style(this,q,(l||1)+C),m*=(l||1)/c.cur(),g.style(this,
q,m+C)),h[1]&&(l=("-\x3d"===h[1]?-1:1)*l+m),c.custom(m,l,C)):c.custom(m,l,"");return!0}var e=g.speed(b,c,d);if(g.isEmptyObject(a))return this.each(e.complete,[!1]);a=g.extend({},a);return!1===e.queue?this.each(f):this.queue(e.queue,f)},stop:function(b,c,d){"string"!==typeof b&&(d=c,c=b,b=a);c&&!1!==b&&this.queue(b||"fx",[]);return this.each(function(){var a,c=!1,f=g.timers,e=g._data(this);d||g._unmark(!0,this);if(null==b)for(a in e){if(e[a]&&e[a].stop&&a.indexOf(".run")===a.length-4){var h=e[a];g.removeData(this,
a,!0);h.stop(d)}}else if(e[a=b+".run"]&&e[a].stop)e=e[a],g.removeData(this,a,!0),e.stop(d);for(a=f.length;a--;)if(f[a].elem===this&&(null==b||f[a].queue===b)){if(d)f[a](!0);else f[a].saveState();c=!0;f.splice(a,1)}(!d||!c)&&g.dequeue(this,b)})}});g.each({slideDown:Q("show",1),slideUp:Q("hide",1),slideToggle:Q("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){g.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});g.extend({speed:function(a,b,
c){var d=a&&"object"===typeof a?g.extend({},a):{complete:c||!c&&b||g.isFunction(a)&&a,duration:a,easing:c&&b||b&&!g.isFunction(b)&&b};d.duration=g.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in g.fx.speeds?g.fx.speeds[d.duration]:g.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(a){g.isFunction(d.old)&&d.old.call(this);d.queue?g.dequeue(this,d.queue):!1!==a&&g._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*
Math.PI)/2+0.5}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});g.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(g.fx.step[this.prop]||g.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=g.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||"auto"===b?0:b:a},custom:function(b,c,d){function f(a){return e.step(a)}
var e=this,h=g.fx;this.startTime=La||M();this.end=c;this.now=this.start=b;this.pos=this.state=0;this.unit=d||this.unit||(g.cssNumber[this.prop]?"":"px");f.queue=this.options.queue;f.elem=this.elem;f.saveState=function(){g._data(e.elem,"fxshow"+e.prop)===a&&(e.options.hide?g._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&g._data(e.elem,"fxshow"+e.prop,e.end))};f()&&(g.timers.push(f)&&!Ta)&&(Ta=setInterval(h.tick,h.interval))},show:function(){var b=g._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=
b||g.style(this.elem,this.prop);this.options.show=!0;b!==a?this.custom(this.cur(),b):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());g(this.elem).show()},hide:function(){this.options.orig[this.prop]=g._data(this.elem,"fxshow"+this.prop)||g.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b,c=La||M(),d=!0,f=this.elem,e=this.options;if(a||c>=e.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();e.animatedProperties[this.prop]=
!0;for(b in e.animatedProperties)!0!==e.animatedProperties[b]&&(d=!1);if(d){null!=e.overflow&&!g.support.shrinkWrapBlocks&&g.each(["","X","Y"],function(a,b){f.style["overflow"+b]=e.overflow[a]});e.hide&&g(f).hide();if(e.hide||e.show)for(b in e.animatedProperties)g.style(f,b,e.orig[b]),g.removeData(f,"fxshow"+b,!0),g.removeData(f,"toggle"+b,!0);if(a=e.complete)e.complete=!1,a.call(f)}return!1}Infinity==e.duration?this.now=c:(a=c-this.startTime,this.state=a/e.duration,this.pos=g.easing[e.animatedProperties[this.prop]](this.state,
a,0,1,e.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};g.extend(g.fx,{tick:function(){for(var a,b=g.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||g.fx.stop()},interval:13,stop:function(){clearInterval(Ta);Ta=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){g.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});
g.each(Ma.concat.apply([],Ma),function(a,b){b.indexOf("margin")&&(g.fx.step[b]=function(a){g.style(a.elem,b,Math.max(0,a.now)+a.unit)})});g.expr&&g.expr.filters&&(g.expr.filters.animated=function(a){return g.grep(g.timers,function(b){return a===b.elem}).length});var mb,zb=/^t(?:able|d|h)$/i,nb=/^(?:body|html)$/i;mb="getBoundingClientRect"in u.documentElement?function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(f){}if(!d||!g.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};a=b.body;
b=r(b);return{top:d.top+(b.pageYOffset||g.support.boxModel&&c.scrollTop||a.scrollTop)-(c.clientTop||a.clientTop||0),left:d.left+(b.pageXOffset||g.support.boxModel&&c.scrollLeft||a.scrollLeft)-(c.clientLeft||a.clientLeft||0)}}:function(a,b,c){var d,f=a.offsetParent,e=b.body;d=(b=b.defaultView)?b.getComputedStyle(a,null):a.currentStyle;for(var h=a.offsetTop,l=a.offsetLeft;(a=a.parentNode)&&(a!==e&&a!==c)&&!(g.support.fixedPosition&&"fixed"===d.position);){d=b?b.getComputedStyle(a,null):a.currentStyle;
h-=a.scrollTop;l-=a.scrollLeft;if(a===f){h+=a.offsetTop;l+=a.offsetLeft;if(g.support.doesNotAddBorder&&(!g.support.doesAddBorderForTableAndCells||!zb.test(a.nodeName)))h+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0;f=a.offsetParent}g.support.subtractsBorderForOverflowNotVisible&&"visible"!==d.overflow&&(h+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0)}if("relative"===d.position||"static"===d.position)h+=e.offsetTop,l+=e.offsetLeft;g.support.fixedPosition&&
"fixed"===d.position&&(h+=Math.max(c.scrollTop,e.scrollTop),l+=Math.max(c.scrollLeft,e.scrollLeft));return{top:h,left:l}};g.fn.offset=function(b){if(arguments.length)return b===a?this:this.each(function(a){g.offset.setOffset(this,b,a)});var c=this[0],d=c&&c.ownerDocument;return!d?null:c===d.body?g.offset.bodyOffset(c):mb(c,d,d.documentElement)};g.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;g.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(g.css(a,"marginTop"))||0,c+=parseFloat(g.css(a,
"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=g.css(a,"position");"static"===d&&(a.style.position="relative");var f=g(a),e=f.offset(),h=g.css(a,"top"),l=g.css(a,"left"),q={},m={};("absolute"===d||"fixed"===d)&&-1<g.inArray("auto",[h,l])?(m=f.position(),d=m.top,l=m.left):(d=parseFloat(h)||0,l=parseFloat(l)||0);g.isFunction(b)&&(b=b.call(a,c,e));null!=b.top&&(q.top=b.top-e.top+d);null!=b.left&&(q.left=b.left-e.left+l);"using"in b?b.using.call(a,q):f.css(q)}};g.fn.extend({position:function(){if(!this[0])return null;
var a=this[0],b=this.offsetParent(),c=this.offset(),d=nb.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(g.css(a,"marginTop"))||0;c.left-=parseFloat(g.css(a,"marginLeft"))||0;d.top+=parseFloat(g.css(b[0],"borderTopWidth"))||0;d.left+=parseFloat(g.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||u.body;a&&!nb.test(a.nodeName)&&"static"===g.css(a,"position");)a=a.offsetParent;return a})}});
g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d=/Y/.test(c);g.fn[b]=function(f){return g.access(this,function(b,f,e){var h=r(b);if(e===a)return h?c in h?h[c]:g.support.boxModel&&h.document.documentElement[f]||h.document.body[f]:b[f];h?h.scrollTo(!d?e:g(h).scrollLeft(),d?e:g(h).scrollTop()):b[f]=e},b,f,arguments.length,null)}});g.each({Height:"height",Width:"width"},function(b,c){var d="client"+b,f="scroll"+b,e="offset"+b;g.fn["inner"+b]=function(){var a=this[0];return a?
a.style?parseFloat(g.css(a,c,"padding")):this[c]():null};g.fn["outer"+b]=function(a){var b=this[0];return b?b.style?parseFloat(g.css(b,c,a?"margin":"border")):this[c]():null};g.fn[c]=function(b){return g.access(this,function(b,c,h){if(g.isWindow(b))return c=b.document,b=c.documentElement[d],g.support.boxModel&&b||c.body&&c.body[d]||b;if(9===b.nodeType)return c=b.documentElement,c[d]>=c[f]?c[d]:Math.max(b.body[f],c[f],b.body[e],c[e]);if(h===a)return b=g.css(b,c),c=parseFloat(b),g.isNumeric(c)?c:b;
g(b).css(c,h)},c,b,arguments.length,null)}});b.jQuery=b.$=g;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return g})})(window);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.auth=com.rooxteam.auth||{};com.rooxteam.auth.isAuthenticated=function(){return null!=com.rooxteam.auth.getPrincipal()};com.rooxteam.auth.getAuthLevel=function(){return com.rooxteam.auth.getSessionProperty("authLevel")};com.rooxteam.auth.getPrincipal=function(){return com.rooxteam.auth.getSessionProperty("principal")};
com.rooxteam.auth.getSessionProperty=function(b){var a=com.rooxteam.sharedcontext.getPersistentDataContext();return null!=a?a.getDataSet("com.rooxteam.auth."+b):null};com.rooxteam.auth._impl=com.rooxteam.auth._impl||{requestAuthentication:function(b,a,c){throw Error("Method not implemented");},logout:function(b){throw Error("Method not implemented");}};com.rooxteam.auth.requestAuthentication=function(b,a,c){com.rooxteam.auth._impl.requestAuthentication(b,a,c)};com.rooxteam.auth.logout=function(b){com.rooxteam.auth._impl.logout(b)};
com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.deferred=com.rooxteam.deferred||{};com.rooxteam.deferred.Deferred=jQuery.Deferred;
com.rooxteam.deferred.when=function(){var b=Array.prototype.slice.call(arguments),b=jQuery.map(b,function(a){"undefined"!==typeof WinJS&&a instanceof WinJS.Promise&&(a=jQuery.Deferred(function(b){a.then(function(){b.resolveWith(this,arguments)},function(){b.rejectWith(this,arguments)},function(){b.notifyWith(this,arguments)})}).promise());return a});return jQuery.when.apply(this,b)};com.rooxteam.deferred.whenArray=function(b){return com.rooxteam.deferred.when.apply(null,b)};
com.rooxteam.deferred.whenAll=function(b){var a=Array.prototype.slice.call(arguments);if(a&&a.length){var c=$.Deferred(),e=a.length,h=!1,l=[],d,f;f=function(){l=l.concat(Array.prototype.slice.call(arguments));if(!--e)c[h?"rejectWith":"resolveWith"](c,l)};d=function(){h=!0};a.forEach(function(a){a.fail(d).always(f)});return c}return $.Deferred().resolve()};com.rooxteam.deferred.whenAllArray=function(b){return com.rooxteam.deferred.whenAll.apply(null,b)};
com.rooxteam.deferred.whenSome=function(b){var a=Array.prototype.slice.call(arguments);if(a&&a.length){var c=$.Deferred(),e=a.length,h=!1,l,d;d=function(){if(!--e||h)c[h?"resolve":"reject"]()};l=function(){h=!0};a.forEach(function(a){a.done(l).always(d)});return c}return $.Deferred().resolve()};com.rooxteam.deferred.whenSomeArray=function(b){return com.rooxteam.deferred.whenSome.apply(null,b)};
com.rooxteam.deferred.timeout=function(b,a){var c=Array.prototype.slice.call(arguments,1),e=jQuery.Deferred(function(a){a.timeoutID=setTimeout(function(){a.resolveWith(a,c)},b);a.fail(function(){clearTimeout(a.timeoutID)})});if(a.promise&&a.resolve){var h=function(){e.rejectWith(e,c.slice(1))};e.then(function(){a.rejectWith(a,c.slice(1))});a.then(h,h);return a}return e};
"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.deferred=function(b,a,c,e){var h=c.block,l=c["else"];if(e&&e.value){var d=e.value;return b.map(function(b){d.then(function(){b.render(h,a.push({"return":arguments[0],args:arguments}));b.end()},function(){l&&b.render(l,a.push({"return":arguments[0],args:arguments}));b.end()})})}return b});com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.webapi=com.rooxteam.webapi||{};
var GET_BALANCE_METHOD="customer.getBalance",GET_CUSTOMER_METHOD=["GET","/customer/@me"],GET_OFFER_METHOD="offer.get",GET_BSSTATUS_METHOD="bsstatus.get",GET_NEWS_METHOD="news.get",CREATE_PRODUCT_METHOD="product.create",GET_PRODUCT_METHOD="product.get",GET_DEVICE_METHOD="device.get",AUTHORIZE_METHOD="authentication.get",DELETE_SOCIAL_USER_MAPPING=["DELETE","/customer/@me/socialUserMapping"],GET_SOCIAL_USER_MAPPINGS_BY_CUSTOMER_ID="socialUserMapping.getByCustomerId",GET_SOCIAL_USER_MAPPING=["GET","/customer/@me/socialUserMapping"],
UPDATE_SOCIAL_USER_MAPPING=["PUT","/customer/@me/socialUserMapping"],GET_MESSAGE_CLASSES=["GET","/socialMessageClass"],GET_SOCIAL_APPLICATION=["GET","/socialApplication"],GET_ALL_SOCIAL_APPLICATION=["GET","/socialApplication"],STORE_CONNECTION_STATUS="cmdata.create",LAST_CM_AUTH_HASH="LAST_CM_AUTH_HASH",GET_CUSTOMER_SERVICES_METHOD="socialCustomer.getAllServices",GET_CUSTOMER_DEFAULT_SERVICE_METHOD="socialCustomer.getDefaultService",SET_CUSTOMER_DEFAULT_SERVICE_METHOD="socialCustomer.setDefaultService",
MAC_ADDRESS_PARAM="mac",IMSI_PARAM="imsi",CM_ID_PARAM="cmId",BSID_PARAM="bsid",ECGI_PARAM="ecgi",IP_PARAM="ip",WEAK_TOKEN_PARAM="hashKey",DEVICE_ID_PARAM="deviceId",bisMethods=["com.rooxteam.webapi."+GET_BALANCE_METHOD,"com.rooxteam.webapi."+GET_CUSTOMER_METHOD,"com.rooxteam.webapi."+GET_OFFER_METHOD,"com.rooxteam.webapi."+GET_NEWS_METHOD,"com.rooxteam.webapi."+GET_DEVICE_METHOD,"com.rooxteam.webapi."+CREATE_PRODUCT_METHOD,"com.rooxteam.webapi."+AUTHORIZE_METHOD,"com.rooxteam.webapi."+GET_CUSTOMER_SERVICES_METHOD,
"com.rooxteam.webapi."+GET_CUSTOMER_DEFAULT_SERVICE_METHOD,"com.rooxteam.webapi."+SET_CUSTOMER_DEFAULT_SERVICE_METHOD,"com.rooxteam.webapi."+GET_SOCIAL_USER_MAPPING,"com.rooxteam.webapi."+GET_MESSAGE_CLASSES,"com.rooxteam.webapi."+DELETE_SOCIAL_USER_MAPPING,"com.rooxteam.webapi."+UPDATE_SOCIAL_USER_MAPPING],bisWebapiTransport={name:void 0,execute:execute},config={endpointUrl:gadgets.config.NonEmptyStringValidator};
gadgets.config.register("com.rooxteam.webapi",config,function(){bisWebapiTransport.name=gadgets.config.get("com.rooxteam.webapi").endpointUrl});for(var i=0;i<bisMethods.length;i++)osapi._registerMethod(bisMethods[i],bisWebapiTransport);
function execute(b,a){for(var c in b){var e=b[c];e.method=e.params.method;e.params=e.params.params}c={POST_DATA:gadgets.json.stringify(b),CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"BEARER"};var h=com.rooxteam.sharedcontext.getDataContext().getDataSet("com.roox.cm.Common.App.Properties.unit.IpAddress"),h=h?h:"",e={"Content-Type":"application/json"};gadgets.config.get("com.rooxteam.webapi").emulateNetscaler&&(e["NS-Client-IP"]=h);(h=shindig.auth.getSecurityToken())&&(e.Authorization="Bearer "+
h);c.HEADERS=e;gadgets.io.makeRequest(this.name,function(b){if(b.errors[0])a({error:{code:b.rc,message:b.text}});else if(b=b.result||b.data,!b||b.error)a(b);else{for(var c={},f=0;f<b.length;f++)c[b[f].id]=b[f];a(c)}},c)}var PROPERTY_CHECK_LAST_TIMESTAMP_PROPERTY="__timestamp",PROPERTY_CHECK_LAST_PARAMS_PROPERTY="__params",PROPERTY_REREQUEST_DELAY=3E4,properyCheckArguments={};
function _checkPropertyCheckParams(b,a){if(!properyCheckArguments[b]||(!properyCheckArguments[b][PROPERTY_CHECK_LAST_TIMESTAMP_PROPERTY]||!properyCheckArguments[b][PROPERTY_CHECK_LAST_PARAMS_PROPERTY])||properyCheckArguments[b][PROPERTY_CHECK_LAST_TIMESTAMP_PROPERTY]+PROPERTY_REREQUEST_DELAY<Date.now())return!1;for(var c in a){var e=properyCheckArguments[b][PROPERTY_CHECK_LAST_PARAMS_PROPERTY],h=null,l;for(l in e)if(c==l){if(a[c]!=e[l])return!1;h=c}if(!h)return!1}return!0}
function _fillPropertyCheckParams(b,a,c){properyCheckArguments[b]={};properyCheckArguments[b][PROPERTY_CHECK_LAST_TIMESTAMP_PROPERTY]=Date.now();properyCheckArguments[b][PROPERTY_CHECK_LAST_PARAMS_PROPERTY]=a}var _cacheSingleMethod,_getCachedSingleMethod;
(function(){var b={};_cacheSingleMethod=function(a,c,e,h){"get"==a.toLowerCase()&&(b[a+":"+c+":"+JSON.stringify(e)]={data:h,timestamp:new Date})};_getCachedSingleMethod=function(a,c,e){if("get"==a.toLowerCase()){var h=a+":"+c+":"+JSON.stringify(e);if((h=b[h])&&3E4>new Date-h.timestamp)return h.data;delete b[a+":"+c+":"+JSON.stringify(e)]}}})();
function _executeSingleMethod(b,a,c,e){gadgets.warn("This method is deprecated and will be removed. Please use rooxteam webapi rest methods.");$.support.cors=!0;var h=!1,l,d,f,m=void 0===c.disableCache?!1:c.disableCache;delete c.disableCache;a instanceof Array?(f=a[1],a=a[0]):(f=a,a="GET");(l=m?null:_getCachedSingleMethod(a,f,c))?h=!0:(b={url:b.name+f,type:a,dataType:c.dataType,data:c.data,contentType:c.contentType},(e=shindig.auth.getSecurityToken())&&(b.headers={Authorization:"Bearer "+e}),$.ajax(b).success(function(b){h=
!0;l=b;m||_cacheSingleMethod(a,f,c,b);d&&d(l)}).error(function(a){h=!0;l={error:{code:a.status,message:a.responseText}};d&&d(l)}));return{execute:function(a){d=a;h&&d instanceof Function&&d(l)}}}com.rooxteam.webapi.customer=com.rooxteam.webapi.customer||{};com.rooxteam.webapi.customer.getBalance=function(){return _executeRestMethod(bisWebapiTransport,{},GET_BALANCE_METHOD)};com.rooxteam.webapi.customer.get=function(){return com.rooxteam.webapi.get(GET_CUSTOMER_METHOD[1],{})};
com.rooxteam.webapi.customer.getAllServices=function(){return _executeSingleMethod(bisWebapiTransport,GET_CUSTOMER_SERVICES_METHOD,{})};com.rooxteam.webapi.customer.getDefaultService=function(){return _executeSingleMethod(bisWebapiTransport,GET_CUSTOMER_DEFAULT_SERVICE_METHOD,{})};com.rooxteam.webapi.customer.setDefaultService=function(b,a){var c={};c.serv_acc_num=a;c.serv_type=b;return _executeSingleMethod(bisWebapiTransport,SET_CUSTOMER_DEFAULT_SERVICE_METHOD,c)};
com.rooxteam.webapi.socialUserMapping=com.rooxteam.webapi.socialUserMapping||{};com.rooxteam.webapi.socialUserMapping.getByCustomerId=function(b){var a={};b&&(a.customerId=b);return com.rooxteam.webapi.get(customerUrl,a)};com.rooxteam.webapi.socialUserMapping.get=function(b){var a={},c=GET_SOCIAL_USER_MAPPING[1];void 0!==b&&(a.disableCache=b);return com.rooxteam.webapi.get(c,a)};
com.rooxteam.webapi.socialUserMapping.update=function(b){var a={},c=UPDATE_SOCIAL_USER_MAPPING[1];a.data=b;a.dataType="json";a.contentType="application/json; charset\x3dutf-8";return com.rooxteam.webapi.put(c,{},a)};com.rooxteam.webapi.socialUserMapping.remove=function(b,a){var c={},e=DELETE_SOCIAL_USER_MAPPING[1]+"/"+b+"/"+a;c.dataType="json";c.contentType="application/json; charset\x3dutf-8";return com.rooxteam.webapi["delete"](e,c)};
com.rooxteam.webapi.socialApplication=com.rooxteam.webapi.socialApplication||{};com.rooxteam.webapi.socialApplication.get=function(b,a){var c={};c.appId=b;c.socialNetworkId=a;return _executeSingleMethod(bisWebapiTransport,GET_SOCIAL_APPLICATION,c)};com.rooxteam.webapi.socialApplication.getAll=function(){return _executeSingleMethod(bisWebapiTransport,GET_ALL_SOCIAL_APPLICATION,{})};com.rooxteam.webapi.messageClass=com.rooxteam.webapi.messageClass||{};
com.rooxteam.webapi.messageClass.getAll=function(b){var a={},c=GET_MESSAGE_CLASSES[1];void 0!==b&&(a.disableCache=b);return com.rooxteam.webapi.get(c,a)};com.rooxteam.webapi.news=com.rooxteam.webapi.news||{};com.rooxteam.webapi.news.get=function(b){var a={};a.cmId=b;return _executeSingleMethod(bisWebapiTransport,GET_NEWS_METHOD,a)};com.rooxteam.webapi.offer=com.rooxteam.webapi.offer||{};com.rooxteam.webapi.offer.get=function(){return _executeSingleMethod(bisWebapiTransport,GET_OFFER_METHOD)};
com.rooxteam.webapi.product=com.rooxteam.webapi.product||{};com.rooxteam.webapi.product.create=function(b){var a={};a.price=b;return _executeSingleMethod(bisWebapiTransport,CREATE_PRODUCT_METHOD,a)};com.rooxteam.webapi.product.get=function(){return _executeSingleMethod(bisWebapiTransport,GET_PRODUCT_METHOD)};com.rooxteam.webapi.bsstatus=com.rooxteam.webapi.bsstatus||{};com.rooxteam.webapi.device=com.rooxteam.webapi.device||{};
com.rooxteam.webapi.device.get=function(){return _executeSingleMethod(bisWebapiTransport,GET_DEVICE_METHOD)};com.rooxteam.webapi.weakauth=com.rooxteam.webapi.weakauth||{};
com.rooxteam.webapi.weakauth.authorize=function(b,a){var c={};c[CM_ID_PARAM]=b;if(a){var e="";for(k=0;k<a.length;k++)":"!=a[k]&&"\x26"!=a[k]&&(e+=a[k]);c[DEVICE_ID_PARAM]=e}_executeSingleMethod(bisWebapiTransport,AUTHORIZE_METHOD,c).execute(function(a){a.result&&a.result.hashKey&&com.rooxteam.sharedcontext.getDataContext().putDataSet(LAST_CM_AUTH_HASH,a.result.hashKey)})};com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.webapi=com.rooxteam.webapi||{};
var CUSTOMERS_ME="/customers/@me",CUSTOMERS_ME_PRODUCTS="/customers/@me/products",CUSTOMERS_ME_ACCOUNTS="/customers/@me/accounts",webapiTransport={name:void 0,execute:execute,processedName:void 0},config={endpointUrl:gadgets.config.NonEmptyStringValidator};gadgets.config.register("com.rooxteam.webapi",config,function(){webapiTransport.name=gadgets.config.get("com.rooxteam.webapi").endpointUrl});
function _executeRest(b,a,c,e){var h=$.Deferred();c||(c="GET");c={CONTENT_TYPE:"JSON",METHOD:c,AUTHORIZATION:"BEARER"};e&&(e=gadgets.json.stringify(e));null!=e&&(c.POST_DATA=e);var l=com.rooxteam.sharedcontext.getDataContext();e={"Content-Type":"application/json"};gadgets.config.get("com.rooxteam.webapi").emulateNetscaler&&(l=l.getDataSet("com.roox.cm.Common.App.Properties.unit.IpAddress"),e["NS-Client-IP"]=l?l:"");"undefined"!==typeof Windows&&(e["If-Modified-Since"]="Mon, 27 Mar 1972 00:00:00 GMT");
(l=shindig.auth.getSecurityToken())&&(e.Authorization="Bearer "+l);c.HEADERS=e;try{gadgets.io.makeRequest(b,function(b){b.errors&&0!==b.errors.length?h.reject(b):h.resolve(b);"function"===typeof a&&a(b)},c)}catch(d){b={rc:500,errors:[""+d],text:""+d,data:null},h.reject(b),"function"===typeof a&&a(b)}return h.promise()}
function _executeRestMethod(b,a,c,e){var h=webapiTransport.name.replace(/(?:\/api)?[\/]?$/,"");webapiTransport.processedName=h;if(null!=a)for(var l in a)a.hasOwnProperty(l)&&(b=b.replace("{"+l+"}",a[l]));var d=h+b;return{execute:function(a){return _executeRest(d,a,c,e)}}}com.rooxteam.webapi.get=function(b,a){return _executeRestMethod(b,a)};com.rooxteam.webapi.put=function(b,a,c){return _executeRestMethod(b,a,"PUT",c)};com.rooxteam.webapi.post=function(b,a,c){return _executeRestMethod(b,a,"POST",c)};
com.rooxteam.webapi.remove=function(b,a,c){return _executeRestMethod(b,a,"DELETE",c)};com.rooxteam.webapi.ajax=function(b){return _executeRest(b.url,b.callback,b.type,b.data)};com.rooxteam.webapi.makeUrl=function(b,a){var c=bisWebapiTransport.name;if(null!=a)for(var e in a)a.hasOwnProperty(e)&&(b=b.replace("{"+e+"}",a[e]));return c+b};com.rooxteam.webapi["delete"]=function(b,a,c){return _executeRestMethod(b,a,"DELETE",c)};
(function(b){function a(a,b,c,e,h){this._listener=b;this._isOnce=c;this.context=e;this._signal=a;this._priority=h||0}function c(a,b){if("function"!==typeof a)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));}function e(){this._bindings=[];this._prevParams=null;var a=this;this.dispatch=function(){e.prototype.dispatch.apply(a,arguments)}}a.prototype={active:!0,params:null,execute:function(a){var b;this.active&&this._listener&&(a=this.params?this.params.concat(a):
a,b=this._listener.apply(this.context,a),this._isOnce&&this.detach());return b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+
", isBound:"+this.isBound()+", active:"+this.active+"]"}};e.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(b,c,f,e){var h=this._indexOfListener(b,f);if(-1!==h){if(b=this._bindings[h],b.isOnce()!==c)throw Error("You cannot add"+(c?"":"Once")+"() then add"+(!c?"":"Once")+"() the same listener without removing the relationship first.");}else b=new a(this,b,c,f,e),this._addBinding(b);this.memorize&&this._prevParams&&b.execute(this._prevParams);return b},
_addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){for(var c=this._bindings.length,e;c--;)if(e=this._bindings[c],e._listener===a&&e.context===b)return c;return-1},has:function(a,b){return-1!==this._indexOfListener(a,b)},add:function(a,b,f){c(a,"add");return this._registerListener(a,!1,b,f)},addOnce:function(a,b,f){c(a,"addOnce");return this._registerListener(a,!0,
b,f)},remove:function(a,b){c(a,"remove");var f=this._indexOfListener(a,b);-1!==f&&(this._bindings[f]._destroy(),this._bindings.splice(f,1));return a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b=Array.prototype.slice.call(arguments),c=this._bindings.length,e;this.memorize&&(this._prevParams=
b);if(c){e=this._bindings.slice();this._shouldPropagate=!0;do c--;while(e[c]&&this._shouldPropagate&&!1!==e[c].execute(b))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var h=e;h.Signal=e;"function"===typeof define&&define.amd?define(function(){return h}):"undefined"!==typeof module&&module.exports?module.exports=h:b.signals=
h})(this);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.auth=com.rooxteam.auth||{};config={authorizeEndpointUrl:gadgets.config.NonEmptyStringValidator,response_type:gadgets.config.NonEmptyStringValidator,redirect_uri:gadgets.config.NonEmptyStringValidator,client_id:gadgets.config.NonEmptyStringValidator};gadgets.config.register("com.rooxteam.auth",config,function(){});
com.rooxteam.auth._impl={COMMON_METHODS_PREFIX:"com.rooxteam.auth.proxy.methods.",SECURITY_TOKEN:"com.rooxteam.auth.SECURITY_TOKEN",requestAuthentication:function(b){throw Error("Method not implemented");},logout:function(b){throw Error("Method not implemented");},isAuthenticated:function(){throw Error("Method not implemented");}};com.rooxteam.auth.AuthPhase={LOGIN:"LOGIN",CHECK_ASSOCIATION:"CHECK_ASSOCIATION"};com.rooxteam.auth.requestAuthentication=function(){return com.rooxteam.auth._impl.requestAuthentication({})};
com.rooxteam.auth.logout=function(b){return com.rooxteam.auth._impl.logout(b)};com.rooxteam.auth.isAuthenticated=function(){return com.rooxteam.auth._impl.isAuthenticated()};com.rooxteam.auth.authStateChanged=new signals.Signal;com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.auth=com.rooxteam.auth||{};
(function(){function b(a){shindig.auth.updateSecurityToken(a);d.putDataSet(l,a);com.rooxteam.auth.authStateChanged.dispatch({token:a})}function a(a){var c=com.rooxteam.deferred.Deferred();WL.login().then(function(a){var d=a.session.authentication_token;d&&0>d.indexOf("msliveid")&&(d="msliveid_1.0_"+d);shindig.auth.updateSecurityToken(d);com.rooxteam.webapi.get("/customer/@me/socialUserMapping").execute().done(function(a){b(d);c.resolve({phase:e.CHECK_ASSOCIATION,response:a})}).fail(function(a){b(null);
c.reject({phase:e.CHECK_ASSOCIATION,response:a})})},function(a){gadgets.warn("login failed: "+a&&a.error);b(null);c.reject({phase:e.LOGIN,response:a})});return c.promise()}var c=com.rooxteam.auth._impl,e=com.rooxteam.auth.AuthPhase,h=c.COMMON_METHODS_PREFIX,l=c.SECURITY_TOKEN,d=com.rooxteam.sharedcontext.getDataContext();gadgets.util.attachBrowserEvent(window,"message",function(b){var c=null;try{c=JSON.parse(b.data)}catch(d){gadgets.error("error: "+d);return}console.log("message received: "+b.data);
if(c&&c.id&&!(0>c.id.indexOf(h)))switch(c.id.substring(h.length)){case "requestAuthentication":a(c.data)}});c.requestAuthentication=a;c.isAuthenticated=function(){return null!=shindig.auth.getSecurityToken()};c.logout=function(a){throw Error("Method not implemented");}})();
(function(b){jQuery.extend({namespace:function(a){var b=window;a=a.split(".");for(var c=0;c<a.length;c++)"undefined"==typeof b[a[c]]&&(b[a[c]]={}),b=b[a[c]];return b}});var a=!1,c=/xyz/.test(function(){xyz})?/\bSuper\b/:/.*/;jQuery.Class=function(){};jQuery.Class.extend=function(b){function h(){!a&&this.init&&this.init.apply(this,arguments)}var l=this.prototype;a=!0;var d=new this;a=!1;for(var f in b)d[f]="function"==typeof b[f]&&"function"==typeof l[f]&&c.test(b[f])?function(a,b){return function(){var c=
this.Super;this.Super=l[a];var d=b.apply(this,arguments);this.Super=c;return d}}(f,b[f]):b[f];h.prototype=d;h.constructor=h;h.extend=arguments.callee;return h};"undefined"===typeof Function.bind&&(Function.prototype.bind=function(a){var b=this;return tmp=function(){return b.apply(a,arguments)}});Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1})})(jQuery);
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{AppState:{initializing:0,serviceStopped:1,applicationCorrupted:2,normal:3},MobileState:{deviceAbsent:0,scanning:1,readyToConnect:2,noNetwork:3,connecting:4,connectionFail:5,obtainingIp:6,connectionStatusCheck:7,connected:8,disconnecting:9,turningOff:10,turningOn:11,softwareOff:12,hardwareOff:13,simAbsent:14,passwordRequired:15,passwordResetRequired:16,cardUnlockCodeRequired:17,waitAutoconnect:18,permissionDenied:19},WifiState:{deviceAbsent:0,
readyToConnect:1,noNetwork:2,connected:3,turningOff:4,turningOn:5,softwareOff:6,hardwareOff:7},FixedState:{deviceAbsent:0,cableUnplugged:1,obtainingIp:2,connected:3,turningOff:4,turningOn:5,softwareOff:6},DeviceGroup:{mobile:0,wifi:1,fixed:2},SignalLevel:{level0:0,level1:1,level2:2,level3:3,level4:4,level5:5,levelMax:this.level5},PasswordProtectionMode:{notAvailable:0,enabled:1,disabled:2},NetworkTechnology:{none:0,wimax:1,lte:2,secondGen:4,thirdGen:8,cdma2000:16,wifi:32,ethernet:64,min:this.wimax,
max:this.ethernet},ConnectionMode:{unknown:0,noService:1,limitedService:2,gsm:3,gprs:4,edge:5,umts:6,hsdpa:7,hsupa:8,hspa:9,hspaPlus:10,lte:11,wimax:12,cdma2000:13,wifi:14,ethernet:15},ConnectionModePreference:{unknown:0,only2g:1,only3g:2,onlyLte:3,preferred2g:4,preferred3g:5,preferredLte:6},RegistrationStatus:{unknown:0,notRegisteredNotSearching:1,registeredHomeNetwork:2,notRegisteringSearching:3,registrationDenied:4,registeredRoaming:5},MessageKind:{outgoingSms:0,outgoingPartialSms:1,incomingSimpleSms:2,
incomingPartialSms:3,incomingIncompleteSms:4,incomingSmsStatusReport:5,outgoingUssd:6,incomingUssd:7,chatUssd:8,cancelUssd:9,incomingCustom:10},MessageDirection:{outgoing:0,incoming:1,chat:2},MessageSendingStatus:{local:0,sending:1,sendingFailed:2,sendingSucceeded:3,delivered:4},UssdStatus:{noFurtherActionRequired:0,furtherActionRequired:1,terminatedByNetwork:2,otherClientResponded:3,operationNotSupported:4,networkTimeOut:5,unknownError:6}})})();
(function(b){function a(a,b,c,e,h){this._listener=b;this._isOnce=c;this.context=e;this._signal=a;this._priority=h||0}function c(a,b){if("function"!==typeof a)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));}function e(){this._bindings=[];this._prevParams=null;var a=this;this.dispatch=function(){e.prototype.dispatch.apply(a,arguments)}}a.prototype={active:!0,params:null,execute:function(a){var b;this.active&&this._listener&&(a=this.params?this.params.concat(a):
a,b=this._listener.apply(this.context,a),this._isOnce&&this.detach());return b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+
", isBound:"+this.isBound()+", active:"+this.active+"]"}};e.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(b,c,f,e){var h=this._indexOfListener(b,f);if(-1!==h){if(b=this._bindings[h],b.isOnce()!==c)throw Error("You cannot add"+(c?"":"Once")+"() then add"+(!c?"":"Once")+"() the same listener without removing the relationship first.");}else b=new a(this,b,c,f,e),this._addBinding(b);this.memorize&&this._prevParams&&b.execute(this._prevParams);return b},
_addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){for(var c=this._bindings.length,e;c--;)if(e=this._bindings[c],e._listener===a&&e.context===b)return c;return-1},has:function(a,b){return-1!==this._indexOfListener(a,b)},add:function(a,b,f){c(a,"add");return this._registerListener(a,!1,b,f)},addOnce:function(a,b,f){c(a,"addOnce");return this._registerListener(a,!0,
b,f)},remove:function(a,b){c(a,"remove");var f=this._indexOfListener(a,b);-1!==f&&(this._bindings[f]._destroy(),this._bindings.splice(f,1));return a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b=Array.prototype.slice.call(arguments),c=this._bindings.length,e;this.memorize&&(this._prevParams=
b);if(c){e=this._bindings.slice();this._shouldPropagate=!0;do c--;while(e[c]&&this._shouldPropagate&&!1!==e[c].execute(b))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var h=e;h.Signal=e;"function"===typeof define&&define.amd?define(function(){return h}):"undefined"!==typeof module&&module.exports?module.exports=h:b.signals=
h})(this);(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{Property:$.Class.extend({init:function(a){this.valueChanged=new signals.Signal;this._value=this._defaultValue=a},get:function(){return this._value},set:function(a){if(this._value==a)return this._value;this._value=a;this.valueChanged.dispatch(a);return this._value},reset:function(){return this.set(this._defaultValue)}})})})();
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{DeviceInfo:$.Class.extend({init:function(){var a=b.Property;this._supportedNetworkTechnologies=new a(0);this._driverVersion=new a("");this._modelName=new a("");this._firmwareVersion=new a("");this._webGuiUrl=new a("");this._macAddress=new a("");this._imei=new a("");this._iccid=new a("");this._imsi=new a("");this._phoneNumber=new a("");this._availableAdapters=new a("");this._currentAdapterId=new a("");this._isAdapterAutoSelected=new a("")},
getSupportedNetworkTechnologies:function(){return this._supportedNetworkTechnologies.get()},getDriverVersion:function(){return this._driverVersion.get()},getModelName:function(){return this._modelName.get()},getFirmwareVersion:function(){return this._firmwareVersion.get()},getWebGuiUrl:function(){return this._webGuiUrl.get()},getMacAddress:function(){return this._macAddress.get()},getImei:function(){return this._imei.get()},getIccid:function(){return this._iccid.get()},getImsi:function(){return this._imsi.get()},
getPhoneNumber:function(){return this._phoneNumber.get()},getAvailableAdapters:function(){return this._availableAdapters.get()},getCurrentAdapterId:function(){return this._currentAdapterId.get()},isAdapterAutoSelected:function(){return this._isAdapterAutoSelected.get()},watchSupportedNetworkTechnologies:function(a){return this._supportedNetworkTechnologies.valueChanged.add(a)},unwatchSupportedNetworkTechnologies:function(a){return this._supportedNetworkTechnologies.valueChanged.remove(a)},watchDriverVersion:function(a){return this._driverVersion.valueChanged.add(a)},
unwatchDriverVersion:function(a){return this._driverVersion.valueChanged.remove(a)},watchModelName:function(a){return this._modelName.valueChanged.add(a)},unwatchModelName:function(a){return this._modelName.valueChanged.remove(a)},watchFirmwareVersion:function(a){return this._firmwareVersion.valueChanged.add(a)},unwatchFirmwareVersion:function(a){return this._firmwareVersion.valueChanged.remove(a)},watchWebGuiUrl:function(a){return this._webGuiUrl.valueChanged.add(a)},unwatchWebGuiUrl:function(a){return this._webGuiUrl.valueChanged.remove(a)},
watchMacAddress:function(a){return this._macAddress.valueChanged.add(a)},unwatchMacAddress:function(a){return this._macAddress.valueChanged.remove(a)},watchImei:function(a){return this._imei.valueChanged.add(a)},unwatchImei:function(a){return this._imei.valueChanged.remove(a)},watchIccid:function(a){return this._iccid.valueChanged.add(a)},unwatchIccid:function(a){return this._iccid.valueChanged.remove(a)},watchImsi:function(a){return this._imsi.valueChanged.add(a)},unwatchImsi:function(a){return this._imsi.valueChanged.remove(a)},
watchPhoneNumber:function(a){return this._phoneNumber.valueChanged.add(a)},unwatchPhoneNumber:function(a){return this._phoneNumber.valueChanged.remove(a)},watchAvailableAdapters:function(a){return this._availableAdapters.valueChanged.add(a)},unwatchAvailableAdapters:function(a){return this._availableAdapters.valueChanged.remove(a)},watchCurrentAdapterId:function(a){return this._currentAdapterId.valueChanged.add(a)},unwatchCurrentAdapterId:function(a){return this._currentAdapterId.valueChanged.remove(a)},
watchAdapterAutoSelected:function(a){return this._isAdapterAutoSelected.valueChanged.add(a)},unwatchAdapterAutoSelected:function(a){return this._isAdapterAutoSelected.valueChanged.remove(a)}})})})();
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{NetworkStatistics:$.Class.extend({init:function(){var a=b.Property;this._connectionMode=new a(b.ConnectionMode.unknown);this._networkTechnology=new a(b.NetworkTechnology.none);this._connectionModePreference=new a(b.ConnectionModePreference.unknown);this._registrationStatus=new a(b.RegistrationStatus.unknown);this._passwordProtectionMode=new a(b.PasswordProtectionMode.notAvailable);this._cardUnlockTriesRemained=new a(-1);this._pinTriesRemained=
new a(-1);this._pukTriesRemained=new a(-1);this._isAutoNetworkSelection=new a(!0);this._networkName=new a("");this._networkId=new a(0);this._baseStationId=new a("");this._centerFrequency=new a;this._signalQuality=new a;this._signalStrength=new a;this._referenceSignalQuality=new a;this._referenceSignalStrength=new a;this._signalLevel=new a;this._signalQualityPercent=new a;this._transmitPower=new a;this._totalBytesReceived=new a(0);this._totalBytesSent=new a(0);this._totalBytesReceivedToday=new a(0);
this._totalBytesSentToday=new a(0);this._totalBytesReceivedThisMonth=new a(0);this._totalBytesSentThisMonth=new a(0);this._totalBytesReceivedThisYear=new a(0);this._totalBytesSentThisYear=new a(0);this._ipAddress=new a("");this._currentIncomingSpeed=new a(0);this._maxIncomingSpeed=new a(0);this._currentOutgoingSpeed=new a(0);this._maxOutgoingSpeed=new a(0);this._connectedTime=new a},getConnectionMode:function(){return this._connectionMode.get()},getNetworkTechnology:function(){return this._networkTechnology.get()},
getConnectionModePreference:function(){return this._connectionModePreference.get()},getRegistrationStatus:function(){return this._registrationStatus.get()},getPasswordProtectionMode:function(){return this._passwordProtectionMode.get()},getCardUnlockTriesRemained:function(){return this._cardUnlockTriesRemained.get()},getPinTriesRemained:function(){return this._pinTriesRemained.get()},getPukTriesRemained:function(){return this._pukTriesRemained.get()},isAutoNetworkSelection:function(){return this._isAutoNetworkSelection.get()},
getNetworkName:function(){return this._networkName.get()},getNetworkId:function(){return this._networkId.get()},getBaseStationId:function(){return this._baseStationId.get()},getCenterFrequency:function(){return this._centerFrequency.get()},getSignalQuality:function(){return this._signalQuality.get()},getSignalStrength:function(){return this._signalStrength.get()},getReferenceSignalQuality:function(){return this._referenceSignalQuality.get()},getReferenceSignalStrength:function(){return this._referenceSignalStrength.get()},
getSignalLevel:function(){return this._signalLevel.get()},getSignalQualityPercent:function(){return this._signalQualityPercent.get()},getTransmitPower:function(){return this._transmitPower.get()},getTotalBytesReceived:function(){return this._totalBytesReceived.get()},getTotalBytesSent:function(){return this._totalBytesSent.get()},getTotalBytesReceivedToday:function(){return this._totalBytesReceivedToday.get()},getTotalBytesSentToday:function(){return this._totalBytesSentToday.get()},getTotalBytesReceivedThisMonth:function(){return this._totalBytesReceivedThisMonth.get()},
getTotalBytesSentThisMonth:function(){return this._totalBytesSentThisMonth.get()},getTotalBytesReceivedThisYear:function(){return this._totalBytesReceivedThisYear.get()},getTotalBytesSentThisYear:function(){return this._totalBytesSentThisYear.get()},getIpAddress:function(){return this._ipAddress.get()},getCurrentIncomingSpeed:function(){return this._currentIncomingSpeed.get()},getMaxIncomingSpeed:function(){return this._maxIncomingSpeed.get()},getCurrentOutgoingSpeed:function(){return this._currentOutgoingSpeed.get()},
getMaxOutgoingSpeed:function(){return this._maxOutgoingSpeed.get()},getConnectedTime:function(){return this._connectedTime.get()},watchConnectionMode:function(a){return this._connectionMode.valueChanged.add(a)},unwatchConnectionMode:function(a){return this._connectionMode.valueChanged.remove(a)},watchNetworkTechnology:function(a){return this._networkTechnology.valueChanged.add(a)},unwatchNetworkTechnology:function(a){return this._networkTechnology.valueChanged.remove(a)},watchConnectionModePreference:function(a){return this._connectionModePreference.valueChanged.add(a)},
unwatchConnectionModePreference:function(a){return this._connectionModePreference.valueChanged.remove(a)},watchRegistrationStatus:function(a){return this._registrationStatus.valueChanged.add(a)},unwatchRegistrationStatus:function(a){return this._registrationStatus.valueChanged.remove(a)},watchPasswordProtectionMode:function(a){return this._passwordProtectionMode.valueChanged.add(a)},unwatchPasswordProtectionMode:function(a){return this._passwordProtectionMode.valueChanged.remove(a)},watchCardUnlockTriesRemained:function(a){return this._cardUnlockTriesRemained.valueChanged.add(a)},
unwatchCardUnlockTriesRemained:function(a){return this._cardUnlockTriesRemained.valueChanged.remove(a)},watchPinTriesRemained:function(a){return this._pinTriesRemained.valueChanged.add(a)},unwatchPinTriesRemained:function(a){return this._pinTriesRemained.valueChanged.remove(a)},watchPukTriesRemained:function(a){return this._pukTriesRemained.valueChanged.add(a)},unwatchPukTriesRemained:function(a){return this._pukTriesRemained.valueChanged.remove(a)},watchAutoNetworkSelection:function(a){return this._isAutoNetworkSelection.valueChanged.add(a)},
unwatchAutoNetworkSelection:function(a){return this._isAutoNetworkSelection.valueChanged.remove(a)},watchNetworkName:function(a){return this._networkName.valueChanged.add(a)},unwatchNetworkName:function(a){return this._networkName.valueChanged.remove(a)},watchNetworkId:function(a){return this._networkId.valueChanged.add(a)},unwatchNetworkId:function(a){return this._networkId.valueChanged.remove(a)},watchBaseStationId:function(a){return this._baseStationId.valueChanged.add(a)},unwatchBaseStationId:function(a){return this._baseStationId.valueChanged.remove(a)},
watchCenterFrequency:function(a){return this._centerFrequency.valueChanged.add(a)},unwatchCenterFrequency:function(a){return this._centerFrequency.valueChanged.remove(a)},watchSignalQuality:function(a){return this._signalQuality.valueChanged.add(a)},unwatchSignalQuality:function(a){return this._signalQuality.valueChanged.remove(a)},watchSignalStrength:function(a){return this._signalStrength.valueChanged.add(a)},unwatchSignalStrength:function(a){return this._signalStrength.valueChanged.remove(a)},
watchReferenceSignalQuality:function(a){return this._referenceSignalQuality.valueChanged.add(a)},unwatchReferenceSignalQuality:function(a){return this._referenceSignalQuality.valueChanged.remove(a)},watchReferenceSignalStrength:function(a){return this._referenceSignalStrength.valueChanged.add(a)},unwatchReferenceSignalStrength:function(a){return this._referenceSignalStrength.valueChanged.remove(a)},watchSignalLevel:function(a){return this._signalLevel.valueChanged.add(a)},unwatchSignalLevel:function(a){return this._signalLevel.valueChanged.remove(a)},
watchSignalQualityPercent:function(a){return this._signalQualityPercent.valueChanged.add(a)},unwatchSignalQualityPercent:function(a){return this._signalQualityPercent.valueChanged.remove(a)},watchTransmitPower:function(a){return this._transmitPower.valueChanged.add(a)},unwatchTransmitPower:function(a){return this._transmitPower.valueChanged.remove(a)},watchTotalBytesReceived:function(a){return this._totalBytesReceived.valueChanged.add(a)},unwatchTotalBytesReceived:function(a){return this._totalBytesReceived.valueChanged.remove(a)},
watchTotalBytesSent:function(a){return this._totalBytesSent.valueChanged.add(a)},unwatchTotalBytesSent:function(a){return this._totalBytesSent.valueChanged.remove(a)},watchTotalBytesReceivedToday:function(a){return this._totalBytesReceivedToday.valueChanged.add(a)},unwatchTotalBytesReceivedToday:function(a){return this._totalBytesReceivedToday.valueChanged.remove(a)},watchTotalBytesSentToday:function(a){return this._totalBytesSentToday.valueChanged.add(a)},unwatchTotalBytesSentToday:function(a){return this._totalBytesSentToday.valueChanged.remove(a)},
watchTotalBytesReceivedThisMonth:function(a){return this._totalBytesReceivedThisMonth.valueChanged.add(a)},unwatchTotalBytesReceivedThisMonth:function(a){return this._totalBytesReceivedThisMonth.valueChanged.remove(a)},watchTotalBytesSentThisMonth:function(a){return this._totalBytesSentThisMonth.valueChanged.add(a)},unwatchTotalBytesSentThisMonth:function(a){return this._totalBytesSentThisMonth.valueChanged.remove(a)},watchTotalBytesReceivedThisYear:function(a){return this._totalBytesReceivedThisYear.valueChanged.add(a)},
unwatchTotalBytesReceivedThisYear:function(a){return this._totalBytesReceivedThisYear.valueChanged.remove(a)},watchTotalBytesSentThisYear:function(a){return this._totalBytesSentThisYear.valueChanged.add(a)},unwatchTotalBytesSentThisYear:function(a){return this._totalBytesSentThisYear.valueChanged.remove(a)},watchIpAddress:function(a){return this._ipAddress.valueChanged.add(a)},unwatchIpAddress:function(a){return this._ipAddress.valueChanged.remove(a)},watchCurrentIncomingSpeed:function(a){return this._currentIncomingSpeed.valueChanged.add(a)},
unwatchCurrentIncomingSpeed:function(a){return this._currentIncomingSpeed.valueChanged.remove(a)},watchMaxIncomingSpeed:function(a){return this._maxIncomingSpeed.valueChanged.add(a)},unwatchMaxIncomingSpeed:function(a){return this._maxIncomingSpeed.valueChanged.remove(a)},watchCurrentOutgoingSpeed:function(a){return this._currentOutgoingSpeed.valueChanged.add(a)},unwatchCurrentOutgoingSpeed:function(a){return this._currentOutgoingSpeed.valueChanged.remove(a)},watchMaxOutgoingSpeed:function(a){return this._maxOutgoingSpeed.valueChanged.add(a)},
unwatchMaxOutgoingSpeed:function(a){return this._maxOutgoingSpeed.valueChanged.remove(a)},watchConnectedTime:function(a){return this._connectedTime.valueChanged.add(a)},unwatchConnectedTime:function(a){return this._connectedTime.valueChanged.remove(a)}})})})();
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{Device:$.Class.extend({init:function(a,c){var e=b.ConnectionMode,h=b.DeviceGroup,l=b.DeviceInfo,d=b.NetworkStatistics,f=b.NetworkTechnology,m=signals.Signal;this.enterPasswordSucceeded=new m;this.enterPasswordFailed=new m;this.resetPasswordSucceeded=new m;this.resetPasswordFailed=new m;this.changePasswordSucceeded=new m;this.changePasswordFailed=new m;this.enablePasswordSucceeded=new m;this.enablePasswordFailed=new m;this.disablePasswordSucceeded=
new m;this.disablePasswordFailed=new m;this.enterCardUnlockCodeSucceeded=new m;this.enterCardUnlockCodeFailed=new m;this.networkSelectionSucceeded=new m;this.networkSelectionFailed=new m;this.networkListRetrievalSucceeded=new m;this.networkListRetrievalFailed=new m;this._deviceGroup=a;this._proxy=c;this._deviceInfo=new l;this._networkStatistics=new d;switch(a){case h.wifi:this._deviceInfo._supportedNetworkTechnologies.set(f.wifi);this._networkStatistics._connectionMode.set(e.wifi);this._networkStatistics._networkTechnology.set(f.wifi);
break;case h.fixed:this._deviceInfo._supportedNetworkTechnologies.set(f.ethernet),this._networkStatistics._connectionMode.set(e.ethernet),this._networkStatistics._networkTechnology.set(f.ethernet)}},getDeviceInfo:function(){return this._deviceInfo},getNetworkStatistics:function(){return this._networkStatistics},getLocalUsage:function(a,b,e){this._proxy.getLocalUsage(this._deviceGroup,a,b,e)},getLocalUsages:function(a,b){this._proxy.getLocalUsages(this._deviceGroup,a,b)},enterPassword:function(a,b){this._proxy.enterDevicePassword(this._deviceGroup,
a,b)},disablePassword:function(a,b){this._proxy.disableDevicePassword(this._deviceGroup,a,b)},enablePassword:function(a,b){this._proxy.enableDevicePassword(this._deviceGroup,a,b)},changePassword:function(a,b,e){this._proxy.changeDevicePassword(this._deviceGroup,a,b,e)},resetPassword:function(a,b,e){this._proxy.resetDevicePassword(this._deviceGroup,a,b,e)},enterCardUnlockCode:function(a,b){this._proxy.enterDeviceCardUnlockCode(this._deviceGroup,a,b)},turnOn:function(){this._proxy.turnOnDevice(this._deviceGroup)},
turnOff:function(){this._proxy.turnOffDevice(this._deviceGroup)},connect:function(){this._proxy.connectDevice(this._deviceGroup)},disconnect:function(){this._proxy.disconnectDevice(this._deviceGroup)},sendMessage:function(a){this._proxy.sendNetworkMessage(this._deviceGroup,a)}})})})();
(function(){var b=$.namespace("com.rooxteam.network");$.extend(b,{MessageStore:$.Class.extend({init:function(a){var b=signals.Signal;this.messageAdded=new b;this.messageUpdated=new b;this.messageRemoved=new b;this._proxy=a},getMessages:function(){return this._proxy.getNetworkMessages()},addMessage:function(a){this._proxy.addNetworkMessage(a)},removeMessage:function(a){this._proxy.removeNetworkMessage(a)},updateMessage:function(a){this._proxy.updateNetworkMessage(a)},updateMessageUnread:function(a,
b){this._proxy.updateNetworkMessageUnread(a,b)}})})})();
(function(){function b(a,b){window.top.postMessage(JSON.stringify({id:a,data:b?b:{}}),"*")}function a(a,c){b(H+a,c)}function c(a){var b=null;try{b=JSON.parse(a.data)}catch(c){return}if(b&&b.id){if("undefined"!==typeof ApplicationTree&&b.id.length>M&&0==b.id.indexOf(H)){a=ApplicationTree.App.Actions;var d=b.id.substring(M);switch(d){case "TurnOnDevice":case "TurnOnWifiDevice":case "TurnOnFixedDevice":case "TurnOffDevice":case "TurnOffWifiDevice":case "TurnOffFixedDevice":case "StartConnecting":case "StartDisconnecting":a[d].unit.callback();break;
case "EnterDevicePassword":a[d].unit.callback(b.data.pin);break;case "DisableDevicePassword":a[d].unit.callback(b.data.currentPin);break;case "EnableDevicePassword":a[d].unit.callback(b.data.currentPin);break;case "ChangeDevicePassword":a[d].unit.callback(b.data.currentPin,b.data.newPin);break;case "ResetDevicePassword":a[d].unit.callback(b.data.puk,b.data.newPin);break;case "EnterDeviceCardUnlockCode":a[d].unit.callback(b.data.code);break;case "AddNetworkMessage":a[d].unit.callback(b.data.message);
break;case "RemoveNetworkMessage":a[d].unit.callback(b.data.messageId);break;case "SendNetworkMessage":a[d].unit.callback(b.data.message);break;case "UpdateNetworkMessage":a[d].unit.callback(b.data.message);break;case "UpdateNetworkMessageUnread":a[d].unit.callback(b.data.messageId,b.data.isUnread);break;case "AddChangeNetworkProfile":a[d].unit.callback(b.data.profile);break;case "RemoveNetworkProfile":a[d].unit.callback(b.data.profileId);break;case "ActivateNetworkProfile":a[d].unit.callback(b.data.profileId)}}if(b.id.length>
E&&0==b.id.indexOf(x))switch(b.id.substring(E)){case "ChangeDevicePasswordFailed":g.changePasswordFailed.dispatch();w.dispatch(!1);break;case "ChangeDevicePasswordSucceeded":g.changePasswordSucceeded.dispatch();w.dispatch(!0);break;case "EnableDevicePasswordFailed":g.enablePasswordFailed.dispatch();r.dispatch(!1);break;case "EnableDevicePasswordSucceeded":g.enablePasswordSucceeded.dispatch();r.dispatch(!0);break;case "EnterDeviceCardUnlockCodeFailed":g.enterCardUnlockCodeFailed.dispatch();N.dispatch(!1);
break;case "EnterDeviceCardUnlockCodeSucceeded":g.enterCardUnlockCodeSucceeded.dispatch();N.dispatch(!0);break;case "EnterDevicePasswordFailed":g.enterPasswordFailed.dispatch();R.dispatch(!1);break;case "EnterDevicePasswordSucceeded":g.enterPasswordSucceeded.dispatch();R.dispatch(!0);break;case "DisableDevicePasswordFailed":g.disablePasswordFailed.dispatch();u.dispatch(!1);break;case "DisableDevicePasswordSucceeded":g.disablePasswordSucceeded.dispatch();u.dispatch(!0);break;case "NetworkListRetrievalFailed":g.networkListRetrievalFailed.dispatch();
break;case "NetworkListRetrievalSucceeded":g.networkListRetrievalSucceeded.dispatch();break;case "NetworkMessageAdded":W.messageAdded.dispatch(b.data.message);break;case "NetworkMessageRemoved":W.messageRemoved.dispatch(b.data.messageId);break;case "NetworkMessageUpdated":W.messageUpdated.dispatch(b.data.message);break;case "NetworkSelectionFailed":g.networkSelectionFailed.dispatch();break;case "NetworkSelectionSucceeded":g.networkSelectionSucceeded.dispatch();break;case "ResetDevicePasswordFailed":g.resetPasswordFailed.dispatch();
Q.dispatch(!1);break;case "ResetDevicePasswordSucceeded":g.resetPasswordSucceeded.dispatch(),Q.dispatch(!0)}}}function e(a){if(a&&!(a.length<=K||0!=a.indexOf(G))){var b=null;switch(a.substring(K)){case "AppState":b=m._appState;break;case "MainState":b=m._mobileState;break;case "WifiState":b=m._wifiState;break;case "FixedState":b=m._fixedState;break;case "SupportedNetworkTechnologies":b=T._supportedNetworkTechnologies;break;case "DriverVersion":b=T._driverVersion;break;case "ModelName":b=T._modelName;
break;case "FirmwareVersion":b=T._firmwareVersion;break;case "WebGuiUrl":b=T._webGuiUrl;break;case "MacAddress":b=T._macAddress;break;case "Imei":b=T._imei;break;case "Iccid":b=T._iccid;break;case "Imsi":b=T._imsi;break;case "PhoneNumber":b=T._phoneNumber;break;case "TotalBytesReceived":b=L._totalBytesReceived;break;case "TotalBytesSent":b=L._totalBytesSent;break;case "TotalBytesReceivedToday":b=L._totalBytesReceivedToday;break;case "TotalBytesSentToday":b=L._totalBytesSentToday;break;case "TotalBytesReceivedThisMonth":b=
L._totalBytesReceivedThisMonth;break;case "TotalBytesSentThisMonth":b=L._totalBytesSentThisMonth;break;case "TotalBytesReceivedThisYear":b=L._totalBytesReceivedThisYear;break;case "TotalBytesSentThisYear":b=L._totalBytesSentThisYear;break;case "CurrentIncomingSpeed":b=L._currentIncomingSpeed;break;case "MaxIncomingSpeed":b=L._maxIncomingSpeed;break;case "CurrentOutgoingSpeed":b=L._currentOutgoingSpeed;break;case "MaxOutgoingSpeed":b=L._maxOutgoingSpeed;break;case "BaseStationId":b=L._baseStationId;
break;case "CenterFrequency":b=L._centerFrequency;break;case "SignalQuality":b=L._signalQuality;break;case "SignalStrength":b=L._signalStrength;break;case "ReferenceSignalQuality":b=L._referenceSignalQuality;break;case "ReferenceSignalStrength":b=L._referenceSignalStrength;break;case "SignalLevel":b=L._signalLevel;break;case "SignalQualityPercent":b=L._signalQualityPercent;break;case "TransmitPower":b=L._transmitPower;break;case "IpAddress":b=L._ipAddress;break;case "ConnectionMode":b=L._connectionMode;
break;case "NetworkTechnology":b=L._networkTechnology;break;case "ConnectionModePreference":b=L._connectionModePreference;break;case "RegistrationStatus":b=L._registrationStatus;break;case "PasswordProtectionMode":b=L._passwordProtectionMode;break;case "CardUnlockTriesRemained":b=L._cardUnlockTriesRemained;break;case "PinTriesRemained":b=L._pinTriesRemained;break;case "PukTriesRemained":b=L._pukTriesRemained;break;case "NetworkName":b=L._networkName;break;case "NetworkId":b=L._networkId;break;case "IsAutoNetworkSelection":b=
L._isAutoNetworkSelection;break;case "ConnectedTime":b=L._connectedTime;break;case "WifiDriverVersion":b=ba._driverVersion;break;case "WifiModelName":b=ba._modelName;break;case "WifiFirmwareVersion":b=ba._firmwareVersion;break;case "WifiMacAddress":b=ba._macAddress;break;case "WifiTotalBytesReceived":b=O._totalBytesReceived;break;case "WifiTotalBytesSent":b=O._totalBytesSent;break;case "WifiTotalBytesReceivedToday":b=O._totalBytesReceivedToday;break;case "WifiTotalBytesSentToday":b=O._totalBytesSentToday;
break;case "WifiTotalBytesReceivedThisMonth":b=O._totalBytesReceivedThisMonth;break;case "WifiTotalBytesSentThisMonth":b=O._totalBytesSentThisMonth;break;case "WifiTotalBytesReceivedThisYear":b=O._totalBytesReceivedThisYear;break;case "WifiTotalBytesSentThisYear":b=O._totalBytesSentThisYear;break;case "WifiCurrentIncomingSpeed":b=O._currentIncomingSpeed;break;case "WifiMaxIncomingSpeed":b=O._maxIncomingSpeed;break;case "WifiCurrentOutgoingSpeed":b=O._currentOutgoingSpeed;break;case "WifiMaxOutgoingSpeed":b=
O._maxOutgoingSpeed;break;case "WifiBaseStationId":b=O._baseStationId;break;case "WifiSignalStrength":b=O._signalStrength;break;case "WifiSignalQualityPercent":b=O._signalQualityPercent;break;case "WifiIpAddress":b=O._ipAddress;break;case "WifiNetworkName":b=O._networkName;break;case "FixedDriverVersion":b=ca._driverVersion;break;case "FixedModelName":b=ca._modelName;break;case "FixedFirmwareVersion":b=ca._firmwareVersion;break;case "FixedAvailableAdapters":b=ca._availableAdapters;break;case "FixedCurrentAdapterId":b=
ca._currentAdapterId;break;case "IsFixedAdapterAutoSelected":b=ca._isAdapterAutoSelected;break;case "FixedMacAddress":b=ca._macAddress;break;case "FixedTotalBytesReceived":b=F._totalBytesReceived;break;case "FixedTotalBytesSent":b=F._totalBytesSent;break;case "FixedTotalBytesReceivedToday":b=F._totalBytesReceivedToday;break;case "FixedTotalBytesSentToday":b=F._totalBytesSentToday;break;case "FixedTotalBytesReceivedThisMonth":b=F._totalBytesReceivedThisMonth;break;case "FixedTotalBytesSentThisMonth":b=
F._totalBytesSentThisMonth;break;case "FixedTotalBytesReceivedThisYear":b=F._totalBytesReceivedThisYear;break;case "FixedTotalBytesSentThisYear":b=F._totalBytesSentThisYear;break;case "FixedCurrentIncomingSpeed":b=F._currentIncomingSpeed;break;case "FixedMaxIncomingSpeed":b=F._maxIncomingSpeed;break;case "FixedCurrentOutgoingSpeed":b=F._currentOutgoingSpeed;break;case "FixedMaxOutgoingSpeed":b=F._maxOutgoingSpeed;break;case "FixedIpAddress":b=F._ipAddress}null!==b&&(a=D.getDataSet(a),null===a?b.reset():
b.set(a))}}function h(a){a.key&&0==a.key.indexOf("com.roox.cm.Common.")&&e(a.key)}function l(){m._isOnline.set(m.getAppState()==s.normal&&(m.getMobileState()==B.connected||m.getWifiState()==I.connected||m.getFixedState()==v.connected))}function d(){m._isRoaming.set(L.getRegistrationStatus()==z.registeredRoaming)}var f=$.namespace("com.rooxteam.network.proxy"),m=com.rooxteam.network,s=m.AppState,p=m.DeviceGroup,v=m.FixedState,B=m.MobileState,t=signals.Signal,I=m.WifiState,z=m.RegistrationStatus,x=
"com.roox.cm.Common.App.Events.",E=x.length,G="com.roox.cm.Common.App.Properties.unit.",K=G.length,H="com.roox.cm.Common.App.",M=H.length,R,Q,w,r,u,N,D,g,T,L,P,ba,O,U,ca,F,W;$.extend(f,{Cm:$.Class.extend({init:function(){R=new t;Q=new t;w=new t;r=new t;u=new t;N=new t;D=com.rooxteam.sharedcontext.getDataContext()},initProxy:function(){g=m.getMobileDevice();T=g.getDeviceInfo();L=g.getNetworkStatistics();P=m.getWifiDevice();ba=P.getDeviceInfo();O=P.getNetworkStatistics();U=m.getFixedDevice();ca=U.getDeviceInfo();
F=U.getNetworkStatistics();W=m.getMessageStore();gadgets.util.attachBrowserEvent(window,"message",c,!1);gadgets.util.attachBrowserEvent(window,"storage",h,!1);m.watchAppState(l);m.watchMobileState(l);m.watchWifiState(l);m.watchFixedState(l);L.watchRegistrationStatus(d);if("undefined"!==typeof ApplicationTree){var a=ApplicationTree.App.Events,f=ApplicationTree.App.Properties.Events,r=function(c){a[c].addChildUnit("RooxWidgets",{callback:function(){b(x+c,void 0)}})},w=function(c,d){a[c].addChildUnit("RooxWidgets",
{callback:function(a){var g={};g[d]=a;b(x+c,g)}})};r("ChangeDevicePasswordFailed");r("ChangeDevicePasswordSucceeded");r("EnableDevicePasswordFailed");r("EnableDevicePasswordSucceeded");r("EnterDeviceCardUnlockCodeFailed");r("EnterDeviceCardUnlockCodeSucceeded");r("EnterDevicePasswordFailed");r("EnterDevicePasswordSucceeded");r("DisableDevicePasswordFailed");r("DisableDevicePasswordSucceeded");r("NetworkListRetrievalFailed");r("NetworkListRetrievalSucceeded");w("NetworkMessageAdded","message");w("NetworkMessageRemoved",
"messageId");w("NetworkMessageUpdated","message");r("NetworkSelectionFailed");r("NetworkSelectionSucceeded");r("ResetDevicePasswordFailed");r("ResetDevicePasswordSucceeded");f.PropertyChanged.addChildUnit("RooxWidgets",{propertyName:"",callback:function(a,b){D.putDataSet(G+a,b)}})}var f=D.getDataKeys(),u;for(u in f)e(f[u])},dispose:function(){m.unwatchAppState(l);m.unwatchMobileState(l);m.unwatchWifiState(l);m.unwatchFixedState(l);L.unwatchRegistrationStatus(d)},getLocalUsage:function(a,b,c,d){d&&
d({bytesReceived:0,bytesSent:0})},getLocalUsages:function(a,b,c){c&&c([])},enterDevicePassword:function(b,c,d){b==p.mobile&&(d&&R.addOnce(function(a){d(a)}),a("EnterDevicePassword",{pin:c}))},disableDevicePassword:function(b,c,d){b==p.mobile&&(d&&u.addOnce(function(a){d(a)}),a("DisableDevicePassword",{currentPin:c}))},enableDevicePassword:function(b,c,d){b==p.mobile&&(d&&r.addOnce(function(a){d(a)}),a("EnableDevicePassword",{currentPin:c}))},changeDevicePassword:function(b,c,d,g){b==p.mobile&&(g&&
w.addOnce(function(a){g(a)}),a("ChangeDevicePassword",{currentPin:c,newPin:d}))},resetDevicePassword:function(b,c,d,g){b==p.mobile&&(g&&Q.addOnce(function(a){g(a)}),a("ResetDevicePassword",{puk:c,newPin:d}))},enterDeviceCardUnlockCode:function(b,c,d){b==p.mobile&&(d&&N.addOnce(function(a){d(a)}),a("EnterDeviceCardUnlockCode",{code:c}))},turnOnDevice:function(b){switch(b){case p.mobile:a("TurnOnDevice");break;case p.wifi:a("TurnOnWifiDevice");break;case p.fixed:a("TurnOnFixedDevice")}},turnOffDevice:function(b){switch(b){case p.mobile:a("TurnOffDevice");
break;case p.wifi:a("TurnOffWifiDevice");break;case p.fixed:a("TurnOffFixedDevice")}},connectDevice:function(b){b==p.mobile&&a("StartConnecting")},disconnectDevice:function(b){b==p.mobile&&a("StartDisconnecting")},sendNetworkMessage:function(b,c){b==p.mobile&&a("SendNetworkMessage",{message:c})},getNetworkMessages:function(){var a=D.getDataSet(G+"NetworkMessages");if(!a)return[];for(var b in a)a.hasOwnProperty(b)&&a[b].timeStamp&&(a[b].timeStamp=new Date(Date.parse(a[b].timeStamp)));return a},addNetworkMessage:function(b){a("AddNetworkMessage",
{message:b})},removeNetworkMessage:function(b){a("RemoveNetworkMessage",{messageId:b})},updateNetworkMessage:function(b){a("UpdateNetworkMessage",{message:b})},updateNetworkMessageUnread:function(b,c){a("UpdateNetworkMessageUnread",{messageId:b,isUnread:c})},addChangeNetworkProfile:function(b){a("AddChangeNetworkProfile",{profile:b})},removeNetworkProfile:function(b){a("RemoveNetworkProfile",{profileId:b})},activateNetworkProfile:function(b){a("ActivateNetworkProfile",{profileId:b})}})})})();
(function(){function b(a){console&&console.info("MBN: "+a.toString())}function a(a,b){var c=A.deviceNotReady;b&&(c=b.networkDeviceStatus);c==A.deviceNotReady&&a&&(c=a.networkDeviceStatus);switch(c){case A.deviceNotReady:return O.deviceAbsent;case A.deviceReady:if(b&&b.currentRadioState==aa.off)return O.softwareOff;if(a){switch(a.networkActivationState){case n.activated:return a.ipAddress?O.connected:O.obtainingIp;case n.activating:return O.connecting;case n.deactivating:return O.disconnecting}if(b&&
b.registeredProviderId||a&&a.registeredProviderId)return O.readyToConnect}return O.scanning;case A.simNotInserted:return O.simAbsent;case A.badSim:return O.cardUnlockCodeRequired;case A.deviceHardwareFailure:return O.deviceAbsent;case A.accountNotActivated:return O.deviceAbsent;case A.deviceLocked:return O.passwordRequired;case A.deviceBlocked:return O.passwordResetRequired;default:return O.deviceAbsent}}function c(a,b){var c=U.none;if(0!=(a&da.gprs)||0!=(a&da.edge))c|=U.secondGen;if(0!=(a&da.umts)||
0!=(a&da.hsdpa)||0!=(a&da.hsupa))c|=U.thirdGen;0!=(a&da.lteAdvanced)&&(c|=U.lte);if(0!=(a&da.custom)){var d=b.toUpperCase();"HSPA"==d||"HSPA+"==d||(c|=U.secondGen);c|=U.thirdGen;c|=U.lte}return c}function e(a){switch(a){case da.none:return P.noService;case da.gprs:return P.gprs;case da.edge:return P.edge;case da.umts:return P.umts;case da.hsdpa:return P.hsdpa;case da.hsupa:return P.hsupa;case da.lteAdvanced:return P.lte;default:return P.unknown}}function h(a){switch(a){case P.unknown:case P.noService:case P.limitedService:return U.none;
case P.gsm:case P.gprs:case P.edge:return U.secondGen;case P.umts:case P.hsdpa:case P.hsupa:case P.hspa:case P.hspaPlus:return U.thirdGen;case P.lte:return U.lte;case P.wimax:return U.wimax;case P.cdma2000:return U.cdma2000;case P.wifi:return U.wifi;case P.ethernet:return U.ethernet;default:return U.none}}function l(a){switch(a){case ka.none:return F.notRegisteredNotSearching;case ka.deregistered:return F.notRegisteredNotSearching;case ka.searching:return F.notRegisteringSearching;case ka.home:return F.registeredHomeNetwork;
case ka.roaming:case ka.partner:return F.registeredRoaming;case ka.denied:return F.registrationDenied;default:return F.notRegisteredNotSearching}}function d(a){switch(0<=a?a:0){case 0:return W.level0;case 1:return W.level1;case 2:return W.level2;case 3:return W.level3;case 4:return W.level4}return W.level5}function f(){var b=J.getNetworkAdapterInfo(Y),g=J.getNetworkAccountInfo(ia),f=a(b,g);u._mobileState.set(f);if(b){b.isPinSupported?(b.isPinEnabled?q._passwordProtectionMode.set(ca.enabled):q._passwordProtectionMode.set(ca.disabled),
q._pinTriesRemained.set(b.pinTriesRemained),q._pukTriesRemained.set(b.pukTriesRemained)):(q._passwordProtectionMode.set(ca.notAvailable),q._pinTriesRemained.reset(),q._pukTriesRemained.reset());0<=b.barsCount?q._signalLevel.set(d(b.barsCount)):q._signalLevel.reset();var m=U.none,n="",r="",w="",p="",D="",t="",s=[];g?(m=c(g.dataClasses,g.customDataClass),n=g.manufacturer+" "+g.model,r=g.firmwareInformation,w=g.driverVersion,p=g.mobileEquipmentId,D=g.simIccId,t=g.subscriberId,s=g.telephoneNumbers):(m=
c(b.dataClasses,b.customDataClass),n=b.manufacturer+" "+b.model,r=b.firmwareInformation,w=b.driverVersion,p=b.mobileEquipmentId,D=b.simIccId,t=b.subscriberId,s=b.telephoneNumbers);Z._supportedNetworkTechnologies.set(m);Z._driverVersion.set(w);Z._modelName.set(n);Z._firmwareVersion.set(r);Z._imei.set(p);Z._iccid.set(D);Z._imsi.set(t);Z._phoneNumber.set(s&&0<s.length?s[0]:"");m="";n=P.noService;r=ka.none;w="";p=0;f!=O.deviceAbsent&&(f!=O.passwordRequired&&f!=O.passwordResetRequired&&f!=O.cardUnlockCodeRequired&&
f!=O.simAbsent)&&(g?(m=g.registeredProviderId?g.registeredProviderId+"00000000":"",n=e(g.registeredDataClass),r=l(g.networkRegistrationState),w=g.registeredProviderName,w||(w=g.serviceProviderName),w||(w=g.registeredProviderId),p=g.registeredProviderId):(m=b.registeredProviderId?b.registeredProviderId+"00000000":"",n=e(b.registeredDataClass),r=l(b.networkRegistrationState),w=b.registeredProviderName,w||(w=b.registeredProviderId),p=b.registeredProviderId));q._baseStationId.set(m);q._connectionMode.set(n);
q._networkTechnology.set(h(n));q._registrationStatus.set(r);q._networkName.set(w);q._networkId.set(p);b.ipAddress!=q.getIpAddress()&&(b.ipAddress?q._connectedTime.set(new Date):q._connectedTime.reset(),q._ipAddress.set(b.ipAddress))}}function m(a){b("_processAdapterAdded: "+a.networkAdapterId);if(Y)Y==a.networkAdapterId&&f();else{if(ia){var c=J.getNetworkAccountInfo(ia);if(!c||c.networkAdapterId!=a.networkAdapterId)return}Y=a.networkAdapterId;f()}}function s(a){b("_processAccountAdded: "+a.networkAccountId);
if(ia)ia==a.networkAccountId&&f();else{var c=J.getNetworkAccountInfo(a.networkAccountId);c&&(Y?c.networkAdapterId!=Y&&(R(),Y=c.networkAdapterId):Y=c.networkAdapterId,ia=a.networkAccountId,f())}}function p(a){b("_processAdapterUpdated: "+a.networkAdapterId);Y===a.networkAdapterId&&f()}function v(a){b("_processAccountUpdated: "+a.networkAccountId);if(ia===a.networkAccountId){if((a=J.getNetworkAccountInfo(ia))&&!Y)Y=a.networkAdapterId;f()}}function B(a){b("_processAdapterRemoved: "+a.networkAdapterId);
Y===a.networkAdapterId&&(R(),0<J.availableNetworkAccountIds.size?s({networkAccountId:J.availableNetworkAccountIds[0]}):J&&0<J.availableNetworkAdapterIds.size&&m({networkAdapterId:J.availableNetworkAdapterIds[0]}))}function t(a){b("_processAccountRemoved: "+a.networkAccountId);ia===a.networkAccountId&&(R(),0<J.availableNetworkAccountIds.size?s({networkAccountId:J.availableNetworkAccountIds[0]}):J&&0<J.availableNetworkAdapterIds.size&&m({networkAdapterId:J.availableNetworkAdapterIds[0]}))}function I(a){a.message&&
a.message.data&&(b("_processMessageAdded: "+a.message.data.messageId),ta.messageAdded.dispatch(a.message.data))}function z(a){a.message&&a.message.data&&(b("_processMessageUpdated: "+a.message.data.messageId),ta.messageUpdated.dispatch(a.message.data))}function x(a){b("_processMessageRemoved: "+a.messageId);ta.messageRemoved.dispatch(a.messageId)}function E(a){_enterPasswordCompleted.dispatch(a.isOk)}function G(a){_disablePasswordCompleted.dispatch(a.isOk)}function K(a){_enablePasswordCompleted.dispatch(a.isOk)}
function H(a){_changePasswordCompleted.dispatch(a.isOk)}function M(a){_resetPasswordCompleted.dispatch(a.isOk)}function R(){Y=ia=null;u._mobileState.reset();Z._supportedNetworkTechnologies.reset();Z._modelName.reset();Z._firmwareVersion.reset();Z._imei.reset();Z._iccid.reset();Z._imsi.reset();Z._phoneNumber.reset();q._baseStationId.reset();q._ipAddress.reset();q._connectionMode.reset();q._networkTechnology.reset();q._registrationStatus.reset();q._networkName.reset();q._networkId.reset();q._connectedTime.reset()}
function Q(){var a=J.internetConnectionInfo;u._isOnline.set(a.networkConnectivityLevel==ga.internetAccess);u._isRoaming.set(a.isRoaming)}function w(a){var b=new ea(a.kind),c;for(c in a)a.hasOwnProperty(c)&&(b.data[c]=a[c]);return b}var r=$.namespace("com.rooxteam.network.proxy");if(!("undefined"===typeof Windows||"undefined"===typeof Roox.DotNetWrapper.MbnApiProvider)){var u=com.rooxteam.network,N=Windows.Networking,D=N.NetworkOperators,g=Roox.DotNetWrapper,T=signals.Signal,L=u.AppState,P=u.ConnectionMode,
ba=u.DeviceGroup,O=u.MobileState,U=u.NetworkTechnology,ca=u.PasswordProtectionMode,F=u.RegistrationStatus,W=u.SignalLevel,da=D.DataClasses,aa=D.MobileBroadbandRadioState,ga=N.Connectivity.NetworkConnectivityLevel,A=D.NetworkDeviceStatus,ka=D.NetworkRegistrationState,fa=Windows.UI.ApplicationSettings.SettingsPane,n=g.NetworkActivationState,y=g.MbnApiProvider,ea=g.Message,la=g.MessageManager,ha,Z,q,V,X,ta,J,ma,ia=null,Y=null;$.extend(r,{Mbn:$.Class.extend({init:function(){_enterPasswordCompleted=new T;
_resetPasswordCompleted=new T;_changePasswordCompleted=new T;_enablePasswordCompleted=new T;_disablePasswordCompleted=new T},initProxy:function(){ha=u.getMobileDevice();Z=ha.getDeviceInfo();q=ha.getNetworkStatistics();V=u.getWifiDevice();V.getDeviceInfo();V.getNetworkStatistics();X=u.getFixedDevice();X.getDeviceInfo();X.getNetworkStatistics();ta=u.getMessageStore();u._appState.set(L.normal);ma=la.instance;ma.addEventListener("messageadded",I);ma.addEventListener("messageupdated",z);ma.addEventListener("messageremoved",
x);J=y.instance;J.addEventListener("adapteradded",m);J.addEventListener("adapterupdated",p);J.addEventListener("adapterremoved",B);J.addEventListener("internetconnectionchanged",Q);J.addEventListener("enterpasswordcompleted",E);J.addEventListener("disablepasswordcompleted",G);J.addEventListener("enablepasswordcompleted",K);J.addEventListener("changepasswordcompleted",H);J.addEventListener("resetpasswordcompleted",M);J.addEventListener("accountadded",s);J.addEventListener("accountupdated",v);J.addEventListener("accountremoved",
t);J.start();Q();for(var a=J.availableNetworkAccountIds,b=0;b<a.size;b++)s({networkAccountId:a[b]});a=J.availableNetworkAdapterIds;for(b=0;b<a.size;b++)m({networkAdapterId:a[b]})},dispose:function(){J.stop();J.removeEventListener("adapteradded",m);J.removeEventListener("adapterupdated",p);J.removeEventListener("adapterremoved",B);J.removeEventListener("internetconnectionchanged",Q);J.removeEventListener("enterpasswordcompleted",E);J.removeEventListener("disablepasswordcompleted",G);J.removeEventListener("enablepasswordcompleted",
K);J.removeEventListener("changepasswordcompleted",H);J.removeEventListener("resetpasswordcompleted",M);J.removeEventListener("accountadded",s);J.removeEventListener("accountupdated",v);J.removeEventListener("accountremoved",t);ma.removeEventListener("messageadded",I);ma.removeEventListener("messageupdated",z);ma.removeEventListener("messageremoved",x)},getLocalUsage:function(a,b,c,d){a==ba.mobile&&J&&Y?J.getLocalUsageAsync(Y,b,c).done(function(a){d&&d(a)}):d&&d({bytesReceived:0,bytesSent:0})},getLocalUsages:function(a,
b,c){a==ba.mobile&&J&&Y&&b?J.getLocalUsagesAsync(Y,b).done(function(a){var b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(a[d]);c&&c(b)}):c&&c([])},enterDevicePassword:function(a,b,c){a==ba.mobile&&(J&&Y)&&(c&&_enterPasswordCompleted.addOnce(function(a){c(a)}),J.enterPassword(Y,b))},disableDevicePassword:function(a,b,c){a==ba.mobile&&(J&&Y)&&(c&&_disablePasswordCompleted.addOnce(function(a){c(a)}),J.disablePassword(Y,b))},enableDevicePassword:function(a,b,c){a==ba.mobile&&(J&&Y)&&(c&&_enablePasswordCompleted.addOnce(function(a){c(a)}),
J.enablePassword(Y,b))},changeDevicePassword:function(a,b,c,d){a==ba.mobile&&(J&&Y)&&(d&&_changePasswordCompleted.addOnce(function(a){d(a)}),J.changePassword(Y,b,c))},resetDevicePassword:function(a,b,c,d){a==ba.mobile&&(J&&Y)&&(d&&_resetPasswordCompleted.addOnce(function(a){d(a)}),J.resetPassword(Y,b,c))},enterDeviceCardUnlockCode:function(a,b,c){},turnOnDevice:function(a){},turnOffDevice:function(a){},connectDevice:function(a){if(a==ba.mobile&&J)if(ia)J.connect(ia);else try{fa.show()}catch(b){}},
disconnectDevice:function(a){if(a==ba.mobile&&J)if(ia)J.disconnect(ia);else try{fa.show()}catch(b){}},sendNetworkMessage:function(a,b){a==ba.mobile&&(J&&ia)&&J.sendMessage(ia,w(b))},getNetworkMessages:function(){var a=ma.getMessages(),b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c].data);return b},addNetworkMessage:function(a){ma.addMessage(w(a))},removeNetworkMessage:function(a){ma.removeMessage(a)},updateNetworkMessage:function(a){ma.updateMessage(w(a))},updateNetworkMessageUnread:function(a,
b){ma.updateMessageUnread(a,b)},addChangeNetworkProfile:function(a){},removeNetworkProfile:function(a){},activateNetworkProfile:function(a){}})})}})();
(function(){var b=$.namespace("com.rooxteam.network"),a=b.proxy,c=a.Cm,e=b.Device,h=b.DeviceGroup,l=b.FixedState,d=a.Mbn,f=b.MessageStore,a=b.MobileState,m=b.Property,s=b.WifiState,p,v,B,t,I;b._appState=new m(b.AppState.initializing);b._mobileState=new m(a.deviceAbsent);b._wifiState=new m(s.deviceAbsent);b._fixedState=new m(l.deviceAbsent);b._isOnline=new m(!1);b._isRoaming=new m(!1);$.extend(b,{init:function(){p="undefined"!==typeof d?new d:new c;v=new e(h.mobile,p);B=new e(h.wifi,p);t=new e(h.fixed,
p);I=new f(p);p.initProxy()},deinit:function(){p.dispose()},getAppState:function(){return b._appState.get()},getMobileState:function(){return b._mobileState.get()},getWifiState:function(){return b._wifiState.get()},getFixedState:function(){return b._fixedState.get()},isOnline:function(){return b._isOnline.get()},isRoaming:function(){return b._isRoaming.get()},watchAppState:function(a){return b._appState.valueChanged.add(a)},unwatchAppState:function(a){return b._appState.valueChanged.remove(a)},watchMobileState:function(a){return b._mobileState.valueChanged.add(a)},
unwatchMobileState:function(a){return b._mobileState.valueChanged.remove(a)},watchWifiState:function(a){return b._wifiState.valueChanged.add(a)},unwatchWifiState:function(a){return b._wifiState.valueChanged.remove(a)},watchFixedState:function(a){return b._fixedState.valueChanged.add(a)},unwatchFixedState:function(a){return b._fixedState.valueChanged.remove(a)},watchOnline:function(a){return b._isOnline.valueChanged.add(a)},unwatchOnline:function(a){return b._isOnline.valueChanged.remove(a)},watchRoaming:function(a){return b._isRoaming.valueChanged.add(a)},
unwatchRoaming:function(a){return b._isRoaming.valueChanged.remove(a)},getMobileDevice:function(){return v},getWifiDevice:function(){return B},getFixedDevice:function(){return t},getMessageStore:function(){return I},addChangeProfile:function(a){p.addChangeNetworkProfile(a)},removeProfile:function(a){p.removeNetworkProfile(a)},activateProfile:function(a){p.activateNetworkProfile(a)}})})();com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.network=com.rooxteam.network||{};
com.rooxteam.network.util=com.rooxteam.network.util||{};(function(b){b.init=function(){}})(com.rooxteam.network.util);
(function(b){function a(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(a,b){return function(c){return s(a.call(this,c),b)}}function e(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function h(){}function l(a){G(a);f(this,a)}function d(a){a=I(a);var b=a.year||0,c=a.month||0,d=a.week||0,g=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||
0)+36E5*(a.hour||0);this._days=+g+7*d;this._months=+c+12*b;this._data={};this._bubble()}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);b.hasOwnProperty("toString")&&(a.toString=b.toString);b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf);return a}function m(a){return 0>a?Math.ceil(a):Math.floor(a)}function s(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function p(a,b,c,d){var g=b._milliseconds,f=b._days;b=b._months;var e,h;g&&a._d.setTime(+a._d+
g*c);if(f||b)e=a.minute(),h=a.hour();f&&a.date(a.date()+f*c);b&&a.month(a.month()+b*c);g&&!d&&A.updateOffset(a);if(f||b)a.minute(e),a.hour(h)}function v(a){return"[object Array]"===Object.prototype.toString.call(a)}function B(a,b,c){var d=Math.min(a.length,b.length),g=Math.abs(a.length-b.length),f=0,e;for(e=0;e<d;e++)(c&&a[e]!==b[e]||!c&&x(a[e])!==x(b[e]))&&f++;return f+g}function t(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=bb[a]||cb[b]||b}return a}function I(a){var b={},c,d;for(d in a)a.hasOwnProperty(d)&&
(c=t(d))&&(b[c]=a[d]);return b}function z(a){var c,d;if(0===a.indexOf("week"))c=7,d="day";else if(0===a.indexOf("month"))c=12,d="month";else return;A[a]=function(g,f){var e,h,l=A.fn._lang[a],q=[];"number"===typeof g&&(f=g,g=b);h=function(a){a=A().utc().set(d,a);return l.call(A.fn._lang,a,g||"")};if(null!=f)return h(f);for(e=0;e<c;e++)q.push(h(e));return q}}function x(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function E(a){return 0===a%4&&0!==a%100||0===a%400}
function G(a){var b;if(a._a&&-2===a._pf.overflow){b=0>a._a[ea]||11<a._a[ea]?ea:1>a._a[la]||a._a[la]>(new Date(Date.UTC(a._a[y],a._a[ea]+1,0))).getUTCDate()?la:0>a._a[ha]||23<a._a[ha]?ha:0>a._a[Z]||59<a._a[Z]?Z:0>a._a[q]||59<a._a[q]?q:0>a._a[V]||999<a._a[V]?V:-1;if(a._pf._overflowDayOfYear&&(b<y||b>la))b=la;a._pf.overflow=b}}function K(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,
a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length));return a._isValid}function H(a){return a?a.toLowerCase().replace("_","-"):a}function M(a,b){return b._isUTC?A(a).zone(b._offset||0):A(a).local()}function R(a){var b=0,c,d,g,f,e=function(a){if(!X[a]&&J)try{require("./lang/"+a)}catch(b){}return X[a]};if(!a)return A.fn._lang;if(!v(a)){if(d=e(a))return d;a=[a]}for(;b<a.length;){f=H(a[b]).split("-");c=f.length;for(g=(g=H(a[b+1]))?g.split("-"):null;0<c;){if(d=e(f.slice(0,
c).join("-")))return d;if(g&&g.length>=c&&B(f,g,!0)>=c-1)break;c--}b++}return A.fn._lang}function Q(a){var b=a.match(oa),c,d;c=0;for(d=b.length;c<d;c++)b[c]=pa[b[c]]?pa[b[c]]:b[c].match(/\[[\s\S]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(g){var f="";for(c=0;c<d;c++)f+=b[c]instanceof Function?b[c].call(g,a):b[c];return f}}function w(a,b){if(!a.isValid())return a.lang().invalidDate();b=r(b,a.lang());qa[b]||(qa[b]=Q(b));return qa[b](a)}function r(a,b){function c(a){return b.longDateFormat(a)||
a}var d=5;for(ya.lastIndex=0;0<=d&&ya.test(a);)a=a.replace(ya,c),ya.lastIndex=0,d-=1;return a}function u(a,b){var c=b._strict;switch(a){case "DDDD":return Ea;case "YYYY":case "GGGG":case "gggg":return c?$a:Ba;case "Y":case "G":case "g":return Fa;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?na:Oa;case "S":if(c)return Qa;case "SS":if(c)return Da;case "SSS":if(c)return Ea;case "DDD":return Wa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Xa;case "a":case "A":return R(b._l)._meridiemParse;
case "X":return Za;case "Z":case "ZZ":return Ca;case "T":return Ya;case "SSSS":return Pa;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?Da:Aa;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return Aa;default:var c=RegExp,d;d=L(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26");return new c(d)}}function N(a){a=(a||"").match(Ca)||[];a=((a[a.length-1]||[])+"").match(ab)||
["-",0,0];var b=+(60*a[1])+x(a[2]);return"+"===a[0]?-b:b}function D(a){var b,c=[],d,f,e,h,l;if(!a._d){d=g(a);a._w&&(null==a._a[la]&&null==a._a[ea])&&(b=function(b){var c=parseInt(b,10);return b?3>b.length?68<c?1900+c:2E3+c:c:null==a._a[y]?A().weekYear():a._a[y]},f=a._w,null!=f.GG||null!=f.W||null!=f.E?b=F(b(f.GG),f.W||1,f.E,4,1):(e=R(a._l),h=null!=f.d?O(f.d,e):null!=f.e?parseInt(f.e,10)+e._week.dow:0,l=parseInt(f.w,10)||1,null!=f.d&&h<e._week.dow&&l++,b=F(b(f.gg),l,h,e._week.doy,e._week.dow)),a._a[y]=
b.year,a._dayOfYear=b.dayOfYear);if(a._dayOfYear){b=null==a._a[y]?d[y]:a._a[y];if(a._dayOfYear>(E(b)?366:365))a._pf._overflowDayOfYear=!0;b=ba(b,0,a._dayOfYear);a._a[ea]=b.getUTCMonth();a._a[la]=b.getUTCDate()}for(b=0;3>b&&null==a._a[b];++b)a._a[b]=c[b]=d[b];for(;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[ha]+=x((a._tzm||0)/60);c[Z]+=x((a._tzm||0)%60);a._d=(a._useUTC?ba:P).apply(null,c)}}function g(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:
[b.getFullYear(),b.getMonth(),b.getDate()]}function T(a){a._a=[];a._pf.empty=!0;var b=R(a._l),c=""+a._i,d,g,f,e,h=c.length,l=0;g=r(a._f,b).match(oa)||[];for(b=0;b<g.length;b++){f=g[b];if(d=(c.match(u(f,a))||[])[0])e=c.substr(0,c.indexOf(d)),0<e.length&&a._pf.unusedInput.push(e),c=c.slice(c.indexOf(d)+d.length),l+=d.length;if(pa[f]){d?a._pf.empty=!1:a._pf.unusedTokens.push(f);e=a;var m=void 0,n=e._a;switch(f){case "M":case "MM":null!=d&&(n[ea]=x(d)-1);break;case "MMM":case "MMMM":m=R(e._l).monthsParse(d);
null!=m?n[ea]=m:e._pf.invalidMonth=d;break;case "D":case "DD":null!=d&&(n[la]=x(d));break;case "DDD":case "DDDD":null!=d&&(e._dayOfYear=x(d));break;case "YY":n[y]=x(d)+(68<x(d)?1900:2E3);break;case "YYYY":case "YYYYY":case "YYYYYY":n[y]=x(d);break;case "a":case "A":e._isPm=R(e._l).isPM(d);break;case "H":case "HH":case "h":case "hh":n[ha]=x(d);break;case "m":case "mm":n[Z]=x(d);break;case "s":case "ss":n[q]=x(d);break;case "S":case "SS":case "SSS":case "SSSS":n[V]=x(1E3*("0."+d));break;case "X":e._d=
new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":e._useUTC=!0;e._tzm=N(d);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":f=f.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":f=f.substr(0,2),d&&(e._w=e._w||{},e._w[f]=d)}}else a._strict&&!d&&a._pf.unusedTokens.push(f)}a._pf.charsLeftOver=h-l;0<c.length&&a._pf.unusedInput.push(c);a._isPm&&12>a._a[ha]&&(a._a[ha]+=12);!1===a._isPm&&12===a._a[ha]&&(a._a[ha]=0);D(a);G(a)}function L(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
function(a,b,c,d,g){return b||c||d||g})}function P(a,b,c,d,g,f,e){b=new Date(a,b,c,d,g,f,e);1970>a&&b.setFullYear(a);return b}function ba(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function O(a,b){if("string"===typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!==typeof a)return null}else a=parseInt(a,10);return a}function U(a,b,c,d,g){return g.relativeTime(b||1,!!c,a,d)}function ca(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=A(a).add("d",c);
return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function F(a,b,c,d,g){var f=ba(a,0,1).getUTCDay();b=7*(b-1)+((null!=c?c:g)-g)+(g-f+(f>d?7:0)-(f<g?7:0))+1;return{year:0<b?a:a-1,dayOfYear:0<b?b:(E(a-1)?366:365)+b}}function W(c){var d=c._i,g=c._f;if(null===d)return A.invalid({nullInput:!0});"string"===typeof d&&(c._i=d=R().preparse(d));if(A.isMoment(d)){c=d;var e={},h;for(h in c)c.hasOwnProperty(h)&&ta.hasOwnProperty(h)&&(e[h]=c[h]);c=e;c._d=new Date(+d._d)}else if(g)if(v(g)){var d=c,q,m;if(0===
d._f.length)d._pf.invalidFormat=!0,d._d=new Date(NaN);else{for(h=0;h<d._f.length;h++)if(g=0,e=f({},d),e._pf=a(),e._f=d._f[h],T(e),K(e)&&(g+=e._pf.charsLeftOver,g+=10*e._pf.unusedTokens.length,e._pf.score=g,null==m||g<m))m=g,q=e;f(d,q||e)}}else T(c);else if(e=c,q=e._i,m=ma.exec(q),q===b)e._d=new Date;else if(m)e._d=new Date(+m[1]);else if("string"===typeof q)if(d=e._i,h=Ga.exec(d)){e._pf.iso=!0;q=0;for(m=Ha.length;q<m;q++)if(Ha[q][1].exec(d)){e._f=Ha[q][0]+(h[6]||" ");break}q=0;for(m=Ia.length;q<m;q++)if(Ia[q][1].exec(d)){e._f+=
Ia[q][0];break}d.match(Ca)&&(e._f+="Z");T(e)}else e._d=new Date(d);else v(q)?(e._a=q.slice(0),D(e)):"[object Date]"===Object.prototype.toString.call(q)||q instanceof Date?e._d=new Date(+q):"object"===typeof q?e._d||(q=I(e._i),e._a=[q.year,q.month,q.day,q.hour,q.minute,q.second,q.millisecond],D(e)):e._d=new Date(q);return new l(c)}function da(a,b){A.fn[a]=A.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),A.updateOffset(this),this):this._d["get"+c+b]()}}function aa(a){A.duration.fn[a]=
function(){return this._data[a]}}function ga(a,b){A.duration.fn["as"+a]=function(){return+this/b}}for(var A,ka=this,fa=Math.round,n,y=0,ea=1,la=2,ha=3,Z=4,q=5,V=6,X={},ta={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},J="undefined"!==typeof module&&module.exports&&"undefined"!==typeof require,ma=/^\/?Date\((\-?\d+)/i,ia=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Y=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,
oa=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ya=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Aa=/\d\d?/,Wa=/\d{1,3}/,Ba=/\d{1,4}/,Oa=/[+\-]?\d{1,6}/,Pa=/\d+/,Xa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ca=/Z|[\+\-]\d\d:?\d\d/gi,Ya=/T/i,Za=/[\+\-]?\d+(\.\d{1,3})?/,Qa=/\d/,Da=/\d\d/,Ea=/\d{3}/,$a=/\d{4}/,na=/[+-]?\d{6}/,
Fa=/[+-]?\d+/,Ga=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ha=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ia=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ab=/([\+\-]|\d\d)/gi,ua=["Date","Hours",
"Minutes","Seconds","Milliseconds"],Ja={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},bb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},cb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},qa={},sa="DDD w W M D d".split(" "),Ka="MDHhmswW".split(""),pa={M:function(){return this.month()+
1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return s(this.year()%100,2)},YYYY:function(){return s(this.year(),
4)},YYYYY:function(){return s(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+s(Math.abs(a),6)},gg:function(){return s(this.weekYear()%100,2)},gggg:function(){return s(this.weekYear(),4)},ggggg:function(){return s(this.weekYear(),5)},GG:function(){return s(this.isoWeekYear()%100,2)},GGGG:function(){return s(this.isoWeekYear(),4)},GGGGG:function(){return s(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),
this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return x(this.milliseconds()/100)},SS:function(){return s(x(this.milliseconds()/10),2)},SSS:function(){return s(this.milliseconds(),3)},SSSS:function(){return s(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+
s(x(a/60),2)+":"+s(x(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+s(x(a/60),2)+s(x(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Ra=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];sa.length;)n=sa.pop(),pa[n+"o"]=e(pa[n],n);for(;Ka.length;)n=Ka.pop(),pa[n+n]=c(pa[n],2);pa.DDDD=c(pa.DDD,3);f(h.prototype,{set:function(a){var b,c;for(c in a)b=a[c],
"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=A.utc([2E3,b]),c="^"+this.months(c,"")+"|^"+
this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,
c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=A([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===
typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var g=this._relativeTime[c];return"function"===typeof g?g(a,b,c,d):g.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",
a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ca(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});A=function(c,d,g,f){var e;"boolean"===typeof g&&(f=g,g=b);e={_isAMomentObject:!0};e._i=c;e._f=d;e._l=g;e._strict=f;e._isUTC=!1;e._pf=a();return W(e)};A.utc=function(c,d,g,f){var e;"boolean"===typeof g&&(f=g,g=b);e={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};
e._l=g;e._i=c;e._f=d;e._strict=f;e._pf=a();return W(e).utc()};A.unix=function(a){return A(1E3*a)};A.duration=function(a,b){var c=a,g=null,f;if(A.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(g=ia.exec(a))f="-"===g[1]?-1:1,c={y:0,d:x(g[la])*f,h:x(g[ha])*f,m:x(g[Z])*f,s:x(g[q])*f,ms:x(g[V])*f};else if(g=Y.exec(a))f="-"===g[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*f},c={y:c(g[2]),M:c(g[3]),
d:c(g[4]),h:c(g[5]),m:c(g[6]),s:c(g[7]),w:c(g[8])};g=new d(c);A.isDuration(a)&&a.hasOwnProperty("_lang")&&(g._lang=a._lang);return g};A.version="2.5.1";A.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";A.updateOffset=function(){};A.lang=function(a,b){if(!a)return A.fn._lang._abbr;if(b){var c=H(a);b.abbr=c;X[c]||(X[c]=new h);X[c].set(b)}else null===b?(delete X[a],a="en"):X[a]||R(a);return(A.duration.fn._lang=A.fn._lang=R(a))._abbr};A.langData=function(a){a&&(a._lang&&a._lang._abbr)&&(a=a._lang._abbr);return R(a)};
A.isMoment=function(a){return a instanceof l||null!=a&&a.hasOwnProperty("_isAMomentObject")};A.isDuration=function(a){return a instanceof d};for(n=Ra.length-1;0<=n;--n)z(Ra[n]);A.normalizeUnits=function(a){return t(a)};A.invalid=function(a){var b=A.utc(NaN);null!=a?f(b._pf,a):b._pf.userInvalidated=!0;return b};A.parseZone=function(a){return A(a).parseZone()};f(A.fn=l.prototype,{clone:function(){return A(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/
1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=A(this).utc();return 0<a.year()&&9999>=a.year()?w(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):w(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return K(this)},isDSTShifted:function(){return this._a?
this.isValid()&&0<B(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=!1;return this},format:function(a){a=w(this,a||A.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c="string"===typeof a?A.duration(+b,a):A.duration(a,b);p(this,c,1);return this},subtract:function(a,b){var c;c="string"===typeof a?
A.duration(+b,a):A.duration(a,b);p(this,c,-1);return this},diff:function(a,b,c){a=M(a,this);var d=6E4*(this.zone()-a.zone()),g;b=t(b);"year"===b||"month"===b?(g=432E5*(this.daysInMonth()+a.daysInMonth()),d=12*(this.year()-a.year())+(this.month()-a.month()),d+=(this-A(this).startOf("month")-(a-A(a).startOf("month")))/g,d-=6E4*(this.zone()-A(this).startOf("month").zone()-(a.zone()-A(a).startOf("month").zone()))/g,"year"===b&&(d/=12)):(g=this-a,d="second"===b?g/1E3:"minute"===b?g/6E4:"hour"===b?g/36E5:
"day"===b?(g-d)/864E5:"week"===b?(g-d)/6048E5:g);return c?d:m(d)},from:function(a,b){return A.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(A(),a)},calendar:function(){var a=M(A(),this).startOf("day"),a=this.diff(a,"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<
this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=O(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b=this._isUTC?"UTC":"",c;if(null!=a){if("string"===typeof a&&(a=this.lang().monthsParse(a),"number"!==typeof a))return this;c=this.date();this.date(1);this._d["set"+b+"Month"](a);this.date(Math.min(c,this.daysInMonth()));A.updateOffset(this);return this}return this._d["get"+b+"Month"]()},
startOf:function(a){a=t(a);switch(a){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);return this},endOf:function(a){a=t(a);return this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)>+A(a).startOf(b)},
isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+A(a).startOf(b)},isSame:function(a,b){b=b||"ms";return+this.clone().startOf(b)===+M(a,this).startOf(b)},min:function(a){a=A.apply(null,arguments);return a<this?this:a},max:function(a){a=A.apply(null,arguments);return a>this?this:a},zone:function(a){var b=this._offset||0;if(null!=a)"string"===typeof a&&(a=N(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&p(this,A.duration(b-a,"m"),1,!0);
else return this._isUTC?b:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?A(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),b=this.month();return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},dayOfYear:function(a){var b=
fa((A(this).startOf("day")-A(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(a){var b=ca(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=ca(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=ca(this,1,4).week;return null==
a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){a=t(a);return this[a]()},set:function(a,b){a=t(a);if("function"===typeof this[a])this[a](b);return this},lang:function(a){if(a===b)return this._lang;this._lang=R(a);return this}});for(n=0;n<ua.length;n++)da(ua[n].toLowerCase().replace(/s$/,""),ua[n]);da("year","FullYear");A.fn.days=
A.fn.day;A.fn.months=A.fn.month;A.fn.weeks=A.fn.week;A.fn.isoWeeks=A.fn.isoWeek;A.fn.toJSON=A.fn.toISOString;f(A.duration.fn=d.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;d.milliseconds=a%1E3;a=m(a/1E3);d.seconds=a%60;a=m(a/60);d.minutes=a%60;a=m(a/60);d.hours=a%24;b+=m(a/24);d.days=b%30;c+=m(b/30);d.months=c%12;b=m(c/12);d.years=b},weeks:function(){return m(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%
12)+31536E6*x(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),g=fa(Math.abs(b)/1E3),f=fa(g/60),e=fa(f/60),h=fa(e/24),l=fa(h/365),g=45>g&&["s",g]||1===f&&["m"]||45>f&&["mm",f]||1===e&&["h"]||22>e&&["hh",e]||1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",fa(h/30)]||1===l&&["y"]||["yy",l];g[2]=c;g[3]=0<b;g[4]=d;c=U.apply({},g);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},add:function(a,b){var c=A.duration(a,b);this._milliseconds+=c._milliseconds;
this._days+=c._days;this._months+=c._months;this._bubble();return this},subtract:function(a,b){var c=A.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=t(a);return this[a.toLowerCase()+"s"]()},as:function(a){a=t(a);return this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:A.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),
g=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return!this.asSeconds()?"P0D":(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||g||f?"T":"")+(d?d+"H":"")+(g?g+"M":"")+(f?f+"S":"")}});for(n in Ja)Ja.hasOwnProperty(n)&&(ga(n,Ja[n]),aa(n.toLowerCase()));ga("Weeks",6048E5);A.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};A.lang("en",{ordinal:function(a){var b=a%10,b=1===x(a%100/10)?"th":1===b?"st":2===b?
"nd":3===b?"rd":"th";return a+b}});(function(a){var b=!1,c=A;"undefined"===typeof ender&&(a?(ka.moment=function(){!b&&(console&&console.warn)&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release."));return c.apply(null,arguments)},f(ka.moment,c)):ka.moment=A)})()}).call(this);
(function(b){b(window.moment)})(function(b){function a(a,b,h){if("m"===h)return b?"минута":"минуту";b=a+" ";a=+a;h={mm:"минута_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[h].split("_");return b+(1===a%10&&11!==a%100?h[0]:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?h[1]:h[2])}return b.lang("ru",{months:function(a,b){return{nominative:"январь февраль март апрель май июнь июль август сентябрь октябрь ноябрь декабрь".split(" "),accusative:"января февраля марта апреля мая июня июля августа сентября октября ноября декабря".split(" ")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?
"accusative":"nominative"][a.month()]},monthsShort:function(a,b){return{nominative:"янв фев мар апр май июнь июль авг сен окт ноя дек".split(" "),accusative:"янв фев мар апр мая июня июля авг сен окт ноя дек".split(" ")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative"][a.month()]},weekdays:function(a,b){return{nominative:"воскресенье понедельник вторник среда четверг пятница суббота".split(" "),accusative:"воскресенье понедельник вторник среду четверг пятницу субботу".split(" ")}[/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(b)?
"accusative":"nominative"][a.day()]},weekdaysShort:"вс пн вт ср чт пт сб".split(" "),weekdaysMin:"вс пн вт ср чт пт сб".split(" "),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":
"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:a,mm:a,h:"час",hh:a,d:"день",dd:a,M:"месяц",MM:a,y:"год",yy:a},meridiem:function(a,b,h){return 4>a?"ночи":12>a?"утра":17>a?"дня":"вечера"},ordinal:function(a,b){switch(b){case "M":case "d":case "DDD":return a+"-й";
case "D":return a+"-го";case "w":case "W":return a+"-я";default:return a}},week:{dow:1,doy:7}})});com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.momentjs=com.rooxteam.momentjs||{};com.rooxteam.momentjs.moment=moment;"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.moment=function(b,a,c,e){c=dust.helpers.tap(e.value,b,a);a=dust.helpers.tap(e.format,b,a);return"fromNow"===a?b.write(moment(c).fromNow()):b.write(moment(c).format(a))});com=com||{};com.rooxteam=com.rooxteam||{};
com.rooxteam.network=com.rooxteam.network||{};com.rooxteam.network.util=com.rooxteam.network.util||{};
(function(b){function a(a,b){return(gadgets.config.get("com.rooxteam.network.util")||{})[a]||b}function c(a){var b=com.rooxteam.sharedcontext.getDataContext(),c=com.rooxteam.sharedcontext.getPersistentDataContext();b.putDataSet(t,a);c&&c.putDataSet(t,a)}function e(a){var b=com.rooxteam.deferred.Deferred(),c={METHOD:"GET",HEADERS:{"Content-Type":"application/json","If-Modified-Since":"Mon, 27 Mar 1972 00:00:00 GMT"}};try{gadgets.io.makeRequest(a,function(a){a.errors&&0!==a.errors.length?b.reject(a):
b.resolve(a)},c)}catch(d){b.reject({rc:500,errors:[""+d],text:""+d,data:null})}return b}function h(b,c){var d=a("MSISDN_URL")+"?rnd\x3d"+(new Date).getTime();0>=c?gadgets.log("H2O request cancelled because of tries limit"):(x=e(d),x.promise().done(function(a){var d=null;try{var e=JSON.parse(a.data);e&&(200===e.code&&e.data)&&(d=e.data.msisdn)}catch(h){gadgets.warn("H2O router failed, exception: "+h)}gadgets.log("H2O router msisdn is: "+d);d?(d=d.replace(/\D/gi,""),I.saveMsisdn(b,d)):f(c-1,5E3)}).fail(function(a){gadgets.warn("H2O router failed. code: "+
(a&&a.rc)+", message: "+(a&&a.text));(!a||a.rc!=E)&&f(c-1,5E3)}))}function l(){var a=p.getAppState(),b=p.getMobileState(),c=p.getMobileDevice().getNetworkStatistics().getNetworkId();return a==B.normal&&b==v.connected&&("25001"==c||"25050"==c)&&!p.isRoaming()}function d(b){b=I.getMsisdnLastUpdateTime(b);var c=a("MSISDN_REFRESH_INTERVAL",2592E6),d=new Date;return null==b||b.getTime()+c<d.getTime()}function f(a,b){if(0==b){var c=p.getMobileDevice().getDeviceInfo().getImsi();c&&(l()&&d(c))&&(gadgets.log("try to update msisdn for imsi "+
c+" via H2O. attempts available #: "+a),h(c,a))}else isNaN(z)||(clearTimeout(z),z=NaN),x&&"pending"==x.state()&&(x.reject({rc:E,text:"Request cancelled"}),x=null),z=setTimeout(function(){f(a,0)},b)}function m(){var a=p.getMobileDevice().getDeviceInfo().getImsi();a&&(l()&&d(a))&&f(5,5E3)}var s=com.rooxteam.momentjs,p=com.rooxteam.network,v=p.MobileState,B=p.AppState,t="com.rooxteam.current_msisdn";b.getCurrentMsisdn=function(){var a=com.rooxteam.sharedcontext.getDataContext().getDataSet(t);if(!a){var b=
com.rooxteam.sharedcontext.getPersistentDataContext();b&&(a=b.getDataSet(t));a||((b=p.getMobileDevice().getDeviceInfo().getImsi())&&(a=I.getMsisdn(b)),a&&c(a))}return a};var I={MSISDN_STORAGE_KEY:"com.rooxteam.msisdn_storage",getMsisdn:function(a){return(a=(this.read()||{})[a])?a.msisdn:null},getMsisdnLastUpdateTime:function(a){return(a=(this.read()||{})[a])?s.moment(a.lastUpdateTime).toDate():null},saveMsisdn:function(a,b){var d=this.read()||{},f=d[a]||{};f.msisdn=b;f.lastUpdateTime=s.moment().format("YYYY-MM-DDTHH:mm:ss.SSSZZ");
d[a]=f;this.save(d);c(b)},save:function(a){var b=com.rooxteam.sharedcontext.getDataContext(),c=com.rooxteam.sharedcontext.getPersistentDataContext();b.putDataSet(this.MSISDN_STORAGE_KEY,a);c&&c.putDataSet(this.MSISDN_STORAGE_KEY,a)},read:function(){var a=com.rooxteam.sharedcontext.getDataContext(),b=com.rooxteam.sharedcontext.getPersistentDataContext();(a=a.getDataSet(this.MSISDN_STORAGE_KEY))||(a=b.getDataSet(this.MSISDN_STORAGE_KEY));return a}};b.getMsisdnStorage=function(){return I};var z=NaN,
x=null,E=-1,G=b.init;b.init=function(){"function"==typeof G&&G();p.watchAppState(m);p.watchMobileState(m);p.watchWifiState(m);p.watchFixedState(m);p.watchRoaming(m);p.getMobileDevice().getNetworkStatistics().watchNetworkId(m);p.getMobileDevice().getDeviceInfo().watchImsi(m);m()}})(com.rooxteam.network.util);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.network=com.rooxteam.network||{};
com.rooxteam.network.util=function(b,a,c){function e(a){a=b.getMsisdnStorage().getMsisdnLastUpdateTime(a);var d;d=(c.config.get("com.rooxteam.network.util")||{}).MSISDN_REFRESH_INTERVAL||2592E6;var f=Date.now();return null==a||a.getTime()+d<f}function h(b,d){var f=com.rooxteam.deferred.Deferred(),e=function(a){l(a)},h=function(a){a.kind==s.outgoingSms&&a.address==b&&a.label==t&&a.sendingStatus==B.sendingFailed?f.reject(a):l(a)},l=function(a){a.kind==s.incomingSimpleSms&&a.address==b&&f.resolve(a)};
a.getMessageStore().messageAdded.add(e);a.getMessageStore().messageUpdated.add(h);f.always(function(){a.getMessageStore().messageAdded.remove(e);a.getMessageStore().messageUpdated.remove(h)});c.log("Sending SMS request to "+b);a.getMobileDevice().sendMessage({kind:s.outgoingSms,address:b,content:d,label:t,isUnread:!1});return f}function l(a){var b=com.rooxteam.deferred.Deferred();b.timerId=setTimeout(function(){b.resolve()},a);b.fail(function(){clearTimeout(b.timerId)});return b}function d(b){var d=
com.rooxteam.deferred.Deferred(),f=["(\\+?[78]?[01234569]\\d{9,})"],e=h("111","0887");e.done(function(b){var e=null;if(b.content)for(var h=0;h<f.length;h++){var l=b.content.match(f[h]);if(l&&"undefined"!=typeof l[1]){e=l[1];break}}c.log("SMS message msisdn is: "+e);a.getMessageStore().removeMessage(b.messageId);e?d.resolve(e):d.reject(b)}).fail(function(a){c.warn("SMS request was failed for: 111");d.reject(a)});d.fail(function(a){e.reject(a)});return d}function f(b){var c=a.getAppState(),d=a.getMobileState(),
f=a.getMobileDevice().getNetworkStatistics().getNetworkId(),e=a.isRoaming(),d=(c=c==p.normal&&d!=v.deviceAbsent)&&(d==v.passwordRequired||d==v.passwordResetRequired||d==v.cardUnlockCodeRequired||d==v.simAbsent);return c&&!d&&!e&&0<=jQuery.inArray(f,b)}function m(){var b=a.getAppState(),c=a.getMobileState(),d=a.getMobileDevice().getDeviceInfo().getImsi();b==p.normal&&c==v.deviceAbsent&&x.cancel();f(z)&&(d&&e(d))&&(x.isInProgress()||x.update(4,100))}var s=a.MessageKind,p=a.AppState,v=a.MobileState,
B=a.MessageSendingStatus,t="MSISDN_LABEL",I={content:"internal cancellation message"},z=["25001","25050"],x={updateResult:null,cancel:function(){this.updateResult&&this.updateResult.reject()},isInProgress:function(){return this.updateResult&&"pending"==this.updateResult.state()},update:function(h,m){this.updateResult=com.rooxteam.deferred.Deferred();var p=l(m),t=this;p.done(function(){var l=a.getMobileDevice().getDeviceInfo().getImsi(),m=a.getMobileDevice().getNetworkStatistics().getNetworkId();if(f(z)&&
l&&e(l)&&m){var r=d(m,h);r.done(function(a){a=a.replace(/\D/gi,"");b.getMsisdnStorage().saveMsisdn(l,a);t.updateResult.resolve(a)}).fail(function(a){t.updateResult.reject();a!==I&&0<h?t.update(h-1,5E3):c.log("SMS msisdn request was cancelled. tries limit: "+h+", message: "+JSON.stringify(a))});t.updateResult.fail(function(){r.reject(I)})}else t.updateResult.reject()});t.updateResult.fail(function(){p.reject()})}};b.getMessageLabel=function(){return t};var E=b.init;b.init=function(){"function"==typeof E&&
E();a.watchAppState(m);a.watchMobileState(m);a.watchRoaming(m);a.getMobileDevice().getNetworkStatistics().watchNetworkId(m);a.getMobileDevice().getDeviceInfo().watchImsi(m);m()};var G=b.deinit;b.deinit=function(){x.cancel();a.unwatchAppState(m);a.unwatchMobileState(m);a.unwatchRoaming(m);a.getMobileDevice().getNetworkStatistics().unwatchNetworkId(m);a.getMobileDevice().getDeviceInfo().unwatchImsi(m);"function"==typeof G&&G()};return b}(com.rooxteam.network.util||{},com.rooxteam.network,window.gadgets);
var OpenAjax=OpenAjax||{};
OpenAjax.hub||(OpenAjax.hub=function(){var b={};return{implementer:"http://openajax.org",implVersion:"2.0.5",specVersion:"2.0",implExtraData:{},libraries:b,registerLibrary:function(a,c,e,h){b[a]={prefix:a,namespaceURI:c,version:e,extraData:h};this.publish("org.openajax.hub.registerLibrary",b[a])},unregisterLibrary:function(a){this.publish("org.openajax.hub.unregisterLibrary",b[a]);delete b[a]}}}(),OpenAjax.hub.Error={BadParameters:"OpenAjax.hub.Error.BadParameters",Disconnected:"OpenAjax.hub.Error.Disconnected",Duplicate:"OpenAjax.hub.Error.Duplicate",
NoContainer:"OpenAjax.hub.Error.NoContainer",NoSubscription:"OpenAjax.hub.Error.NoSubscription",NotAllowed:"OpenAjax.hub.Error.NotAllowed",WrongProtocol:"OpenAjax.hub.Error.WrongProtocol",IncompatBrowser:"OpenAjax.hub.Error.IncompatBrowser"},OpenAjax.hub.SecurityAlert={LoadTimeout:"OpenAjax.hub.SecurityAlert.LoadTimeout",FramePhish:"OpenAjax.hub.SecurityAlert.FramePhish",ForgedMsg:"OpenAjax.hub.SecurityAlert.ForgedMsg"},OpenAjax.hub._debugger=function(){},OpenAjax.hub.ManagedHub=function(b){if(!b||
!b.onPublish||!b.onSubscribe)throw Error(OpenAjax.hub.Error.BadParameters);this._p=b;this._onUnsubscribe=b.onUnsubscribe?b.onUnsubscribe:null;this._scope=b.scope||window;if(b.log){var a=this;this._log=function(c){try{b.log.call(a._scope,"ManagedHub: "+c)}catch(e){OpenAjax.hub._debugger()}}}else this._log=function(){};this._subscriptions={c:{},s:null};this._containers={};this._seq=0;this._active=!0;this._isPublishing=!1;this._pubQ=[]},OpenAjax.hub.ManagedHub.prototype.subscribeForClient=function(b,
a,c){this._assertConn();if(this._invokeOnSubscribe(a,b))return this._subscribe(a,this._sendToClient,this,{c:b,sid:c});throw Error(OpenAjax.hub.Error.NotAllowed);},OpenAjax.hub.ManagedHub.prototype.unsubscribeForClient=function(b,a){this._unsubscribe(a);this._invokeOnUnsubscribe(b,a)},OpenAjax.hub.ManagedHub.prototype.publishForClient=function(b,a,c){this._assertConn();this._publish(a,c,b)},OpenAjax.hub.ManagedHub.prototype.disconnect=function(){this._active=!1;for(var b in this._containers)this.removeContainer(this._containers[b])},
OpenAjax.hub.ManagedHub.prototype.getContainer=function(b){return(b=this._containers[b])?b:null},OpenAjax.hub.ManagedHub.prototype.listContainers=function(){var b=[],a;for(a in this._containers)b.push(this._containers[a]);return b},OpenAjax.hub.ManagedHub.prototype.addContainer=function(b){this._assertConn();var a=b.getClientID();if(this._containers[a])throw Error(OpenAjax.hub.Error.Duplicate);this._containers[a]=b},OpenAjax.hub.ManagedHub.prototype.removeContainer=function(b){var a=b.getClientID();
if(!this._containers[a])throw Error(OpenAjax.hub.Error.NoContainer);b.remove();delete this._containers[a]},OpenAjax.hub.ManagedHub.prototype.subscribe=function(b,a,c,e,h){function l(b,e,l,p){if(d._invokeOnPublish(b,e,p,null))try{a.call(c,b,e,h)}catch(v){OpenAjax.hub._debugger(),d._log("caught error from onData callback to Hub.subscribe(): "+v.message)}}this._assertConn();this._assertSubTopic(b);if(!a)throw Error(OpenAjax.hub.Error.BadParameters);c=c||window;if(this._invokeOnSubscribe(b,null)){var d=
this;b=this._subscribe(b,l,c,h);this._invokeOnComplete(e,c,b,!0);return b}this._invokeOnComplete(e,c,null,!1,OpenAjax.hub.Error.NotAllowed)},OpenAjax.hub.ManagedHub.prototype.publish=function(b,a){this._assertConn();this._assertPubTopic(b);this._publish(b,a,null)},OpenAjax.hub.ManagedHub.prototype.unsubscribe=function(b,a,c){this._assertConn();if(!b)throw Error(OpenAjax.hub.Error.BadParameters);this._unsubscribe(b);this._invokeOnUnsubscribe(null,b);this._invokeOnComplete(a,c,b,!0)},OpenAjax.hub.ManagedHub.prototype.isConnected=
function(){return this._active},OpenAjax.hub.ManagedHub.prototype.getScope=function(){return this._scope},OpenAjax.hub.ManagedHub.prototype.getSubscriberData=function(b){this._assertConn();b=b.split(".");var a=b.pop();if(b=this._getSubscriptionObject(this._subscriptions,b,0,a))return b.data;throw Error(OpenAjax.hub.Error.NoSubscription);},OpenAjax.hub.ManagedHub.prototype.getSubscriberScope=function(b){this._assertConn();b=b.split(".");var a=b.pop();if(b=this._getSubscriptionObject(this._subscriptions,
b,0,a))return b.scope;throw Error(OpenAjax.hub.Error.NoSubscription);},OpenAjax.hub.ManagedHub.prototype.getParameters=function(){return this._p},OpenAjax.hub.ManagedHub.prototype._sendToClient=function(b,a,c,e){this.isConnected()&&this._invokeOnPublish(b,a,e,c.c)&&c.c.sendToClient(b,a,c.sid)},OpenAjax.hub.ManagedHub.prototype._assertConn=function(){if(!this.isConnected())throw Error(OpenAjax.hub.Error.Disconnected);},OpenAjax.hub.ManagedHub.prototype._assertPubTopic=function(b){if(!b||""===b||-1!=
b.indexOf("*")||-1!=b.indexOf("..")||"."==b.charAt(0)||"."==b.charAt(b.length-1))throw Error(OpenAjax.hub.Error.BadParameters);},OpenAjax.hub.ManagedHub.prototype._assertSubTopic=function(b){if(!b)throw Error(OpenAjax.hub.Error.BadParameters);b=b.split(".");for(var a=b.length,c=0;c<a;c++){var e=b[c];if(""===e||-1!=e.indexOf("*")&&"*"!=e&&"**"!=e)throw Error(OpenAjax.hub.Error.BadParameters);if("**"==e&&c<a-1)throw Error(OpenAjax.hub.Error.BadParameters);}},OpenAjax.hub.ManagedHub.prototype._invokeOnComplete=
function(b,a,c,e,h){if(b)try{a=a||window,b.call(a,c,e,h)}catch(l){OpenAjax.hub._debugger(),this._log("caught error from onComplete callback: "+l.message)}},OpenAjax.hub.ManagedHub.prototype._invokeOnPublish=function(b,a,c,e){try{return this._p.onPublish.call(this._scope,b,a,c,e)}catch(h){OpenAjax.hub._debugger(),this._log("caught error from onPublish callback to constructor: "+h.message)}return!1},OpenAjax.hub.ManagedHub.prototype._invokeOnSubscribe=function(b,a){try{return this._p.onSubscribe.call(this._scope,
b,a)}catch(c){OpenAjax.hub._debugger(),this._log("caught error from onSubscribe callback to constructor: "+c.message)}return!1},OpenAjax.hub.ManagedHub.prototype._invokeOnUnsubscribe=function(b,a){if(this._onUnsubscribe){var c=a.slice(0,a.lastIndexOf("."));try{this._onUnsubscribe.call(this._scope,c,b)}catch(e){OpenAjax.hub._debugger(),this._log("caught error from onUnsubscribe callback to constructor: "+e.message)}}},OpenAjax.hub.ManagedHub.prototype._subscribe=function(b,a,c,e){var h=b+"."+this._seq;
a={scope:c,cb:a,data:e,sid:this._seq++};b=b.split(".");this._recursiveSubscribe(this._subscriptions,b,0,a);return h},OpenAjax.hub.ManagedHub.prototype._recursiveSubscribe=function(b,a,c,e){var h=a[c];c==a.length?(e.next=b.s,b.s=e):("undefined"==typeof b.c&&(b.c={}),"undefined"==typeof b.c[h]&&(b.c[h]={c:{},s:null}),this._recursiveSubscribe(b.c[h],a,c+1,e))},OpenAjax.hub.ManagedHub.prototype._publish=function(b,a,c){if(this._isPublishing)this._pubQ.push({t:b,d:a,p:c});else for(this._safePublish(b,
a,c);0<this._pubQ.length;)b=this._pubQ.shift(),this._safePublish(b.t,b.d,b.p)},OpenAjax.hub.ManagedHub.prototype._safePublish=function(b,a,c){this._isPublishing=!0;var e=b.split(".");this._recursivePublish(this._subscriptions,e,0,b,a,c);this._isPublishing=!1},OpenAjax.hub.ManagedHub.prototype._recursivePublish=function(b,a,c,e,h,l){if("undefined"!=typeof b&&(c!=a.length&&(this._recursivePublish(b.c[a[c]],a,c+1,e,h,l),this._recursivePublish(b.c["*"],a,c+1,e,h,l),b=b.c["**"]),"undefined"!=typeof b))for(b=
b.s;b;){a=b.scope;c=b.cb;var d=b.data;"string"==typeof c&&(c=a[c]);c.call(a,e,h,d,l);b=b.next}},OpenAjax.hub.ManagedHub.prototype._unsubscribe=function(b){b=b.split(".");var a=b.pop();if(!this._recursiveUnsubscribe(this._subscriptions,b,0,a))throw Error(OpenAjax.hub.Error.NoSubscription);},OpenAjax.hub.ManagedHub.prototype._recursiveUnsubscribe=function(b,a,c,e){if("undefined"==typeof b)return!1;if(c<a.length){var h=b.c[a[c]];if(!h)return!1;this._recursiveUnsubscribe(h,a,c+1,e);if(!h.s){for(var l in h.c)return!0;
delete b.c[a[c]]}}else{a=b.s;c=null;for(h=!1;a;){if(e==a.sid){h=!0;a==b.s?b.s=a.next:c.next=a.next;break}c=a;a=a.next}if(!h)return!1}return!0},OpenAjax.hub.ManagedHub.prototype._getSubscriptionObject=function(b,a,c,e){if("undefined"!=typeof b){if(c<a.length)return this._getSubscriptionObject(b.c[a[c]],a,c+1,e);for(b=b.s;b;){if(e==b.sid)return b;b=b.next}}return null},OpenAjax.hub._hub=new OpenAjax.hub.ManagedHub({onSubscribe:function(b,a){return!0},onPublish:function(b,a,c,e){return!0}}),OpenAjax.hub.subscribe=
function(b,a,c,e){"string"===typeof a&&(c=c||window,a=c[a]||null);return OpenAjax.hub._hub.subscribe(b,a,c,null,e)},OpenAjax.hub.unsubscribe=function(b){return OpenAjax.hub._hub.unsubscribe(b)},OpenAjax.hub.publish=function(b,a){OpenAjax.hub._hub.publish(b,a)},OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","2.0",{}));OpenAjax=OpenAjax||{};OpenAjax.hub=OpenAjax.hub||{};OpenAjax.gadgets="object"===typeof OpenAjax.gadgets?OpenAjax.gadgets:"object"===typeof gadgets?gadgets:{};
OpenAjax.gadgets.rpctx=OpenAjax.gadgets.rpctx||{};(function(){if("undefined"===typeof gadgets){if("undefined"===typeof oaaConfig)for(var b=document.getElementsByTagName("script"),a=/openajax(?:managedhub-(?:all|core).*|-mashup)\.js$/i,c=b.length-1;0<=c;c--){var e=b[c].getAttribute("src");if(e&&e.match(a)){if(b=b[c].getAttribute("oaaConfig"))try{oaaConfig=eval("({ "+b+" })")}catch(h){}break}}"undefined"!==typeof oaaConfig&&oaaConfig.gadgetsGlobal&&(gadgets=OpenAjax.gadgets)}})();
OpenAjax.hub.IframeContainer||function(){OpenAjax.hub.IframeContainer=function(a,c,e){function h(){OpenAjax.gadgets.rpc.call(t,"openajax.pubsub",function(a){if(a&&(p=!0,clearTimeout(z),document.getElementById(t).style.visibility="visible",e.Container.onConnect))try{e.Container.onConnect.call(s,m)}catch(b){OpenAjax.hub._debugger(),x("caught error from onConnect callback to constructor: "+b.message)}},"cmd","con")}function l(){if(p){p=!1;document.getElementById(t).style.visibility="hidden";for(var b in v)a.unsubscribeForClient(m,
v[b]);v={}}}function d(a){try{e.Container.onSecurityAlert.call(s,m,a)}catch(b){OpenAjax.hub._debugger(),x("caught error from onSecurityAlert callback to constructor: "+b.message)}}function f(){z=setTimeout(function(){d(OpenAjax.hub.SecurityAlert.LoadTimeout);m._handleIncomingRPC=function(){}},I)}(function(a){var b=a[1],c=a[2];if(!a[0]||!b||!c||!c.Container||!c.Container.onSecurityAlert||!c.IframeContainer||!c.IframeContainer.parent||!c.IframeContainer.uri)throw Error(OpenAjax.hub.Error.BadParameters);
})(arguments);var m=this,s=e.Container.scope||window,p=!1,v={},B,t,I=e.IframeContainer.timeout||15E3,z,x=e.Container.log?function(a){try{e.Container.log.call(s,"IframeContainer::"+c+": "+a)}catch(b){OpenAjax.hub._debugger()}}:function(){};this._init=function(){a.addContainer(this);t=OpenAjax.hub.IframeContainer._rpcRouter.add(c,this);var b=e,d=s,h=x;if(!OpenAjax.hub.IframeContainer._prng){var l=(new Date).getTime()+Math.random()+document.cookie;OpenAjax.hub.IframeContainer._prng=OpenAjax._smash.crypto.newPRNG(l)}if((b=
b.IframeContainer||b.IframeHubClient)&&b.seed)try{var m=b.seed.call(d);OpenAjax.hub.IframeContainer._prng.addSeed(m)}catch(p){OpenAjax.hub._debugger(),h("caught error from 'seed' callback: "+p.message)}B=OpenAjax.hub.IframeContainer._prng.nextRandomB64Str(b&&b.tokenLength||6);d=null;h=OpenAjax.gadgets.rpc.getRelayChannel();if(e.IframeContainer.tunnelURI){if("wpm"!==h&&"nix"!==h)throw Error(OpenAjax.hub.Error.IncompatBrowser);}else x("WARNING: Parameter 'IframeContaienr.tunnelURI' not specified. Connection will not be fully secure."),
"rmr"===h&&(d=OpenAjax.gadgets.rpc.getOrigin(e.IframeContainer.uri)+"/robots.txt");h=document.createElement("span");e.IframeContainer.parent.appendChild(h);m='\x3ciframe id\x3d"'+t+'" name\x3d"'+t+'" src\x3d"javascript:\'\x3chtml\x3e\x3c/html\x3e\'"';b="";if(l=e.IframeContainer.iframeAttrs)for(var v in l)switch(v){case "style":for(var w in l.style)b+=w+":"+l.style[w]+";";break;case "className":m+=' class\x3d"'+l[v]+'"';break;default:m+=" "+v+'\x3d"'+l[v]+'"'}m+=' style\x3d"'+(b+"visibility:hidden;")+
'"\x3e\x3c/iframe\x3e';h.innerHTML=m;v=e.IframeContainer.tunnelURI?"\x26parent\x3d"+encodeURIComponent(e.IframeContainer.tunnelURI)+"\x26forcesecure\x3dtrue":"\x26oahParent\x3d"+encodeURIComponent(OpenAjax.gadgets.rpc.getOrigin(window.location.href));w="";t!==c&&(w="\x26oahId\x3d"+t.substring(t.lastIndexOf("_")+1));document.getElementById(t).src=e.IframeContainer.uri+"#rpctoken\x3d"+B+v+w;OpenAjax.gadgets.rpc.setupReceiver(t,d);f()};this.sendToClient=function(a,b,c){OpenAjax.gadgets.rpc.call(t,"openajax.pubsub",
null,"pub",a,b,c)};this.remove=function(){l();clearTimeout(z);OpenAjax.gadgets.rpc.removeReceiver(t);var a=document.getElementById(t);a.parentNode.removeChild(a);OpenAjax.hub.IframeContainer._rpcRouter.remove(t)};this.isConnected=function(){return p};this.getClientID=function(){return c};this.getPartnerOrigin=function(){if(p){var a=OpenAjax.gadgets.rpc.getReceiverOrigin(t);if(a)return/^([a-zA-Z]+:\/\/[^:]+).*/.exec(a)[1]}return null};this.getParameters=function(){return e};this.getHub=function(){return a};
this.getIframe=function(){return document.getElementById(t)};this._handleIncomingRPC=function(b,c,d){switch(b){case "pub":a.publishForClient(m,c,d);break;case "sub":b="";try{v[d]=a.subscribeForClient(m,c,d)}catch(p){b=p.message}return b;case "uns":return a.unsubscribeForClient(m,v[d]),delete v[d],d;case "con":return h(),!0;case "dis":f();l();if(e.Container.onDisconnect)try{e.Container.onDisconnect.call(s,m)}catch(t){OpenAjax.hub._debugger(),x("caught error from onDisconnect callback to constructor: "+
t.message)}return!0}};this._onSecurityAlert=function(a){d(b[a])};this._init()};OpenAjax.hub.IframeHubClient=function(a){function b(){if(!d)throw Error(OpenAjax.hub.Error.Disconnected);}function e(a){if(!a)throw Error(OpenAjax.hub.Error.BadParameters);a=a.split(".");for(var b=a.length,c=0;c<b;c++){var d=a[c];if(""===d||-1!=d.indexOf("*")&&"*"!=d&&"**"!=d)throw Error(OpenAjax.hub.Error.BadParameters);if("**"==d&&c<b-1)throw Error(OpenAjax.hub.Error.BadParameters);}}if(!a||!a.HubClient||!a.HubClient.onSecurityAlert)throw Error(OpenAjax.hub.Error.BadParameters);
var h=this,l=a.HubClient.scope||window,d=!1,f={},m=0,s,p=a.HubClient.log?function(b){try{a.HubClient.log.call(l,"IframeHubClient::"+s+": "+b)}catch(c){OpenAjax.hub._debugger()}}:function(){};this._init=function(){var b=OpenAjax.gadgets,c=b.util.getUrlParameters();c.parent||b.rpc.setupReceiver("..",c.oahParent+"/robots.txt");if(a.IframeHubClient&&a.IframeHubClient.requireParentVerifiable&&null===b.rpc.getReceiverOrigin(".."))throw b.rpc.removeReceiver(".."),Error(OpenAjax.hub.Error.IncompatBrowser);
OpenAjax.hub.IframeContainer._rpcRouter.add("..",this);s=OpenAjax.gadgets.rpc.RPC_ID;c.oahId&&(s=s.substring(0,s.lastIndexOf("_")))};this.connect=function(a,b){if(d)throw Error(OpenAjax.hub.Error.Duplicate);OpenAjax.gadgets.rpc.call("..","openajax.pubsub",function(c){if(c&&(d=!0,a))try{a.call(b||window,h,!0)}catch(f){OpenAjax.hub._debugger(),p("caught error from onComplete callback to connect(): "+f.message)}},"con")};this.disconnect=function(a,b){if(!d)throw Error(OpenAjax.hub.Error.Disconnected);
d=!1;var c=null;a&&(c=function(c){try{a.call(b||window,h,!0)}catch(d){OpenAjax.hub._debugger(),p("caught error from onComplete callback to disconnect(): "+d.message)}});OpenAjax.gadgets.rpc.call("..","openajax.pubsub",c,"dis")};this.getPartnerOrigin=function(){if(d){var a=OpenAjax.gadgets.rpc.getReceiverOrigin("..");if(a)return/^([a-zA-Z]+:\/\/[^:]+).*/.exec(a)[1]}return null};this.getClientID=function(){return s};this.subscribe=function(a,d,h,l,s){b();e(a);if(!d)throw Error(OpenAjax.hub.Error.BadParameters);
h=h||window;var x=""+m++;f[x]={cb:d,sc:h,d:s};OpenAjax.gadgets.rpc.call("..","openajax.pubsub",function(a){""!==a&&delete f[x];if(l)try{l.call(h,x,""===a,a)}catch(b){OpenAjax.hub._debugger(),p("caught error from onComplete callback to subscribe(): "+b.message)}},"sub",a,x);return x};this.publish=function(a,d){b();if(!a||""===a||-1!=a.indexOf("*")||-1!=a.indexOf("..")||"."==a.charAt(0)||"."==a.charAt(a.length-1))throw Error(OpenAjax.hub.Error.BadParameters);OpenAjax.gadgets.rpc.call("..","openajax.pubsub",
null,"pub",a,d)};this.unsubscribe=function(a,d,e){b();if(!a)throw Error(OpenAjax.hub.Error.BadParameters);if(!f[a]||f[a].uns)throw Error(OpenAjax.hub.Error.NoSubscription);f[a].uns=!0;OpenAjax.gadgets.rpc.call("..","openajax.pubsub",function(b){delete f[a];if(d)try{d.call(e||window,a,!0)}catch(c){OpenAjax.hub._debugger(),p("caught error from onComplete callback to unsubscribe(): "+c.message)}},"uns",null,a)};this.isConnected=function(){return d};this.getScope=function(){return l};this.getSubscriberData=
function(a){b();if(f[a])return f[a].d;throw Error(OpenAjax.hub.Error.NoSubscription);};this.getSubscriberScope=function(a){b();if(f[a])return f[a].sc;throw Error(OpenAjax.hub.Error.NoSubscription);};this.getParameters=function(){return a};this._handleIncomingRPC=function(a,b,c,d){if("pub"===a&&f[d]&&!f[d].uns)try{f[d].cb.call(f[d].sc,b,c,f[d].d)}catch(e){OpenAjax.hub._debugger(),p("caught error from onData callback to subscribe(): "+e.message)}return"con"===b?!0:!1};this._init()};OpenAjax.hub.IframeContainer._rpcRouter=
function(){function a(){var a=e[this.f];if(a)return a._handleIncomingRPC.apply(a,arguments)}function c(a,b){var c=e[a];c&&c._onSecurityAlert.call(c,b)}var e={};return{add:function(h,l){function d(a,b){if(".."===a)e[".."]||(e[".."]=b);else{for(var c=a;document.getElementById(c);)c=a+"_"+(32767*Math.random()|0).toString(16);e[c]=b;return c}}OpenAjax.gadgets.rpc.register("openajax.pubsub",a);OpenAjax.gadgets.rpc.config({securityCallback:c});b[OpenAjax.gadgets.rpc.SEC_ERROR_LOAD_TIMEOUT]=OpenAjax.hub.SecurityAlert.LoadTimeout;
b[OpenAjax.gadgets.rpc.SEC_ERROR_FRAME_PHISH]=OpenAjax.hub.SecurityAlert.FramePhish;b[OpenAjax.gadgets.rpc.SEC_ERROR_FORGED_MSG]=OpenAjax.hub.SecurityAlert.ForgedMsg;this.add=d;return d(h,l)},remove:function(a){delete e[a]}}}();var b={}}();
OpenAjax.hub.InlineContainer=function(b,a,c){function e(a,b,c,d,f){if(a)try{b=b||window,a.call(b,c,d,f)}catch(e){OpenAjax.hub._debugger(),v._log("caught error from onComplete callback: "+e.message)}}function h(){for(var a in s)b.unsubscribeForClient(this,s[a].h);s=[];p=0;m=!1}function l(){if(!m)throw Error(OpenAjax.hub.Error.Disconnected);}function d(a){if(a=s[a])return a;throw Error(OpenAjax.hub.Error.NoSubscription);}if(!b||!a||!c||!c.Container||!c.Container.onSecurityAlert)throw Error(OpenAjax.hub.Error.BadParameters);
var f=c.Container.scope||window,m=!1,s=[],p=0,v=null,B=c.Container.log?function(b){try{c.Container.log.call(f,"InlineContainer::"+a+": "+b)}catch(d){OpenAjax.hub._debugger()}}:function(){};this._init=function(){b.addContainer(this)};this.getHub=function(){return b};this.sendToClient=function(a,b,c){if(m){c=s[c];try{c.cb.call(c.sc,a,b,c.d)}catch(d){OpenAjax.hub._debugger(),v._log("caught error from onData callback to HubClient.subscribe(): "+d.message)}}};this.remove=function(){m&&h()};this.isConnected=
function(){return m};this.getClientID=function(){return a};this.getPartnerOrigin=function(){return m?window.location.protocol+"//"+window.location.hostname:null};this.getParameters=function(){return c};this.connect=function(a,b,d){if(m)throw Error(OpenAjax.hub.Error.Duplicate);m=!0;v=a;if(c.Container.onConnect)try{c.Container.onConnect.call(f,this)}catch(h){OpenAjax.hub._debugger(),B("caught error from onConnect callback to constructor: "+h.message)}e(b,d,a,!0)};this.disconnect=function(a,b,d){if(!m)throw Error(OpenAjax.hub.Error.Disconnected);
h();if(c.Container.onDisconnect)try{c.Container.onDisconnect.call(f,this)}catch(l){OpenAjax.hub._debugger(),B("caught error from onDisconnect callback to constructor: "+l.message)}e(b,d,a,!0)};this.subscribe=function(a,c,d,f,h){l();if(!a)throw Error(OpenAjax.hub.Error.BadParameters);for(var m=a.split("."),v=m.length,B=0;B<v;B++){var M=m[B];if(""===M||-1!=M.indexOf("*")&&"*"!=M&&"**"!=M)throw Error(OpenAjax.hub.Error.BadParameters);if("**"==M&&B<v-1)throw Error(OpenAjax.hub.Error.BadParameters);}if(!c)throw Error(OpenAjax.hub.Error.BadParameters);
m=""+p++;v=!1;B=null;try{var R=b.subscribeForClient(this,a,m),v=!0}catch(Q){m=null,B=Q.message}d=d||window;v&&(s[m]={h:R,cb:c,sc:d,d:h});e(f,d,m,v,B);return m};this.publish=function(a,c){l();if(null==a||""===a||-1!=a.indexOf("*")||-1!=a.indexOf("..")||"."==a.charAt(0)||"."==a.charAt(a.length-1))throw Error(OpenAjax.hub.Error.BadParameters);b.publishForClient(this,a,c)};this.unsubscribe=function(a,c,d){l();if("undefined"===typeof a||null===a)throw Error(OpenAjax.hub.Error.BadParameters);var f=s[a];
if(!f)throw Error(OpenAjax.hub.Error.NoSubscription);b.unsubscribeForClient(this,f.h);delete s[a];e(c,d,a,!0)};this.getSubscriberData=function(a){l();return d(a).d};this.getSubscriberScope=function(a){l();return d(a).sc};this._init()};
OpenAjax.hub.InlineHubClient=function(b){if(!b||!b.HubClient||!b.HubClient.onSecurityAlert||!b.InlineHubClient||!b.InlineHubClient.container)throw Error(OpenAjax.hub.Error.BadParameters);var a=b.InlineHubClient.container,c=b.HubClient.scope||window;this._log=b.HubClient.log?function(e){try{b.HubClient.log.call(c,"InlineHubClient::"+a.getClientID()+": "+e)}catch(h){OpenAjax.hub._debugger()}}:function(){};this.connect=function(b,c){a.connect(this,b,c)};this.disconnect=function(b,c){a.disconnect(this,
b,c)};this.getPartnerOrigin=function(){return a.getPartnerOrigin()};this.getClientID=function(){return a.getClientID()};this.subscribe=function(b,c,l,d,f){return a.subscribe(b,c,l,d,f)};this.publish=function(b,c){a.publish(b,c)};this.unsubscribe=function(b,c,l){a.unsubscribe(b,c,l)};this.isConnected=function(){return a.isConnected()};this.getScope=function(){return c};this.getSubscriberData=function(b){return a.getSubscriberData(b)};this.getSubscriberScope=function(b){return a.getSubscriberScope(b)};
this.getParameters=function(){return b}};"undefined"==typeof OpenAjax._smash&&(OpenAjax._smash={});
OpenAjax._smash.crypto={strToWA:function(b,a){for(var c=[],e=(1<<a)-1,h=0;h<b.length*a;h+=a)c[h>>5]|=(b.charCodeAt(h/a)&e)<<32-a-h%32;return c},hmac_sha1:function(b,a,c){for(var e=Array(16),h=Array(16),l=0;16>l;l++)e[l]=b[l]^909522486,h[l]=b[l]^1549556828;b=this.sha1(e.concat(this.strToWA(a,c)),512+a.length*c);return this.sha1(h.concat(b),672)},newPRNG:function(b){function a(a){a=c.hmac_sha1(e,a,8);for(var b=0;5>b;b++)h[b]^=a[b]}var c=this;("string"!=typeof b||12>b.length)&&alert("WARNING: Seed length too short ...");
var e=[43417,15926,18182,33130,9585,30800,49772,40144,47678,55453,4659,38181,65340,6787,54417,65301],h=[],l=0;a(b);return{addSeed:function(b){a(b)},nextRandomOctets:function(a){for(var b=[];0<a;){l+=1;var e=c.hmac_sha1(h,l.toString(16),8);for(i=0;20>i&0<a;i++,a--)b.push((e[i>>2]>>i%4)%256)}return b},nextRandomB64Str:function(a){for(var b=this.nextRandomOctets(a),c="",e=0;e<a;e++)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(b[e]&63);return c}}},sha1:function(){var b=
function(a,b){var e=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(e>>16)<<16|e&65535};return function(a,c){a[c>>5]|=128<<24-c%32;a[(c+64>>9<<4)+15]=c;for(var e=Array(80),h=1732584193,l=-271733879,d=-1732584194,f=271733878,m=-1009589776,s=0;s<a.length;s+=16){for(var p=h,v=l,B=d,t=f,I=m,z=0;80>z;z++){e[z]=16>z?a[s+z]:(e[z-3]^e[z-8]^e[z-14]^e[z-16])<<1|(e[z-3]^e[z-8]^e[z-14]^e[z-16])>>>31;var x=p<<5|p>>>27,E;E=20>z?v&B|~v&t:40>z?v^B^t:60>z?v&B|v&t|B&t:v^B^t;x=b(b(x,E),b(b(I,e[z]),20>z?1518500249:40>z?1859775393:
60>z?-1894007588:-899497514));I=t;t=B;B=v<<30|v>>>2;v=p;p=x}h=b(p,h);l=b(v,l);d=b(B,d);f=b(t,f);m=b(I,m)}return[h,l,d,f,m]}}()};gadgets.pubsub2router=function(){return{init:function(b){this.hub=b.hub?b.hub:new OpenAjax.hub.ManagedHub({onPublish:b.onPublish,onSubscribe:b.onSubscribe,onUnsubscribe:b.onUnsubscribe})}}}();com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.cmcontainer=com.rooxteam.cmcontainer||{};com=com||{};com.rooxteam=com.rooxteam||{};
com.rooxteam.docCookies={getItem:function(b){return!b?null:decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(b).replace(/[\-\.\+\*]/g,"\\$\x26")+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(b,a,c,e,h,l){if(!b||/^(?:expires|max\-age|path|domain|secure)$/i.test(b))return!1;var d="";if(c)switch(c.constructor){case Number:d=Infinity===c?"; expires\x3dFri, 31 Dec 9999 23:59:59 GMT":"; max-age\x3d"+c;break;case String:d="; expires\x3d"+c;break;case Date:d=
"; expires\x3d"+c.toUTCString()}document.cookie=encodeURIComponent(b)+"\x3d"+encodeURIComponent(a)+d+(h?"; domain\x3d"+h:"")+(e?"; path\x3d"+e:"")+(l?"; secure":"");return!0},removeItem:function(b,a,c){if(!this.hasItem(b))return!1;document.cookie=encodeURIComponent(b)+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain\x3d"+c:"")+(a?"; path\x3d"+a:"");return!0},hasItem:function(b){return!b?!1:RegExp("(?:^|;\\s*)"+encodeURIComponent(b).replace(/[\-\.\+\*]/g,"\\$\x26")+"\\s*\\\x3d").test(document.cookie)},
keys:function(){for(var b=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),a=b.length,c=0;c<a;c++)b[c]=decodeURIComponent(b[c]);return b}};com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};com.rooxteam.statistic.utils=com.rooxteam.statistic.utils||{};
(function(b,a){function c(a){var b=a.indexOf("?"),c=a.indexOf("#");return(-1===c?a.substr(b+1):[a.substr(b+1,c-b-1),"\x26",a.substr(c+1)].join("")).split("\x26")}var e=com.rooxteam.statistic.utils,h="url lang debug nocache country refresh delayed feature_mode".split(" "),l=null,d=null;e.parseUrlParams=c;e.getUrlParameters=function(a){var b="undefined"===typeof a;if(null!==l&&b)return l;var d={};a=c(a||document.location.href);for(var e=window.decodeURIComponent?decodeURIComponent:unescape,h=0,B=a.length;h<
B;++h){var t=a[h].indexOf("\x3d");if(-1!==t){var I=a[h].substring(0,t),t=a[h].substring(t+1),t=t.replace(/\+/g," ");try{d[I]=e(t)}catch(z){}}}b&&(l=d);return d};e.getUserPrefs=function(b){var c={},s={};if(d)return d;"undefined"!==typeof b&&window.widgetUrls&&window.widgetUrls.length&&window.widgetUrls[b]?(b=window.widgetUrls[b],c=e.getUrlParameters(b)):c=l?l:e.getUrlParameters();for(var p in c)c.hasOwnProperty(p)&&-1===a.inArray(p,h)&&(s[p]=c[p]);return d=s};e.proccessServerAddress=function(a){a&&
"//"===a.substr(0,2)&&(a=document.location.protocol+a);return a};e.getConsole=function(){return window.console&&window.console.log?window.console:{log:function(){},info:function(){},warn:function(){}}};e.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};e.getRenderTypeFromContainer=function(){return com.rooxteam.container&&"string"===typeof com.rooxteam.container.renderType?com.rooxteam.container.renderType.toUpperCase():
""};e.getWidgetNameByModuleId=function(a){return widgetUrls&&widgetUrls[a]&&(a=/([^/|^\\]*)\.xml[\?]?/.exec(widgetUrls[a]))&&a[1]?a[1]:""};e.getStorage=function(a){return a?window.localStorage:window.sessionStorage};e.getStorageItem=function(a,b){var c=e.getStorage(b),d=null;if(c)try{d=JSON.parse(c.getItem(a))}catch(h){}return d};e.setStorageItem=function(a,b,c){if(c=e.getStorage(c))b=JSON.stringify(b),c.setItem(a,b)};e.isSyncCredential=function(a){var b=!1;if(com.rooxteam.config.statistic.CREDENTIALS_SYNC_ENABLED&&
com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP&&"object"===typeof com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP)for(var c in com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP)com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP.hasOwnProperty(c)&&com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP[c]===a&&(b=!0);return b};e.syncCredentialItem=function(a,c){var d,h=window.gadgets?window.gadgets:e.getConsole();b.hasItem(a)?(d=b.getItem(a),e.setStorageItem(c,d,!0),h.warn("localStorage CREDENTIAL:"+
c+" was overriden by cookie CREDENTIAL:"+a)):(d=e.getStorageItem(c,!0))&&b.setItem(a,d,Infinity,"/",com.rooxteam.config.statistic.CREDENTIALS_COOKIE_DOMAIN)};e.syncCredentials=function(a){if(a&&com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP&&"object"===typeof com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP)for(var b in com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP)com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP.hasOwnProperty(b)&&e.syncCredentialItem(b,com.rooxteam.config.statistic.CREDENTIALS_SYNC_MAP[b])}})(com.rooxteam.docCookies,
window.jQuery);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.config=com.rooxteam.config||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
com.rooxteam.config.statistic={ENABLED:!0,LIC_ENABLED:!1,LIC_SERVER_ADDRESS:"http://rcmlic.roox.ru/YA/PushReport/",LIC_OBFUSCATED_DATA:["userid","msisdn","^pn$","authentication_token"],TRANSPORT:"GET",DISABLE_IN_ROAMING:!1,SERVER_ADDRESS:"http://rcmlic.roox.ru/YA/PushReport/",SERVICE_TYPE_PARAMETER:"YA_REPORT_SERVICE",CHECKSUM_PARAMETER:"YA_REPORT_CHECKSUM",SENDING_TIME_PARAMETER:"YA_REPORT_SENDING_TIME",FILTERING_ERROR_PARAMETER:"filtering_error",COUNTER_SERVICE_TYPE:"counter",ACCUMULATE_TIME:6E4,
TIMER_UPDATE_INTERVAL:5E3,ACCUMULATE_OPERATION_LIMIT:20,OVER_ACCUMULATE_OPERATION_LIMIT:100,COUNT_OF_IMMEDIATE_SENDING:3,MAX_URL_LENGTH:2E3,TRACEKIT_ENABLED:!1,IO_EVENTS_ENABLED:!0,VIEW_EVENTS_ENABLED:!0,DOM_EVENTS_ENABLED:!0,DOM_EVENTS:{click:{verbose:4,selector:"a, button"}},META:{CONTAINER:{LOADED:null},WIDGET:{LOADED:null}},CREDENTIALS_SYNC_ENABLED:!1,CREDENTIALS_COOKIE_DOMAIN:"",CREDENTIALS_SYNC_MAP:{roox_uiid:"com.roox.cm.Common.App.Properties.unit.UserInstallationId"}};
(function(b,a,c){function e(a,b){for(var c in a)a.hasOwnProperty(c)&&("object"==typeof a[c]?e(a[c],b):b.apply(a,[c,a[c]]))}function h(a){e(a,function(a,b){/^[\s]*true[\s]*$/i.test(b)?this[a]=!0:/^[\s]*false[\s]*$/i.test(b)?this[a]=!1:/^[\s]*[\d]+[\s]*$/.test(b)&&(this[a]=parseInt(b,10))});return a}com.rooxteam.statistic.updateConfiguration=function(a,b,c,e){c?"undefined"!=typeof b.DOM_EVENTS_WIDGETS&&"undefined"!=typeof b.DOM_EVENTS_WIDGETS[c]?$.extend(a,b,{DOM_EVENTS:b.DOM_EVENTS_WIDGETS[c]}):$.extend(a,
b):e?"undefined"!=typeof b.DOM_EVENTS_PAGES&&"undefined"!=typeof b.DOM_EVENTS_PAGES[e]?$.extend(a,b,{DOM_EVENTS:b.DOM_EVENTS_PAGES[e]}):$.extend(a,b):$.extend(a,b);!0===com.rooxteam.sharedcontext.getDataContext().getDataSet("com.roox.cm.Common.App.Properties.unit.IsScreenshotting")&&(a.ENABLED=!1)};com.rooxteam.statistic.initConfiguration=function(a,d){d&&(!0===com.rooxteam.config.statistic.ENABLED&&null===com.rooxteam.config.statistic.META.CONTAINER.LOADED)&&$.ajax({url:"container-ver.json",dataType:"json"}).done(function(a){com.rooxteam.config.statistic.META.CONTAINER.LOADED=
!0;$.extend(com.rooxteam.config.statistic.META.CONTAINER,a)}).fail(function(){com.rooxteam.config.statistic.META.CONTAINER.LOADED=!1});if(b&&b.config){com.rooxteam.config.statistic.ENABLED=!1;var f=function(){com.rooxteam.statistic.updateConfiguration(com.rooxteam.config.statistic,h(b.config.get("com.rooxteam.statistic")),a,d);!0===com.rooxteam.config.statistic.ENABLED?c.log("Stats enabled"):c.log("Stats disabled");com.rooxteam.statistic.client.initTransport(com.rooxteam.config.statistic.TRANSPORT)};
b.config.register("com.rooxteam.statistic",{},f,f);b.config.get()&&com.rooxteam.statistic.updateConfiguration(com.rooxteam.config.statistic,h(b.config.get("com.rooxteam.statistic")),a,d)}};a.syncCredentials(com.rooxteam.config.statistic.CREDENTIALS_SYNC_ENABLED)})(window.gadgets,com.rooxteam.statistic.utils,com.rooxteam.statistic.utils.getConsole());com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(){function b(b,e){var h={};this.storage={getDataSet:function(a){return h[a]||null},putDataSet:function(a,b){h[a]=b}};this.storageId=a;this.storage_statistic=b?b:"statistic";this.storage_statistic_context=this.storage_statistic+"_context";this._init(e)}var a="com.rooxteam.statistic";b.prototype={_init:function(a){var b=this.storage.getDataSet(this.storageId);if(b){if(!b.version||b.version&&"2.1"!==b.version)b={version:"2.1"}}else b={version:"2.1"};b[this.storage_statistic]||(b[this.storage_statistic]=
[]);b[this.storage_statistic_context]||(b[this.storage_statistic_context]={});this.storage.putDataSet(this.storageId,b);a&&this._initContext(a)},saveUpdateStatistic:function(a){this._saveUpdateStorageItem(this.storage_statistic,a)},getStatistic:function(){return this._getStorageItem(this.storage_statistic)||[]},saveUpdateContextValue:function(a,b){var h=this._getStorageItem(this.storage_statistic_context);h||(h={});h[a]=b;this._saveUpdateStorageItem(this.storage_statistic_context,h)},getContextValue:function(a){var b=
this._getStorageItem(this.storage_statistic_context);return b?b[a]:null},getContext:function(){return this._getStorageItem(this.storage_statistic_context)},_initContext:function(a){var b=this._getStorageItem(this.storage_statistic_context);b||(b={});for(var h in a)b[h]||(b[h]=a[h]);this._saveUpdateStorageItem(this.storage_statistic_context,b)},_saveUpdateStorageItem:function(a,b){var h=this.storage.getDataSet(this.storageId);h&&(h[a]=b,this.storage.putDataSet(this.storageId,h))},_getStorageItem:function(a){var b=
this.storage.getDataSet(this.storageId);return b?b[a]:null}};com.rooxteam.statistic.StatisticDao=b})();
var CryptoJS=CryptoJS||function(b,a){var c={},e=c.lib={},h=function(){},l=e.Base={extend:function(a){h.prototype=this;var b=new h;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
d=e.WordArray=l.extend({init:function(b,c){b=this.words=b||[];this.sigBytes=c!=a?c:4*b.length},toString:function(a){return(a||m).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var f=0;f<a;f++)b[d+f>>>2]|=(c[f>>>2]>>>24-8*(f%4)&255)<<24-8*((d+f)%4);else if(65535<c.length)for(f=0;f<a;f+=4)b[d+f>>>2]=c[f>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<
32-8*(c%4);a.length=b.ceil(c/4)},clone:function(){var a=l.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],f=0;f<a;f+=4)c.push(4294967296*b.random()|0);return new d.init(c,a)}}),f=c.enc={},m=f.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var f=b[d>>>2]>>>24-8*(d%4)&255;c.push((f>>>4).toString(16));c.push((f&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],f=0;f<b;f+=2)c[f>>>3]|=parseInt(a.substr(f,
2),16)<<24-4*(f%8);return new d.init(c,b/2)}},s=f.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],f=0;f<b;f++)c[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new d.init(c,b)}},p=f.Utf8={stringify:function(a){try{return decodeURIComponent(escape(s.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return s.parse(unescape(encodeURIComponent(a)))}},
v=e.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=p.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,f=c.words,e=c.sigBytes,h=this.blockSize,l=e/(4*h),l=a?b.ceil(l):b.max((l|0)-this._minBufferSize,0);a=l*h;e=b.min(4*a,e);if(a){for(var m=0;m<a;m+=h)this._doProcessBlock(f,m);m=f.splice(0,a);c.sigBytes-=e}return new d.init(m,e)},clone:function(){var a=l.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=v.extend({cfg:l.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){v.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new B.HMAC.init(a,
c)).finalize(b)}}});var B=c.algo={};return c}(Math);
(function(){var b=CryptoJS,a=b.lib,c=a.WordArray,e=a.Hasher,h=[],a=b.algo.SHA1=e.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,e=c[0],s=c[1],p=c[2],v=c[3],B=c[4],t=0;80>t;t++){if(16>t)h[t]=a[b+t]|0;else{var I=h[t-3]^h[t-8]^h[t-14]^h[t-16];h[t]=I<<1|I>>>31}I=(e<<5|e>>>27)+B+h[t];I=20>t?I+((s&p|~s&v)+1518500249):40>t?I+((s^p^v)+1859775393):60>t?I+((s&p|s&v|p&v)-1894007588):I+((s^p^
v)-899497514);B=v;v=p;p=s<<30|s>>>2;s=e;e=I}c[0]=c[0]+e|0;c[1]=c[1]+s|0;c[2]=c[2]+p|0;c[3]=c[3]+v|0;c[4]=c[4]+B|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,e=8*a.sigBytes;b[e>>>5]|=128<<24-e%32;b[(e+64>>>9<<4)+14]=Math.floor(c/4294967296);b[(e+64>>>9<<4)+15]=c;a.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var a=e.clone.call(this);a._hash=this._hash.clone();return a}});b.SHA1=e._createHelper(a);b.HmacSHA1=e._createHmacHelper(a)})();
com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a,c){function e(a){var b=a.indexOf("?"),e=c.parseUrlParams(a),h=function(a){var b=a.split("\x3d");if(2!==b.length)return a;b[1]="NA";return b.join("\x3d")},p=function(a,b){var c=b.split("\x3d")[0];return a.test(c)},v=function(){var a=[],b;for(b in l)l.hasOwnProperty(b)&&a.push(l[b]);return RegExp(a.join("|"),"i")}(),B=[],t;for(t in e)p(v,e[t])?B[t]=h(e[t]):B[t]=e[t];return a.substr(0,b+1)+B.join("\x26")}function h(a,c){"undefined"===typeof c&&(c=0);if(1E3<c)return!1;for(var m in a)if(a.hasOwnProperty(m))if(Array.isArray(a))h(a[m],
++c);else if(null!==a[m]&&void 0!==a[m]&&"object"===typeof a[m])h(a[m],++c);else if("url"===m&&"string"===typeof a[m])a[m]=e(a[m]);else{var s=m,p=RegExp(l.join("|"),"i");null!==s.match(p)&&("string"!==typeof a[m]&&"number"!==typeof a[m]&&console.log("Attempt to obfuscate non string or number - "+typeof a[m]),a[m]&&(a[m].toString&&a[m].toString().length)&&(a[m]=b.SHA1(a[m].toString()).toString(b.enc.Base64)))}}var l=com.rooxteam.config.statistic.LIC_OBFUSCATED_DATA;Array.isArray||(Array.isArray=function(a){return"[object Array]"===
Object.prototype.toString.call(a)});com.rooxteam.statistic.deepDataFilter=h;com.rooxteam.statistic.obfuscateUrlParams=e;com.rooxteam.statistic.deepFilter=function(a){var b={data:a},c,e;try{if(c=JSON.parse(a),c.data&&"object"!==typeof c.data)return b.error="wrong_structure",b}catch(l){return b.error="json_parse",b}try{h(c)}catch(v){return b.error="deep_filter",b}try{e=JSON.stringify({data:c.data})}catch(B){return b.error="stringify",b}return e}})(window.CryptoJS,window.jQuery,com.rooxteam.statistic.utils);
com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};(function(b){function a(){c=arguments}var c;a.prototype={setReport:function(a){b.each(c,function(b,c){c.setReport(a)})},sendReport:function(a,h,l,d){var f=[];b.each(c,function(b,c){f.push(c.sendReport(a,h))});return com.rooxteam.deferred.whenSomeArray(f).then(l,d)},validate:function(a,h){var l=!0;b.each(c,function(b,c){l=l&&c.validate(a,h)});return l}};com.rooxteam.statistic.JoinStatisticTransport=a})(window.jQuery);
com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a){function c(a,b){this.serverAddressKey=a;this.useFilters=b||!1;this.content=this.params=this.statistic=null}var e=com.rooxteam.config.statistic,h=e.MAX_URL_LENGTH;c.prototype={setReport:function(a){a=this.filterReport(a);this.content=a.content;this.params=a.parameters},getReport:function(){return this.content},getParameters:function(){return this.params?this.params:{}},isRcmLicUrl:function(){return e[this.serverAddressKey||"SERVER_ADDRESS"]===e.LIC_SERVER_ADDRESS},sendReport:function(a,
c,f,e){null===this.content&&this.setReport(a);c=b.extend({},c,this.getParameters());a=this.getReport();return this._createUpdateImage(this._composeUrl(a,c),f,e)},validate:function(a,c){c=b.extend({},c,this.getParameters());a=this.getReport();return this._composeUrl(a,c).length<=h},filterReport:function(a){var b;this.useFilters&&(a=com.rooxteam.statistic.deepFilter(a),b={},"string"!==typeof a&&(a&&"string"===typeof a.data)&&(a.error&&(b[e.FILTERING_ERROR_PARAMETER]=a.error),a=a.data),b[e.CHECKSUM_PARAMETER]=
com.rooxteam.statistic.calculateChecksum(a));return{content:a,parameters:b}},_composeUrl:function(b,c){var f=a.proccessServerAddress(e[this.serverAddressKey||"SERVER_ADDRESS"])+"?content\x3d"+encodeURIComponent(b),h;for(h in c)f+="\x26"+h+"\x3d"+c[h];return f},_createUpdateImage:function(a,c,f){return b.Deferred(b.proxy(function(e){var h=document.getElementById("roox-statistic-img-"+this.serverAddressKey);h||(h=new Image(1,1),h.id="roox-statistic-img-"+this.serverAddressKey,h.style.position="absolute",
h.style.left="-99999",b("body").append(h));h.onload=function(){"function"===typeof c&&c();e.resolveWith(h,["success"])};h.onerror=function(){"function"===typeof f&&f();e.rejectWith(h,["error"])};h.src=a},this)).promise()}};com.rooxteam.statistic.GetStatisticTransport=c})(window.jQuery,com.rooxteam.statistic.utils);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a){function c(a,b){this.serverAddressKey=a;this.useFilters=b||!1;this.content=this.params=this.statistic=null}var e=com.rooxteam.config.statistic;c.prototype={setReport:function(a){a=this.filterReport(a);this.content=a.content;this.params=a.parameters},getReport:function(){return this.content},getParameters:function(){return this.params?this.params:{}},isRcmLicUrl:function(){return e[this.serverAddressKey||"SERVER_ADDRESS"]===e.LIC_SERVER_ADDRESS},filterReport:function(a){var b;this.useFilters&&
(a=com.rooxteam.statistic.deepFilter(a),b={},"string"!==typeof a&&(a&&"string"===typeof a.data)&&(a.error&&(b[e.FILTERING_ERROR_PARAMETER]=a.error),a=a.data),b[e.CHECKSUM_PARAMETER]=com.rooxteam.statistic.calculateChecksum(a));return{content:a,parameters:b}},sendReport:function(c,l,d,f){var m=a.proccessServerAddress(e[this.serverAddressKey||"SERVER_ADDRESS"]);null===this.content&&this.setReport(c);l=b.extend({},l,this.getParameters());c=this.getReport();return b.ajax({url:m,type:"POST",data:c,beforeSend:function(a){for(var b in l)a.setRequestHeader(b,
l[b])},success:function(){"function"===typeof d&&d()},error:function(){"function"===typeof f&&f()}}).then(function(){return"success"},function(){return"error"})},validate:function(a,b){return!0}};com.rooxteam.statistic.PostStatisticTransport=c})(window.jQuery,com.rooxteam.statistic.utils);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(){com.rooxteam.statistic.calculateChecksum=function(b){var a=0,c,e=[];for(c=0;c<b.length;c++){var h=b.charCodeAt(c);128>h?e.push(h):2048>h?(e.push(192+(h>>6)),e.push(128+(h&63))):65536>h?(e.push(224+(h>>12)),e.push(128+(h>>6&63)),e.push(128+(h&63))):2097152>h&&(e.push(240+(h>>18)),e.push(128+(h>>12&63)),e.push(128+(h>>6&63)),e.push(128+(h&63)))}for(c=0;c<e.length;c++)0===c%3||2===c%5?(b=127<e[c]?4294967040|e[c]:e[c],a^=b<<c%24):a^=(255&~e[c])<<c%24;return a}})();
com.rooxteam.statistic.client=function(b,a){var c=new com.rooxteam.statistic.StatisticDao("statistic",{lastSend:(new Date).getTime()}),e=new com.rooxteam.statistic.StatisticDao("statisticBuffer",{lastSend:0}),h,l=com.rooxteam.config.statistic;Date.prototype.toISOString||function(){function a(b){b=String(b);1===b.length&&(b="0"+b);return b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+
":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}();b.initTransport=function(a){var b;"GET"===a?h=new com.rooxteam.statistic.GetStatisticTransport("SERVER_ADDRESS"):"POST"===a&&(h=new com.rooxteam.statistic.PostStatisticTransport("SERVER_ADDRESS"));!0===l.LIC_ENABLED&&("GET"===a?b=new com.rooxteam.statistic.GetStatisticTransport("LIC_SERVER_ADDRESS",!0):"POST"===a&&(b=new com.rooxteam.statistic.PostStatisticTransport("LIC_SERVER_ADDRESS",!0)),h=new com.rooxteam.statistic.JoinStatisticTransport(h,
b))};b.initTransport(l.TRANSPORT);b._init=function(){if(b.beforeLoadLogData&&b.beforeLoadLogData.length)for(var a=0;a<b.beforeLoadLogData.length;a++)b.logOperation.apply(b,b.beforeLoadLogData[a]);setInterval(function(){b.trySendReport()},l.TIMER_UPDATE_INTERVAL)};b.trySendReport=function(){if(l.ENABLED){var a=e.getStatistic(),f=e.getContextValue("lastSend");if(a&&0<a.length){if(b.isExpired(l.ACCUMULATE_TIME,f)){var m=[],f=b.getCreateReport(a);h.setReport(f);for(var s=b.calculateParams(l.COUNTER_SERVICE_TYPE,
f),p=h.validate(f,s);!p&&0<a.length;){for(;!p&&0<a.length;){var v=a.pop();0<a.length?(m.push(v),f=b.getCreateReport(a),s=b.calculateParams(l.COUNTER_SERVICE_TYPE,f),p=h.validate(f,s)):window.console&&window.console.log("Remove report operation (too big): "+JSON.stringify(v))}m.reverse();p||(a=m,m=[])}p?(h.sendReport(f,s,function(){e.saveUpdateStatistic(m);var a=m.length+c.getStatistic().length;if(a>l.COUNT_OF_IMMEDIATE_SENDING)var d=(new Date).getTime(),a=Math.min(d-1,d-l.ACCUMULATE_TIME+l.ACCUMULATE_TIME*
(a/(l.ACCUMULATE_OPERATION_LIMIT+l.OVER_ACCUMULATE_OPERATION_LIMIT)));else a=0;e.saveUpdateContextValue("lastSend",a);0<m.length&&b.trySendReport()},function(){window.console&&window.console.log("Can't send statistic report.")}),e.saveUpdateContextValue("lastSend",(new Date).getTime())):(e.saveUpdateStatistic(m),0<m.length&&setTimeout(b.trySendReport,0))}}else if(a=c.getStatistic(),f=c.getContextValue("lastSend"),s=!1,l.DISABLE_IN_ROAMING&&com&&com.rooxteam&&com.rooxteam.network&&(s=com.rooxteam.network.isRoaming())&&
window.console.log("Can't send statistic report in roaming."),!s&&a&&0<a.length&&(b.isExpired(l.ACCUMULATE_TIME,f)||a.length>=l.ACCUMULATE_OPERATION_LIMIT))e.saveUpdateStatistic(a),c.saveUpdateStatistic([]),c.saveUpdateContextValue("lastSend",(new Date).getTime()),b.trySendReport()}};b.getCreateReport=function(a){var b={};b.data=a;return JSON.stringify(b)+"\n"};b.calculateParams=function(a,b){var c={};c[l.SERVICE_TYPE_PARAMETER]=a;c[l.CHECKSUM_PARAMETER]=com.rooxteam.statistic.calculateChecksum(b);
c[l.SENDING_TIME_PARAMETER]=(new Date).toISOString();return c};b.logOperation=function(a,f,e,h,p){if(l.ENABLED&&a){var v=c.getStatistic().length;if(v<l.ACCUMULATE_OPERATION_LIMIT+l.OVER_ACCUMULATE_OPERATION_LIMIT){var B={};B.name=a;B.quantity=e?e:1;B.timeStart=h?h:(new Date).getTime();B.timeEnd=p?p:B.timeStart;B.data=f?f:"";a=c.getStatistic();a.push(B);c.saveUpdateStatistic(a)}v>=l.ACCUMULATE_OPERATION_LIMIT&&b.trySendReport()}};b.logOperationAuth=function(c,f,e,h,l){if(a&&a.util&&a.util.hasFeature("com.rooxteam.auth")){var v=
com.rooxteam.auth.getPrincipal();f||(f={});f.userId=v}b.logOperation(c,f,e,h,l)};b.isExpired=function(a,b){var c=(new Date).getTime();return c<b||c-b>a};b._init();return b}(com.rooxteam.statistic.client||{},window.gadgets);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a){com.rooxteam.statistic.getPageName=function(c){var e;try{var h;h="undefined"!==typeof c?c.split("/").pop():"undefined"!==typeof b&&"undefined"!==typeof b.Navigation&&b.Navigation.location?b.Navigation.location.split("/").pop():window.location.href.split("/").pop();e=h.substr(0,h.lastIndexOf("."))||h}catch(l){a.log("can't detect current url"),e="undetected"}return e}})(window.WinJS,com.rooxteam.statistic.utils.getConsole());
(function(b,a,c,e,h){var l=com.rooxteam.statistic.utils;h&&h.report&&h.report.subscribe(function(a){if(!0!==com.rooxteam.config.statistic.TRACEKIT_ENABLED)return!1;a=com.rooxteam.statistic.getContext(a);try{com.rooxteam.statistic.client.logOperationAuth("event.exception",a,1,null,null)}catch(b){}});com.rooxteam.statistic.setupCapturingEvent=function(b){var f=com.rooxteam.config.statistic;if(!f.DOM_EVENTS_ENABLED||!f.DOM_EVENTS)return!0;"undefined"!==typeof c&&"undefined"!==typeof c.Navigation&&c.Navigation.addEventListener("navigated",
function(a){b.p=com.rooxteam.statistic.getPageName(a.detail.location)});e.addEventListener?a.each(f.DOM_EVENTS,function(c,h){if("mouseleave"===c||"mouseenter"===c)a(e).on(c,h.selector,b,function(c){if(!f.DOM_EVENTS_ENABLED)return!0;c.data=a.extend(c.data,b);com.rooxteam.statistic.processEvent(c);return!0});else e.addEventListener(c,function(c){if(!f.DOM_EVENTS_ENABLED||h.selector&&!a(c.target).is(h.selector))return!0;c=a.event.fix(c);c.data=b;com.rooxteam.statistic.processEvent(c)},!0)}):a.each(f.DOM_EVENTS,
function(c,h){a(e).on(c,h.selector,b,function(c){if(!f.DOM_EVENTS_ENABLED)return!0;c.data=a.extend(c.data,b);com.rooxteam.statistic.processEvent(c);return!0})})};com.rooxteam.statistic.getDomPath=function(a){for(var b=[];null!==a.parentNode;){for(var c=0,e=0,h=0;h<a.parentNode.childNodes.length;h++){var l=a.parentNode.childNodes[h];l.nodeName===a.nodeName&&(l===a&&(e=c),c++)}a.hasAttribute("id")&&""!==a.id?b.unshift(a.nodeName.toLowerCase()+"#"+a.id):1<c?b.unshift(a.nodeName.toLowerCase()+":eq("+
e+")"):b.unshift(a.nodeName.toLowerCase());a=a.parentNode}return b.slice(1).join(" ")};com.rooxteam.statistic.getModuleId=function(b){b=a(b).parents('[id^\x3d"widget_wrapper_"]');return 0<b.length&&(b=/^widget_wrapper_([\d]+)$/.exec(b[0].id))&&"undefined"!==b[1]?+b[1]:NaN};com.rooxteam.statistic.getContext=function(c){function f(a,b){a="com.roox.cm.Common.App.Properties.unit."+a;if(b){var c=h.getDataSet(a);c||(c=l.guid(),h.putDataSet(a,c));e.putDataSet(a,c);l.isSyncCredential(a)&&l.syncCredentials(com.rooxteam.config.statistic.CREDENTIALS_SYNC_ENABLED);
return c}return e.getDataSet(a)}var e=com.rooxteam.sharedcontext.getDataContext(),h=com.rooxteam.sharedcontext.getPersistentDataContext(),p=Array.prototype.slice.call(arguments);e&&p.unshift({cmver:e.getDataSet("com.roox.cm.Common.App.Properties.unit.AppArtifact")||"",oid:e.getDataSet("com.roox.cm.Common.App.Properties.unit.AppCode")||com.rooxteam.config.statistic.OPERATOR_ID||"",uiid:f("UserInstallationId",com.rooxteam.config.statistic.AUTO_GENERATE_UIID)||"",iid:f("InstallationId",com.rooxteam.config.statistic.AUTO_GENERATE_IID)||
""});com.rooxteam.config.statistic.META.CONTAINER.LOADED&&p.unshift({cwrsver:com.rooxteam.config.statistic.META.CONTAINER.jobName+"-"+com.rooxteam.config.statistic.META.CONTAINER.buildNumber});if(b&&b.config){var v=b.config.get("com.rooxteam.container");if(v){var B=v["com.rooxteam.env.wrs.componentId"],v=v["com.rooxteam.env.wrs.componentVersion"];B&&v&&p.unshift({swrsver:B+"-"+v})}}b&&(b.util&&b.util.hasFeature("com.rooxteam.network"))&&(B=h.getDataSet("com.rooxteam.cached_msisdn")||"",v=com.rooxteam.network.getMobileDevice()&&
com.rooxteam.network.getMobileDevice().getDeviceInfo().getPhoneNumber()||"",v=v.replace("+",""),p.unshift({mst:com.rooxteam.network.getMobileState(),wst:com.rooxteam.network.getWifiState(),fst:com.rooxteam.network.getFixedState(),pn:v||B}));"INLINE"===l.getRenderTypeFromContainer()&&p.unshift({p:com.rooxteam.statistic.getPageName()});p.unshift({tz:(new Date).getTimezoneOffset()});p.unshift({});return a.extend.apply(null,p)};com.rooxteam.statistic.processEvent=function(a){var b=com.rooxteam.config.statistic,
c={},b=b.DOM_EVENTS[a.type]&&b.DOM_EVENTS[a.type].verbose||4;if(a.target){if(a.target.id)c.id=a.target.id;else{var e=com.rooxteam.statistic.getDomPath(a.target);e&&(c.path=e)}a.target.className&&1<=b&&(c.cls=a.target.className);a.target.getAttribute("href")&&4<=b&&(c.href=a.target.getAttribute("href"));a.target.getAttribute("onclick")&&4<=b&&(c.clk=a.target.getAttribute("onclick"));a.target.getAttribute("alt")&&7<=b&&(c.alt=a.target.getAttribute("alt"));a.target.getAttribute("title")&&7<=b&&(c.title=
a.target.getAttribute("title"));if((!a.target.children||0===a.target.children.length)&&a.target.textContent&&9===b)c.txt=a.target.textContent;e=com.rooxteam.statistic.getModuleId(a.target);isNaN(e)||(c.mid=e,(e=l.getWidgetNameByModuleId(e))&&(c.w=e))}c=com.rooxteam.statistic.getContext(a.data,c);2<=b?com.rooxteam.statistic.client.logOperationAuth("event."+a.type,c,1,null,null):com.rooxteam.statistic.client.logOperation("event."+a.type,c,1,null,null)}})(window.gadgets,window.jQuery,window.WinJS,window.document,
window.TraceKit);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.statistic=com.rooxteam.statistic||{};
(function(b,a,c,e,h,l){var d=com.rooxteam.statistic.getPageName();if("undefined"===typeof jQuery)return l.log("can't use jquery"),!1;com.rooxteam.statistic.initConfiguration(null,d);a(window).on("load",function(){com.rooxteam.statistic.setupCapturingEvent({p:d})});if("undefined"!==typeof c&&"undefined"!==typeof c.Navigation){var f=function(b){b=com.rooxteam.statistic.getPageName(b);!0===com.rooxteam.config.statistic.VIEW_EVENTS_ENABLED&&(b=com.rooxteam.statistic.getContext({p:b}),com.rooxteam.statistic&&
com.rooxteam.statistic.client.logOperationAuth("page.display",b,1,null,null),"undefined"!==typeof window.loadWidgetsDeferred?window.loadWidgetsDeferred.then(function(){a('div span iframe[name^\x3d"__gadget_"]',c.Application.navigator.pageElement).filter(":visible").each(function(){var a=this.contentWindow;a&&a.postMessage(JSON.stringify({id:"widget.display"}),"*")})}):l.log("visited event received, but window not loaded yet"))},m=function(b){"undefined"!==typeof window.loadWidgetsDeferred?window.loadWidgetsDeferred.then(function(){a('div span iframe[name^\x3d"__gadget_"]',
c.Application.navigator.pageElement).each(function(){var a=this.contentWindow;a&&a.postMessage(JSON.stringify({id:"widget.hidden"}),"*")})}):l.log("hidden event received, but window not loaded yet")};h.addEventListener("visibilitychange",function(){!1===h.hidden?f():!0===h.hidden&&m()});e.UI.WebUI.WebUIApplication.addEventListener("resuming",function(){f()});c.Navigation.addEventListener("navigated",function(a){f(a.detail.location)})}b=function(){var b=function(a){var b=null;try{b=JSON.parse(a.originalEvent.data)}catch(c){}return b},
c=function(b,c){c=c||{};var d=a('div span iframe[name^\x3d"__gadget_"]');b&&(d=a('div span iframe[name^\x3d"__gadget_"]').filter(":visible"));d.each(function(){var a=this.contentWindow;a&&a.postMessage(JSON.stringify(c),"*")})},f=function(){return"undefined"!==typeof window.loadWidgetsDeferred},e=function(a,b){var c=0,d=function(){var f;a:{f=com.rooxteam.statistic.getContext();for(var e in a)if(!f[a[e]]){f=!1;break a}f=!0}f?(l.log("_waitStatisticContextData: all async data enable"),b()):5>c&&"function"===
typeof window.setTimeout?(window.setTimeout(d,200),c++,l.log("_waitStatisticContextData: increase counter")):(l.log("_waitStatisticContextData: stop trying - execute callback"),b())};d()};return{hasVisibilityApi:function(){return"undefined"!==typeof h.hidden},registerVisibilityCallback:function(){a(h).on("visibilitychange",function(){!0===h.hidden?f()?e(["uiid","iid"],function(){window.loadWidgetsDeferred.then(function(){c(!1,{id:"widget.hidden"})})}):l.log("hidden event received, but window not loaded yet"):
(e(["uiid","iid"],function(){var a=com.rooxteam.statistic.getContext({p:d});com.rooxteam.statistic.client.logOperationAuth("page.display",a,1,null,null)}),f()?e(["uiid","iid"],function(){window.loadWidgetsDeferred.then(function(){c(!0,{id:"widget.display"})})}):l.log("visited event received, but window not loaded yet"))})},registerPostMessageCallback:function(){a(window).on("message",function(a){a=b(a);var h=com.rooxteam.config.statistic;a&&("com.roox.cm.Common.App.Events.WebViewActivated"===a.id&&
!0===h.VIEW_EVENTS_ENABLED)&&(a=a.data.id.split(".").pop(),a===d&&(e(["uiid","iid"],function(){var a=com.rooxteam.statistic.getContext({p:d});com.rooxteam.statistic.client.logOperationAuth("page.display",a,1,null,null)}),f()?e(["uiid","iid"],function(){window.loadWidgetsDeferred.then(function(){c(!0,{id:"widget.display"})})}):l.log("visited event received, but window not loaded yet")))})}}}();b.hasVisibilityApi()?b.registerVisibilityCallback():b.registerPostMessageCallback()})(window.gadgets,window.jQuery,
window.WinJS,window.Windows,window.document,com.rooxteam.statistic.utils.getConsole());com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.templates=com.rooxteam.templates||{};com.rooxteam.templates.renderToEl=function(b,a,c,e,h,l){return com.rooxteam.templates.render(b,a,null,h,l).done(function(a){"undefined"===typeof MSApp?c.html(a):MSApp.execUnsafeLocalFunction(function(){c.html(a)})}).always(e)};
com.rooxteam.templates.renderToBody=function(b,a,c,e,h){return com.rooxteam.templates.render(b,a,e).done(function(a){"undefined"===typeof MSApp?jQuery("body").html(a):MSApp.execUnsafeLocalFunction(function(){jQuery("body").html(a)})}).always(c)};com.rooxteam.templates.render=function(b,a,c,e,h){throw Error("Method not implemented");};com.rooxteam.templates.compileTemplate=function(b,a,c){throw Error("Method not implemented");};
com.rooxteam.templates.compile=function(b,a,c){var e=[];b.children().each(function(){var a=$(this).attr("src"),b=$(this).attr("name")||a,d=this.text||this.innerText||this.textContent;a?e.push($.ajax({type:"GET",url:c+a,dataType:"text"}).pipe(function(a){return[a,b]})):d&&e.push($.Deferred(function(a){a.resolve(d,b)}))});return $.when.apply(null,e).pipe(function(){for(var b="\x3cscript type\x3d'text/javascript'\x3e",c=Array.prototype.slice.call(arguments,0),d=0,f=c.length;d<f;d++)b+=com.rooxteam.templates.compileTemplate(c[d][0]+
"",c[d][1]+"",a);return b+"\x3c/script\x3e"})};
(function(b){function a(a,b,c,d){this.stack=a;this.global=b;this.blocks=c;this.templateName=d}function c(a,b,c,d){this.tail=b;this.isObject=a&&"object"===typeof a;this.head=a;this.index=c;this.of=d}function e(a){this.head=new l(this);this.callback=a;this.out=""}function h(){this.head=new l(this)}function l(a,b,c){this.root=a;this.next=b;this.data=[];this.flushable=!1;this.taps=c}function d(a,b){this.head=a;this.tail=b}var f={},m=["DEBUG","INFO","WARN","ERROR","NONE"],s=function(){},p={},v,B;f.debugLevel=
"NONE";f.silenceErrors=!1;b&&(b.console&&b.console.log)&&(B=b.console,v=b.console.log);p.log=B?function(){p.log="function"===typeof v?function(){v.apply(B,arguments)}:function(){var a=Array.prototype.slice.apply(arguments).join(" ");v(a)};p.log.apply(this,arguments)}:function(){};f.log=function(a,b){f.isDebug&&"NONE"===f.debugLevel&&(p.log('[!!!DEPRECATION WARNING!!!]: dust.isDebug is deprecated.  Set dust.debugLevel instead to the level of logging you want ["debug","info","warn","error","none"]'),
f.debugLevel="INFO");b=b||"INFO";f.indexInArray(m,b)>=f.indexInArray(m,f.debugLevel)&&(f.logQueue||(f.logQueue=[]),f.logQueue.push({message:a,type:b}),p.log("[DUST "+b+"]: "+a));if(!f.silenceErrors&&"ERROR"===b){if("string"===typeof a)throw Error(a);throw a;}};f.onError=function(a,b){p.log("[!!!DEPRECATION WARNING!!!]: dust.onError will no longer return a chunk object.");f.log(a.message||a,"ERROR");if(f.silenceErrors)return b;throw a;};f.helpers={};f.cache={};f.register=function(a,b){a&&(f.cache[a]=
b)};f.render=function(b,c,d){d=(new e(d)).head;try{f.load(b,d,a.wrap(c,b)).end()}catch(h){f.log(h,"ERROR")}};f.stream=function(b,c){var d=new h;f.nextTick(function(){try{f.load(b,d.head,a.wrap(c,b)).end()}catch(e){f.log(e,"ERROR")}});return d};f.renderSource=function(a,b,c){return f.compileFn(a)(b,c)};f.compileFn=function(b,c){c=c||null;var d=f.loadSource(f.compile(b,c));return function(b,g){var l=g?new e(g):new h;f.nextTick(function(){"function"===typeof d?d(l.head,a.wrap(b,c)).end():f.log(Error("Template ["+
c+"] cannot be resolved to a Dust function"),"ERROR")});return l}};f.load=function(a,b,c){var d=f.cache[a];return d?d(b,c):f.onLoad?b.map(function(b){f.onLoad(a,function(d,e){if(d)return b.setError(d);f.cache[a]||f.loadSource(f.compile(e,a));f.cache[a](b,c).end()})}):b.setError(Error("Template Not Found: "+a))};f.loadSource=function(a,b){return eval(a)};f.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};f.indexInArray=function(a,b,c){c=+c||
0;if(Array.prototype.indexOf)return a.indexOf(b,c);if(void 0===a||null===a)throw new TypeError('cannot call method "indexOf" of null');var d=a.length;Infinity===Math.abs(c)&&(c=0);0>c&&(c+=d,0>c&&(c=0));for(;c<d;c++)if(a[c]===b)return c;return-1};f.nextTick=function(){return function(a){setTimeout(a,0)}}();f.isEmpty=function(a){return f.isArray(a)&&!a.length?!0:0===a?!1:!a};f.filter=function(a,b,c){if(c)for(var d=0,e=c.length;d<e;d++){var h=c[d];"s"===h?(b=null,f.log("Using unescape filter on ["+
a+"]","DEBUG")):"function"===typeof f.filters[h]?a=f.filters[h](a):f.log("Invalid filter ["+h+"]","WARN")}b&&(a=f.filters[b](a));return a};f.filters={h:function(a){return f.escapeHtml(a)},j:function(a){return f.escapeJs(a)},u:encodeURI,uc:encodeURIComponent,js:function(a){if(JSON)return JSON.stringify(a);f.log("JSON is undefined.  JSON stringify has not been used on ["+a+"]","WARN");return a},jp:function(a){if(JSON)return JSON.parse(a);f.log("JSON is undefined.  JSON parse has not been used on ["+
a+"]","WARN");return a}};f.makeBase=function(b){return new a(new c,b)};a.wrap=function(b,d){return b instanceof a?b:new a(new c(b),{},null,d)};a.prototype.get=function(a,b){"string"===typeof a&&("."===a[0]&&(b=!0,a=a.substr(1)),a=a.split("."));return this._get(b,a)};a.prototype._get=function(a,b){var c=this.stack,d=1,e,h,l,m;f.log("Searching for reference [{"+b.join(".")+"}] in template ["+this.getTemplateName()+"]","DEBUG");h=b[0];l=b.length;if(a&&0===l)m=c,c=c.head;else{if(a)c&&(c=c.head?c.head[h]:
void 0);else{for(;c&&(!c.isObject||!(m=c.head,e=c.head[h],void 0!==e));)c=c.tail;c=void 0!==e?e:this.global?this.global[h]:void 0}for(;c&&d<l;)m=c,c=c[b[d]],d++}if("function"===typeof c)return d=function(){try{return c.apply(m,arguments)}catch(a){return f.log(a,"ERROR")}},d.isFunction=!0,d;void 0===c&&f.log("Cannot find the value for reference [{"+b.join(".")+"}] in template ["+this.getTemplateName()+"]");return c};a.prototype.getPath=function(a,b){return this._get(a,b)};a.prototype.push=function(b,
d,f){return new a(new c(b,this.stack,d,f),this.global,this.blocks,this.getTemplateName())};a.prototype.rebase=function(b){return new a(new c(b),this.global,this.blocks,this.getTemplateName())};a.prototype.current=function(){return this.stack.head};a.prototype.getBlock=function(a,b,c){"function"===typeof a&&(b=new l,a=a(b,this).data.join(""));if(b=this.blocks){c=b.length;for(var d;c--;)if(d=b[c][a])return d}else f.log("No blocks for context[{"+a+"}] in template ["+this.getTemplateName()+"]","DEBUG")};
a.prototype.shiftBlocks=function(b){var c=this.blocks;return b?(b=c?c.concat([b]):[b],new a(this.stack,this.global,b,this.getTemplateName())):this};a.prototype.getTemplateName=function(){return this.templateName};e.prototype.flush=function(){for(var a=this.head;a;){if(a.flushable)this.out+=a.data.join("");else{a.error&&(this.callback(a.error),f.log("Chunk error ["+a.error+"] thrown. Ceasing to render this template.","WARN"),this.flush=s);return}this.head=a=a.next}this.callback(null,this.out)};h.prototype.flush=
function(){for(var a=this.head;a;){if(a.flushable)this.emit("data",a.data.join(""));else{a.error&&(this.emit("error",a.error),f.log("Chunk error ["+a.error+"] thrown. Ceasing to render this template.","WARN"),this.flush=s);return}this.head=a=a.next}this.emit("end")};h.prototype.emit=function(a,b){if(!this.events)return f.log("No events to emit","INFO"),!1;var c=this.events[a];if(!c)return f.log("Event type ["+a+"] does not exist","WARN"),!1;if("function"===typeof c)c(b);else if(f.isArray(c))for(var c=
c.slice(0),d=0,e=c.length;d<e;d++)c[d](b);else f.log("Event Handler ["+c+"] is not of a type that is handled by emit","WARN")};h.prototype.on=function(a,b){this.events||(this.events={});this.events[a]?"function"===typeof this.events[a]?this.events[a]=[this.events[a],b]:this.events[a].push(b):(f.log("Event type ["+a+"] does not exist. Using just the specified callback.","WARN"),b?this.events[a]=b:f.log("Callback for type ["+a+"] does not exist. Listener not registered.","WARN"));return this};h.prototype.pipe=
function(a){this.on("data",function(b){try{a.write(b,"utf8")}catch(c){f.log(c,"ERROR")}}).on("end",function(){try{return a.end()}catch(b){f.log(b,"ERROR")}}).on("error",function(b){a.error(b)});return this};l.prototype.write=function(a){var b=this.taps;b&&(a=b.go(a));this.data.push(a);return this};l.prototype.end=function(a){a&&this.write(a);this.flushable=!0;this.root.flush();return this};l.prototype.map=function(a){var b=new l(this.root,this.next,this.taps),c=new l(this.root,b,this.taps);this.next=
c;this.flushable=!0;a(c);return b};l.prototype.tap=function(a){var b=this.taps;this.taps=b?b.push(a):new d(a);return this};l.prototype.untap=function(){this.taps=this.taps.tail;return this};l.prototype.render=function(a,b){return a(this,b)};l.prototype.reference=function(a,b,c,d){return"function"===typeof a&&(a.isFunction=!0,a=a.apply(b.current(),[this,b,null,{auto:c,filters:d}]),a instanceof l)?a:f.isEmpty(a)?this:this.write(f.filter(a,c,d))};l.prototype.section=function(a,b,c,d){if("function"===
typeof a&&(a=a.apply(b.current(),[this,b,c,d]),a instanceof l))return a;var e=c.block;c=c["else"];d&&(b=b.push(d));if(f.isArray(a)){if(e){d=a.length;var h=this;if(0<d){b.stack.head&&(b.stack.head.$len=d);for(c=0;c<d;c++)b.stack.head&&(b.stack.head.$idx=c),h=e(h,b.push(a[c],c,d));b.stack.head&&(b.stack.head.$idx=void 0,b.stack.head.$len=void 0);return h}if(c)return c(this,b)}}else if(!0===a){if(e)return e(this,b)}else if(a||0===a){if(e)return e(this,b.push(a))}else if(c)return c(this,b);f.log("Not rendering section (#) block in template ["+
b.getTemplateName()+"], because above key was not found","DEBUG");return this};l.prototype.exists=function(a,b,c){var d=c.block;c=c["else"];if(f.isEmpty(a)){if(c)return c(this,b)}else if(d)return d(this,b);f.log("Not rendering exists (?) block in template ["+b.getTemplateName()+"], because above key was not found","DEBUG");return this};l.prototype.notexists=function(a,b,c){var d=c.block;c=c["else"];if(f.isEmpty(a)){if(d)return d(this,b)}else if(c)return c(this,b);f.log("Not rendering not exists (^) block check in template ["+
b.getTemplateName()+"], because above key was found","DEBUG");return this};l.prototype.block=function(a,b,c){c=c.block;a&&(c=a);return c?c(this,b):this};l.prototype.partial=function(a,b,c){var d;d=f.makeBase(b.global);d.blocks=b.blocks;b.stack&&b.stack.tail&&(d.stack=b.stack.tail);c&&(d=d.push(c));"string"===typeof a&&(d.templateName=a);d=d.push(b.stack.head);return"function"===typeof a?this.capture(a,d,function(a,b){d.templateName=d.templateName||a;f.load(a,b,d).end()}):f.load(a,this,d)};l.prototype.helper=
function(a,b,c,d){try{if(f.helpers[a])return f.helpers[a](this,b,c,d);f.log("Invalid helper ["+a+"]","WARN");return this}catch(e){return f.log(e,"ERROR"),this}};l.prototype.capture=function(a,b,c){return this.map(function(d){var f=new e(function(a,b){a?d.setError(a):c(b,d)});a(f.head,b).end()})};l.prototype.setError=function(a){this.error=a;this.root.flush();return this};d.prototype.push=function(a){return new d(a,this)};d.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};
var t=RegExp(/[&<>\"\']/),I=/&/g,z=/</g,x=/>/g,E=/\"/g,G=/\'/g;f.escapeHtml=function(a){return"string"===typeof a?!t.test(a)?a:a.replace(I,"\x26amp;").replace(z,"\x26lt;").replace(x,"\x26gt;").replace(E,"\x26quot;").replace(G,"\x26#39;"):a};var K=/\\/g,H=/\//g,M=/\r/g,R=/\u2028/g,Q=/\u2029/g,w=/\n/g,r=/\f/g,u=/'/g,N=/"/g,D=/\t/g;f.escapeJs=function(a){return"string"===typeof a?a.replace(K,"\\\\").replace(H,"\\/").replace(N,'\\"').replace(u,"\\'").replace(M,"\\r").replace(R,"\\u2028").replace(Q,"\\u2029").replace(w,
"\\n").replace(r,"\\f").replace(D,"\\t"):a};"object"===typeof exports?module.exports=f:b.dust=f})(this);
(function(b,a){"object"===typeof exports?module.exports=a(require("./dust")):a(b.dust)})(this,function(b){var a=function(){function b(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(e,l){function d(a){var b={},c;for(c in a)b[c]=a[c];return b}function f(a,b){for(var c=a.offset+b,d=a.offset;d<c;d++){var g=
e.charAt(d);"\n"===g?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===g||"\u2028"===g||"\u2029"===g?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1)}a.offset+=b}function m(a){n.offset<ea.offset||(n.offset>ea.offset&&(ea=d(n),la=[]),la.push(a))}function s(){var a,b,c;c=d(n);a=[];for(b=p();null!==b;)a.push(b),b=p();null!==a&&(a=["body"].concat(a).concat([["line",c.line],["col",c.column]]));null===a&&(n=d(c));return a}function p(){var a;a=O();null===a&&(a=U(),null===a&&(a=v(),null===a&&(a=
G(),null===a&&(a=H(),null===a&&(a=E(),null===a&&(a=L()))))));return a}function v(){var a,b,c,g,l,r,w,u;y++;w=d(n);u=d(n);a=B();if(null!==a){b=[];for(c=A();null!==c;)b.push(c),c=A();if(null!==b)if(c=W(),null!==c)if(g=s(),null!==g)if(l=x(),null!==l)if(r=t(),r=null!==r?r:"",null!==r){if(!r||a[1].text!==r.text)throw Error("Expected end tag for "+a[1].text+" but it was not found. At line : "+n.line+", column : "+n.column);a=[a,b,c,g,l,r,""]}else a=null,n=d(u);else a=null,n=d(u);else a=null,n=d(u);else a=
null,n=d(u);else a=null,n=d(u)}else a=null,n=d(u);null!==a&&(a=function(a,b,c,d,e,g,f){g.push(["param",["literal","block"],e]);d.push(g);return d.concat([["line",b],["col",c]])}(w.offset,w.line,w.column,a[0],a[3],a[4],a[5]));null===a&&(n=d(w));if(null===a){w=d(n);u=d(n);a=B();if(null!==a){b=[];for(c=A();null!==c;)b.push(c),c=A();null!==b?(47===e.charCodeAt(n.offset)?(c="/",f(n,1)):(c=null,0===y&&m('"/"')),null!==c?(g=W(),null!==g?a=[a,b,c,g]:(a=null,n=d(u))):(a=null,n=d(u))):(a=null,n=d(u))}else a=
null,n=d(u);null!==a&&(a=function(a,b,c,d){d.push(["bodies"]);return d.concat([["line",b],["col",c]])}(w.offset,w.line,w.column,a[0]));null===a&&(n=d(w))}y--;0===y&&null===a&&m("section");return a}function B(){var a,b,c,g,l,r,w,u;w=d(n);u=d(n);a=F();if(null!==a)if(/^[#?^<+@%]/.test(e.charAt(n.offset))?(b=e.charAt(n.offset),f(n,1)):(b=null,0===y&&m("[#?^\x3c+@%]")),null!==b){c=[];for(g=A();null!==g;)c.push(g),g=A();null!==c?(g=M(),null!==g?(l=I(),null!==l?(r=z(),null!==r?a=[a,b,c,g,l,r]:(a=null,n=
d(u))):(a=null,n=d(u))):(a=null,n=d(u))):(a=null,n=d(u))}else a=null,n=d(u);else a=null,n=d(u);null!==a&&(a=[a[1],a[3],a[4],a[5]]);null===a&&(n=d(w));return a}function t(){var a,b,c,g,l,r,w,u;y++;w=d(n);u=d(n);a=F();if(null!==a)if(47===e.charCodeAt(n.offset)?(b="/",f(n,1)):(b=null,0===y&&m('"/"')),null!==b){c=[];for(g=A();null!==g;)c.push(g),g=A();if(null!==c)if(g=M(),null!==g){l=[];for(r=A();null!==r;)l.push(r),r=A();null!==l?(r=W(),null!==r?a=[a,b,c,g,l,r]:(a=null,n=d(u))):(a=null,n=d(u))}else a=
null,n=d(u);else a=null,n=d(u)}else a=null,n=d(u);else a=null,n=d(u);null!==a&&(a=a[3]);null===a&&(n=d(w));y--;0===y&&null===a&&m("end tag");return a}function I(){var a,b,c,g,l;c=d(n);g=d(n);l=d(n);58===e.charCodeAt(n.offset)?(a=":",f(n,1)):(a=null,0===y&&m('":"'));null!==a?(b=M(),null!==b?a=[a,b]:(a=null,n=d(l))):(a=null,n=d(l));null!==a&&(a=a[1]);null===a&&(n=d(g));a=null!==a?a:"";null!==a&&(a=a?["context",a]:["context"]);null===a&&(n=d(c));return a}function z(){var a,b,c,l,r,w,p,D;y++;w=d(n);a=
[];p=d(n);D=d(n);c=A();if(null!==c)for(b=[];null!==c;)b.push(c),c=A();else b=null;null!==b?(c=u(),null!==c?(61===e.charCodeAt(n.offset)?(l="\x3d",f(n,1)):(l=null,0===y&&m('"\x3d"')),null!==l?(r=R(),null===r&&(r=M(),null===r&&(r=g())),null!==r?b=[b,c,l,r]:(b=null,n=d(D))):(b=null,n=d(D))):(b=null,n=d(D))):(b=null,n=d(D));null!==b&&(b=["param",["literal",b[1]],b[3]]);for(null===b&&(n=d(p));null!==b;){a.push(b);p=d(n);D=d(n);c=A();if(null!==c)for(b=[];null!==c;)b.push(c),c=A();else b=null;null!==b?(c=
u(),null!==c?(61===e.charCodeAt(n.offset)?(l="\x3d",f(n,1)):(l=null,0===y&&m('"\x3d"')),null!==l?(r=R(),null===r&&(r=M(),null===r&&(r=g())),null!==r?b=[b,c,l,r]:(b=null,n=d(D))):(b=null,n=d(D))):(b=null,n=d(D))):(b=null,n=d(D));null!==b&&(b=["param",["literal",b[1]],b[3]]);null===b&&(n=d(p))}null!==a&&(a=["params"].concat(a));null===a&&(n=d(w));y--;0===y&&null===a&&m("params");return a}function x(){var a,b,c,g,l,r,w,p,D;y++;w=d(n);a=[];p=d(n);D=d(n);b=F();null!==b?(58===e.charCodeAt(n.offset)?(c=
":",f(n,1)):(c=null,0===y&&m('":"')),null!==c?(g=u(),null!==g?(l=W(),null!==l?(r=s(),null!==r?b=[b,c,g,l,r]:(b=null,n=d(D))):(b=null,n=d(D))):(b=null,n=d(D))):(b=null,n=d(D))):(b=null,n=d(D));null!==b&&(b=["param",["literal",b[2]],b[4]]);for(null===b&&(n=d(p));null!==b;)a.push(b),p=d(n),D=d(n),b=F(),null!==b?(58===e.charCodeAt(n.offset)?(c=":",f(n,1)):(c=null,0===y&&m('":"')),null!==c?(g=u(),null!==g?(l=W(),null!==l?(r=s(),null!==r?b=[b,c,g,l,r]:(b=null,n=d(D))):(b=null,n=d(D))):(b=null,n=d(D))):
(b=null,n=d(D))):(b=null,n=d(D)),null!==b&&(b=["param",["literal",b[2]],b[4]]),null===b&&(n=d(p));null!==a&&(a=["bodies"].concat(a));null===a&&(n=d(w));y--;0===y&&null===a&&m("bodies");return a}function E(){var a,b,c,g,e,f;y++;e=d(n);f=d(n);a=F();null!==a?(b=M(),null!==b?(c=K(),null!==c?(g=W(),null!==g?a=[a,b,c,g]:(a=null,n=d(f))):(a=null,n=d(f))):(a=null,n=d(f))):(a=null,n=d(f));null!==a&&(a=["reference",a[1],a[2]].concat([["line",e.line],["col",e.column]]));null===a&&(n=d(e));y--;0===y&&null===
a&&m("reference");return a}function G(){var a,b,c,l,r,w,p,D,s,N,v;y++;N=d(n);v=d(n);a=F();if(null!==a)if(62===e.charCodeAt(n.offset)?(b="\x3e",f(n,1)):(b=null,0===y&&m('"\x3e"')),null===b&&(43===e.charCodeAt(n.offset)?(b="+",f(n,1)):(b=null,0===y&&m('"+"'))),null!==b){c=[];for(l=A();null!==l;)c.push(l),l=A();if(null!==c)if(r=d(n),l=u(),null!==l&&(l=["literal",l]),null===l&&(n=d(r)),null===l&&(l=g()),null!==l)if(r=I(),null!==r)if(w=z(),null!==w){p=[];for(D=A();null!==D;)p.push(D),D=A();null!==p?(47===
e.charCodeAt(n.offset)?(D="/",f(n,1)):(D=null,0===y&&m('"/"')),null!==D?(s=W(),null!==s?a=[a,b,c,l,r,w,p,D,s]:(a=null,n=d(v))):(a=null,n=d(v))):(a=null,n=d(v))}else a=null,n=d(v);else a=null,n=d(v);else a=null,n=d(v);else a=null,n=d(v)}else a=null,n=d(v);else a=null,n=d(v);null!==a&&(a=["\x3e"===a[1]?"partial":a[1],a[3],a[4],a[5]].concat([["line",N.line],["col",N.column]]));null===a&&(n=d(N));y--;0===y&&null===a&&m("partial");return a}function K(){var a,b,c,g,l,r;y++;g=d(n);a=[];l=d(n);r=d(n);124===
e.charCodeAt(n.offset)?(b="|",f(n,1)):(b=null,0===y&&m('"|"'));null!==b?(c=u(),null!==c?b=[b,c]:(b=null,n=d(r))):(b=null,n=d(r));null!==b&&(b=b[1]);for(null===b&&(n=d(l));null!==b;)a.push(b),l=d(n),r=d(n),124===e.charCodeAt(n.offset)?(b="|",f(n,1)):(b=null,0===y&&m('"|"')),null!==b?(c=u(),null!==c?b=[b,c]:(b=null,n=d(r))):(b=null,n=d(r)),null!==b&&(b=b[1]),null===b&&(n=d(l));null!==a&&(a=["filters"].concat(a));null===a&&(n=d(g));y--;0===y&&null===a&&m("filters");return a}function H(){var a,b,c,g,
l,r;y++;l=d(n);r=d(n);a=F();null!==a?(126===e.charCodeAt(n.offset)?(b="~",f(n,1)):(b=null,0===y&&m('"~"')),null!==b?(c=u(),null!==c?(g=W(),null!==g?a=[a,b,c,g]:(a=null,n=d(r))):(a=null,n=d(r))):(a=null,n=d(r))):(a=null,n=d(r));null!==a&&(a=["special",a[2]].concat([["line",l.line],["col",l.column]]));null===a&&(n=d(l));y--;0===y&&null===a&&m("special");return a}function M(){var a,b;y++;b=d(n);a=r();null!==a&&(a=function(a,b,c,d){a=["path"].concat(d);a.text=d[1].join(".");return a}(b.offset,b.line,
b.column,a));null===a&&(n=d(b));null===a&&(b=d(n),a=u(),null!==a&&(a=function(a,b,c,d){a=["key",d];a.text=d;return a}(b.offset,b.line,b.column,a)),null===a&&(n=d(b)));y--;0===y&&null===a&&m("identifier");return a}function R(){var a,b;y++;b=d(n);a=Q();null===a&&(a=w());null!==a&&(a=["literal",a]);null===a&&(n=d(b));y--;0===y&&null===a&&m("number");return a}function Q(){var a,b,c,g,l,r;y++;l=d(n);r=d(n);a=w();if(null!==a)if(46===e.charCodeAt(n.offset)?(b=".",f(n,1)):(b=null,0===y&&m('"."')),null!==
b){g=w();if(null!==g)for(c=[];null!==g;)c.push(g),g=w();else c=null;null!==c?a=[a,b,c]:(a=null,n=d(r))}else a=null,n=d(r);else a=null,n=d(r);null!==a&&(a=parseFloat(a[0]+"."+a[2].join("")));null===a&&(n=d(l));y--;0===y&&null===a&&m("float");return a}function w(){var a,b,c;y++;c=d(n);/^[0-9]/.test(e.charAt(n.offset))?(b=e.charAt(n.offset),f(n,1)):(b=null,0===y&&m("[0-9]"));if(null!==b)for(a=[];null!==b;)a.push(b),/^[0-9]/.test(e.charAt(n.offset))?(b=e.charAt(n.offset),f(n,1)):(b=null,0===y&&m("[0-9]"));
else a=null;null!==a&&(a=parseInt(a.join(""),10));null===a&&(n=d(c));y--;0===y&&null===a&&m("integer");return a}function r(){var a,b,c,g,l;y++;g=d(n);l=d(n);a=u();a=null!==a?a:"";if(null!==a){c=D();null===c&&(c=N());if(null!==c)for(b=[];null!==c;)b.push(c),c=D(),null===c&&(c=N());else b=null;null!==b?a=[a,b]:(a=null,n=d(l))}else a=null,n=d(l);null!==a&&(b=g.line,c=g.column,l=a[0],a=a[1],a=a[0],l&&a?(a.unshift(l),a=[!1,a].concat([["line",b],["col",c]])):a=[!0,a].concat([["line",b],["col",c]]));null===
a&&(n=d(g));if(null===a){g=d(n);l=d(n);46===e.charCodeAt(n.offset)?(a=".",f(n,1)):(a=null,0===y&&m('"."'));if(null!==a){b=[];c=D();for(null===c&&(c=N());null!==c;)b.push(c),c=D(),null===c&&(c=N());null!==b?a=[a,b]:(a=null,n=d(l))}else a=null,n=d(l);null!==a&&(a=0<a[1].length?[!0,a[1][0]].concat([["line",g.line],["col",g.column]]):[!0,[]].concat([["line",g.line],["col",g.column]]));null===a&&(n=d(g))}y--;0===y&&null===a&&m("path");return a}function u(){var a,b,c,g,l;y++;g=d(n);l=d(n);/^[a-zA-Z_$]/.test(e.charAt(n.offset))?
(a=e.charAt(n.offset),f(n,1)):(a=null,0===y&&m("[a-zA-Z_$]"));if(null!==a){b=[];/^[0-9a-zA-Z_$\-]/.test(e.charAt(n.offset))?(c=e.charAt(n.offset),f(n,1)):(c=null,0===y&&m("[0-9a-zA-Z_$\\-]"));for(;null!==c;)b.push(c),/^[0-9a-zA-Z_$\-]/.test(e.charAt(n.offset))?(c=e.charAt(n.offset),f(n,1)):(c=null,0===y&&m("[0-9a-zA-Z_$\\-]"));null!==b?a=[a,b]:(a=null,n=d(l))}else a=null,n=d(l);null!==a&&(a=a[0]+a[1].join(""));null===a&&(n=d(g));y--;0===y&&null===a&&m("key");return a}function N(){var a,b,c,g,l,r,
w,u;y++;g=d(n);l=d(n);r=d(n);w=d(n);a=da();if(null!==a){u=d(n);/^[0-9]/.test(e.charAt(n.offset))?(c=e.charAt(n.offset),f(n,1)):(c=null,0===y&&m("[0-9]"));if(null!==c)for(b=[];null!==c;)b.push(c),/^[0-9]/.test(e.charAt(n.offset))?(c=e.charAt(n.offset),f(n,1)):(c=null,0===y&&m("[0-9]"));else b=null;null!==b&&(b=b.join(""));null===b&&(n=d(u));null===b&&(b=M());null!==b?(c=aa(),null!==c?a=[a,b,c]:(a=null,n=d(w))):(a=null,n=d(w))}else a=null,n=d(w);null!==a&&(a=a[1]);null===a&&(n=d(r));null!==a?(b=D(),
b=null!==b?b:"",null!==b?a=[a,b]:(a=null,n=d(l))):(a=null,n=d(l));null!==a&&(b=a[0],(a=a[1])?a.unshift(b):a=[b]);null===a&&(n=d(g));y--;0===y&&null===a&&m("array");return a}function D(){var a,b,c,g,l,r,w;y++;g=d(n);l=d(n);r=d(n);w=d(n);46===e.charCodeAt(n.offset)?(b=".",f(n,1)):(b=null,0===y&&m('"."'));null!==b?(c=u(),null!==c?b=[b,c]:(b=null,n=d(w))):(b=null,n=d(w));null!==b&&(b=b[1]);null===b&&(n=d(r));if(null!==b)for(a=[];null!==b;)a.push(b),r=d(n),w=d(n),46===e.charCodeAt(n.offset)?(b=".",f(n,
1)):(b=null,0===y&&m('"."')),null!==b?(c=u(),null!==c?b=[b,c]:(b=null,n=d(w))):(b=null,n=d(w)),null!==b&&(b=b[1]),null===b&&(n=d(r));else a=null;null!==a?(b=N(),b=null!==b?b:"",null!==b?a=[a,b]:(a=null,n=d(l))):(a=null,n=d(l));null!==a&&(a=a[1]?a[0].concat(a[1]):a[0]);null===a&&(n=d(g));y--;0===y&&null===a&&m("array_part");return a}function g(){var a,b,c,g,l;y++;g=d(n);l=d(n);34===e.charCodeAt(n.offset)?(a='"',f(n,1)):(a=null,0===y&&m('"\\""'));null!==a?(34===e.charCodeAt(n.offset)?(b='"',f(n,1)):
(b=null,0===y&&m('"\\""')),null!==b?a=[a,b]:(a=null,n=d(l))):(a=null,n=d(l));null!==a&&(a=["literal",""].concat([["line",g.line],["col",g.column]]));null===a&&(n=d(g));if(null===a&&(g=d(n),l=d(n),34===e.charCodeAt(n.offset)?(a='"',f(n,1)):(a=null,0===y&&m('"\\""')),null!==a?(b=P(),null!==b?(34===e.charCodeAt(n.offset)?(c='"',f(n,1)):(c=null,0===y&&m('"\\""')),null!==c?a=[a,b,c]:(a=null,n=d(l))):(a=null,n=d(l))):(a=null,n=d(l)),null!==a&&(a=["literal",a[1]].concat([["line",g.line],["col",g.column]])),
null===a&&(n=d(g)),null===a)){g=d(n);l=d(n);34===e.charCodeAt(n.offset)?(a='"',f(n,1)):(a=null,0===y&&m('"\\""'));if(null!==a){c=T();if(null!==c)for(b=[];null!==c;)b.push(c),c=T();else b=null;null!==b?(34===e.charCodeAt(n.offset)?(c='"',f(n,1)):(c=null,0===y&&m('"\\""')),null!==c?a=[a,b,c]:(a=null,n=d(l))):(a=null,n=d(l))}else a=null,n=d(l);null!==a&&(a=["body"].concat(a[1]).concat([["line",g.line],["col",g.column]]));null===a&&(n=d(g))}y--;0===y&&null===a&&m("inline");return a}function T(){var a,
b;a=H();null===a&&(a=E(),null===a&&(b=d(n),a=P(),null!==a&&(a=["buffer",a]),null===a&&(n=d(b))));return a}function L(){var a,b,c,g,l,r,w,u,p;y++;w=d(n);u=d(n);a=ga();if(null!==a){b=[];for(c=A();null!==c;)b.push(c),c=A();null!==b?a=[a,b]:(a=null,n=d(u))}else a=null,n=d(u);null!==a&&(a=["format",a[0],a[1].join("")].concat([["line",w.line],["col",w.column]]));null===a&&(n=d(w));if(null===a){w=d(n);u=d(n);p=d(n);r=d(n);y++;b=ca();y--;null===b?b="":(b=null,n=d(r));null!==b?(r=d(n),y++,c=O(),y--,null===
c?c="":(c=null,n=d(r)),null!==c?(r=d(n),y++,g=U(),y--,null===g?g="":(g=null,n=d(r)),null!==g?(r=d(n),y++,l=ga(),y--,null===l?l="":(l=null,n=d(r)),null!==l?(e.length>n.offset?(r=e.charAt(n.offset),f(n,1)):(r=null,0===y&&m("any character")),null!==r?b=[b,c,g,l,r]:(b=null,n=d(p))):(b=null,n=d(p))):(b=null,n=d(p))):(b=null,n=d(p))):(b=null,n=d(p));null!==b&&(b=b[4]);null===b&&(n=d(u));if(null!==b)for(a=[];null!==b;)a.push(b),u=d(n),p=d(n),r=d(n),y++,b=ca(),y--,null===b?b="":(b=null,n=d(r)),null!==b?(r=
d(n),y++,c=O(),y--,null===c?c="":(c=null,n=d(r)),null!==c?(r=d(n),y++,g=U(),y--,null===g?g="":(g=null,n=d(r)),null!==g?(r=d(n),y++,l=ga(),y--,null===l?l="":(l=null,n=d(r)),null!==l?(e.length>n.offset?(r=e.charAt(n.offset),f(n,1)):(r=null,0===y&&m("any character")),null!==r?b=[b,c,g,l,r]:(b=null,n=d(p))):(b=null,n=d(p))):(b=null,n=d(p))):(b=null,n=d(p))):(b=null,n=d(p)),null!==b&&(b=b[4]),null===b&&(n=d(u));else a=null;null!==a&&(a=["buffer",a.join("")].concat([["line",w.line],["col",w.column]]));
null===a&&(n=d(w))}y--;0===y&&null===a&&m("buffer");return a}function P(){var a,b,c,g,l,r;y++;g=d(n);l=d(n);r=d(n);c=d(n);y++;b=ca();y--;null===b?b="":(b=null,n=d(c));null!==b?(c=ba(),null===c&&(/^[^"]/.test(e.charAt(n.offset))?(c=e.charAt(n.offset),f(n,1)):(c=null,0===y&&m('[^"]'))),null!==c?b=[b,c]:(b=null,n=d(r))):(b=null,n=d(r));null!==b&&(b=b[1]);null===b&&(n=d(l));if(null!==b)for(a=[];null!==b;)a.push(b),l=d(n),r=d(n),c=d(n),y++,b=ca(),y--,null===b?b="":(b=null,n=d(c)),null!==b?(c=ba(),null===
c&&(/^[^"]/.test(e.charAt(n.offset))?(c=e.charAt(n.offset),f(n,1)):(c=null,0===y&&m('[^"]'))),null!==c?b=[b,c]:(b=null,n=d(r))):(b=null,n=d(r)),null!==b&&(b=b[1]),null===b&&(n=d(l));else a=null;null!==a&&(a=a.join(""));null===a&&(n=d(g));y--;0===y&&null===a&&m("literal");return a}function ba(){var a,b;b=d(n);'\\"'===e.substr(n.offset,2)?(a='\\"',f(n,2)):(a=null,0===y&&m('"\\\\\\""'));null!==a&&(a='"');null===a&&(n=d(b));return a}function O(){var a,b,c,g,l,r,w,u;y++;l=d(n);r=d(n);"{`"===e.substr(n.offset,
2)?(a="{`",f(n,2)):(a=null,0===y&&m('"{`"'));if(null!==a){b=[];w=d(n);u=d(n);g=d(n);y++;"`}"===e.substr(n.offset,2)?(c="`}",f(n,2)):(c=null,0===y&&m('"`}"'));y--;null===c?c="":(c=null,n=d(g));null!==c?(e.length>n.offset?(g=e.charAt(n.offset),f(n,1)):(g=null,0===y&&m("any character")),null!==g?c=[c,g]:(c=null,n=d(u))):(c=null,n=d(u));null!==c&&(c=c[1]);for(null===c&&(n=d(w));null!==c;)b.push(c),w=d(n),u=d(n),g=d(n),y++,"`}"===e.substr(n.offset,2)?(c="`}",f(n,2)):(c=null,0===y&&m('"`}"')),y--,null===
c?c="":(c=null,n=d(g)),null!==c?(e.length>n.offset?(g=e.charAt(n.offset),f(n,1)):(g=null,0===y&&m("any character")),null!==g?c=[c,g]:(c=null,n=d(u))):(c=null,n=d(u)),null!==c&&(c=c[1]),null===c&&(n=d(w));null!==b?("`}"===e.substr(n.offset,2)?(c="`}",f(n,2)):(c=null,0===y&&m('"`}"')),null!==c?a=[a,b,c]:(a=null,n=d(r))):(a=null,n=d(r))}else a=null,n=d(r);null!==a&&(a=["raw",a[1].join("")].concat([["line",l.line],["col",l.column]]));null===a&&(n=d(l));y--;0===y&&null===a&&m("raw");return a}function U(){var a,
b,c,g,l,r,w,u;y++;l=d(n);r=d(n);"{!"===e.substr(n.offset,2)?(a="{!",f(n,2)):(a=null,0===y&&m('"{!"'));if(null!==a){b=[];w=d(n);u=d(n);g=d(n);y++;"!}"===e.substr(n.offset,2)?(c="!}",f(n,2)):(c=null,0===y&&m('"!}"'));y--;null===c?c="":(c=null,n=d(g));null!==c?(e.length>n.offset?(g=e.charAt(n.offset),f(n,1)):(g=null,0===y&&m("any character")),null!==g?c=[c,g]:(c=null,n=d(u))):(c=null,n=d(u));null!==c&&(c=c[1]);for(null===c&&(n=d(w));null!==c;)b.push(c),w=d(n),u=d(n),g=d(n),y++,"!}"===e.substr(n.offset,
2)?(c="!}",f(n,2)):(c=null,0===y&&m('"!}"')),y--,null===c?c="":(c=null,n=d(g)),null!==c?(e.length>n.offset?(g=e.charAt(n.offset),f(n,1)):(g=null,0===y&&m("any character")),null!==g?c=[c,g]:(c=null,n=d(u))):(c=null,n=d(u)),null!==c&&(c=c[1]),null===c&&(n=d(w));null!==b?("!}"===e.substr(n.offset,2)?(c="!}",f(n,2)):(c=null,0===y&&m('"!}"')),null!==c?a=[a,b,c]:(a=null,n=d(r))):(a=null,n=d(r))}else a=null,n=d(r);null!==a&&(a=["comment",a[1].join("")].concat([["line",l.line],["col",l.column]]));null===
a&&(n=d(l));y--;0===y&&null===a&&m("comment");return a}function ca(){var a,b,c,g,l,r,w,u,p,D;p=d(n);a=F();if(null!==a){b=[];for(c=A();null!==c;)b.push(c),c=A();if(null!==b)if(/^[#?^><+%:@\/~%]/.test(e.charAt(n.offset))?(c=e.charAt(n.offset),f(n,1)):(c=null,0===y&&m("[#?^\x3e\x3c+%:@\\/~%]")),null!==c){g=[];for(l=A();null!==l;)g.push(l),l=A();if(null!==g){D=d(n);u=d(n);y++;r=W();y--;null===r?r="":(r=null,n=d(u));null!==r?(u=d(n),y++,w=ga(),y--,null===w?w="":(w=null,n=d(u)),null!==w?(e.length>n.offset?
(u=e.charAt(n.offset),f(n,1)):(u=null,0===y&&m("any character")),null!==u?r=[r,w,u]:(r=null,n=d(D))):(r=null,n=d(D))):(r=null,n=d(D));if(null!==r)for(l=[];null!==r;)l.push(r),D=d(n),u=d(n),y++,r=W(),y--,null===r?r="":(r=null,n=d(u)),null!==r?(u=d(n),y++,w=ga(),y--,null===w?w="":(w=null,n=d(u)),null!==w?(e.length>n.offset?(u=e.charAt(n.offset),f(n,1)):(u=null,0===y&&m("any character")),null!==u?r=[r,w,u]:(r=null,n=d(D))):(r=null,n=d(D))):(r=null,n=d(D));else l=null;if(null!==l){r=[];for(w=A();null!==
w;)r.push(w),w=A();null!==r?(w=W(),null!==w?a=[a,b,c,g,l,r,w]:(a=null,n=d(p))):(a=null,n=d(p))}else a=null,n=d(p)}else a=null,n=d(p)}else a=null,n=d(p);else a=null,n=d(p)}else a=null,n=d(p);null===a&&(a=E());return a}function F(){var a;123===e.charCodeAt(n.offset)?(a="{",f(n,1)):(a=null,0===y&&m('"{"'));return a}function W(){var a;125===e.charCodeAt(n.offset)?(a="}",f(n,1)):(a=null,0===y&&m('"}"'));return a}function da(){var a;91===e.charCodeAt(n.offset)?(a="[",f(n,1)):(a=null,0===y&&m('"["'));return a}
function aa(){var a;93===e.charCodeAt(n.offset)?(a="]",f(n,1)):(a=null,0===y&&m('"]"'));return a}function ga(){var a;10===e.charCodeAt(n.offset)?(a="\n",f(n,1)):(a=null,0===y&&m('"\\n"'));null===a&&("\r\n"===e.substr(n.offset,2)?(a="\r\n",f(n,2)):(a=null,0===y&&m('"\\r\\n"')),null===a&&(13===e.charCodeAt(n.offset)?(a="\r",f(n,1)):(a=null,0===y&&m('"\\r"')),null===a&&(8232===e.charCodeAt(n.offset)?(a="\u2028",f(n,1)):(a=null,0===y&&m('"\\u2028"')),null===a&&(8233===e.charCodeAt(n.offset)?(a="\u2029",
f(n,1)):(a=null,0===y&&m('"\\u2029"'))))));return a}function A(){var a;/^[\t\x0B\f \xA0\uFEFF]/.test(e.charAt(n.offset))?(a=e.charAt(n.offset),f(n,1)):(a=null,0===y&&m("[\\t\\x0B\\f \\xA0\\uFEFF]"));null===a&&(a=ga());return a}function ka(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}var fa={body:s,part:p,section:v,sec_tag_start:B,end_tag:t,context:I,params:z,bodies:x,reference:E,partial:G,filters:K,special:H,identifier:M,number:R,"float":Q,integer:w,
path:r,key:u,array:N,array_part:D,inline:g,inline_part:T,buffer:L,literal:P,esc:ba,raw:O,comment:U,tag:ca,ld:F,rd:W,lb:da,rb:aa,eol:ga,ws:A};if(void 0!==l){if(void 0===fa[l])throw Error("Invalid rule name: "+b(l)+".");}else l="body";var n={offset:0,line:1,column:1,seenCR:!1},y=0,ea={offset:0,line:1,column:1,seenCR:!1},la=[],fa=fa[l]();if(null===fa||n.offset!==e.length){var fa=Math.max(n.offset,ea.offset),ha=fa<e.length?e.charAt(fa):null,Z=n.offset>ea.offset?n:ea;throw new a.SyntaxError(ka(la),ha,
fa,Z.line,Z.column);}return fa},toSource:function(){return this._source},SyntaxError:function(a,e,d,f,m){this.name="SyntaxError";this.expected=a;this.found=e;switch(a.length){case 0:a="end of input";break;case 1:a=a[0];break;default:a=a.slice(0,a.length-1).join(", ")+" or "+a[a.length-1]}e=e?b(e):"end of input";this.message="Expected "+a+" but "+e+" found.";this.offset=d;this.line=f;this.column=m}};e.SyntaxError.prototype=Error.prototype;return e}();b.parse=a.parse;return a});
(function(b,a){"object"===typeof exports?module.exports=a(require("./parser").parse,require("./dust")):a(b.dust.parse,b.dust)})(this,function(b,a){function c(a,b){var c=[b[0]],d,e,h;d=1;for(e=b.length;d<e;d++)(h=f.filterNode(a,b[d]))&&c.push(h);return c}function e(a,b){return b}function h(){}function l(a,b){var c="",d,e;d=1;for(e=b.length;d<e;d++)c+=f.compileNode(a,b[d]);return c}function d(a,b,c){return"."+c+"("+f.compileNode(a,b[1])+","+f.compileNode(a,b[2])+","+f.compileNode(a,b[4])+","+f.compileNode(a,
b[3])+")"}var f={},m=a.isArray;f.compile=function(c,d){!d&&null!==d&&a.log(Error("Template name parameter cannot be undefined when calling dust.compile"),"ERROR");try{var e,h=b(c);e=f.filterNode({},h);var h={name:d,bodies:[],blocks:{},index:0,auto:"h"},l="(function(){dust.register("+(d?'"'+d+'"':"null")+","+f.compileNode(h,e)+");",m;e=[];var p=h.blocks,w;for(w in p)e.push('"'+w+'":'+p[w]);e.length?(h.blocks="ctx\x3dctx.shiftBlocks(blocks);",m="var blocks\x3d{"+e.join(",")+"};"):m=h.blocks="";var l=
l+m,r;m=[];var u=h.bodies,s=h.blocks,D,g;D=0;for(g=u.length;D<g;D++)m[D]="function body_"+D+"(chk,ctx){"+s+"return chk"+u[D]+";}";r=m.join("");return l+r+"return body_0;})();"}catch(v){if(!v.line||!v.column)throw v;throw new SyntaxError(v.message+" At line : "+v.line+", column : "+v.column);}};f.filterNode=function(a,b){return f.optimizers[b[0]](a,b)};f.optimizers={body:function(a,b){var c=[b[0]],d,e,h,l;e=1;for(h=b.length;e<h;e++)if(l=f.filterNode(a,b[e]))"buffer"===l[0]?d?d[1]+=l[1]:(d=l,c.push(l)):
(d=null,c.push(l));return c},buffer:e,special:function(a,b){return["buffer",s[b[1]]]},format:h,reference:c,"#":c,"?":c,"^":c,"\x3c":c,"+":c,"@":c,"%":c,partial:c,context:c,params:c,bodies:c,param:c,filters:e,key:e,path:e,literal:e,raw:e,comment:h,line:h,col:h};f.pragmas={esc:function(a,b,c,d){d=a.auto;b||(b="h");a.auto="s"===b?"":b;b=l(a,c.block);a.auto=d;return b}};var s={s:" ",n:"\n",r:"\r",lb:"{",rb:"}"};f.compileNode=function(a,b){return f.nodes[b[0]](a,b)};f.nodes={body:function(a,b){var c=a.index++,
d="body_"+c;a.bodies[c]=l(a,b);return d},buffer:function(a,b){return".write("+x(b[1])+")"},format:function(a,b){return".write("+x(b[1]+b[2])+")"},reference:function(a,b){return".reference("+f.compileNode(a,b[1])+",ctx,"+f.compileNode(a,b[2])+")"},"#":function(a,b){return d(a,b,"section")},"?":function(a,b){return d(a,b,"exists")},"^":function(a,b){return d(a,b,"notexists")},"\x3c":function(a,b){for(var c=b[4],d=1,e=c.length;d<e;d++){var h=c[d];if("block"===h[1][1]){a.blocks[b[1].text]=f.compileNode(a,
h[2]);break}}return""},"+":function(a,b){return"undefined"===typeof b[1].text&&"undefined"===typeof b[4]?".block(ctx.getBlock("+f.compileNode(a,b[1])+",chk, ctx),"+f.compileNode(a,b[2])+", {},"+f.compileNode(a,b[3])+")":".block(ctx.getBlock("+x(b[1].text)+"),"+f.compileNode(a,b[2])+","+f.compileNode(a,b[4])+","+f.compileNode(a,b[3])+")"},"@":function(a,b){return".helper("+x(b[1].text)+","+f.compileNode(a,b[2])+","+f.compileNode(a,b[4])+","+f.compileNode(a,b[3])+")"},"%":function(a,b){var c=b[1][1],
d,e,h,l,m,r;if(!f.pragmas[c])return"";d=b[4];e={};m=1;for(r=d.length;m<r;m++)h=d[m],e[h[1][1]]=h[2];d=b[3];h={};m=1;for(r=d.length;m<r;m++)l=d[m],h[l[1][1]]=l[2][1];return f.pragmas[c](a,b[2][1]?b[2][1].text:null,e,h)},partial:function(a,b){return".partial("+f.compileNode(a,b[1])+","+f.compileNode(a,b[2])+","+f.compileNode(a,b[3])+")"},context:function(a,b){return b[1]?"ctx.rebase("+f.compileNode(a,b[1])+")":"ctx"},params:function(a,b){for(var c=[],d=1,e=b.length;d<e;d++)c.push(f.compileNode(a,b[d]));
return c.length?"{"+c.join(",")+"}":"null"},bodies:function(a,b){for(var c=[],d=1,e=b.length;d<e;d++)c.push(f.compileNode(a,b[d]));return"{"+c.join(",")+"}"},param:function(a,b){return f.compileNode(a,b[1])+":"+f.compileNode(a,b[2])},filters:function(a,b){for(var c=[],d=1,e=b.length;d<e;d++)c.push('"'+b[d]+'"');return'"'+a.auto+'"'+(c.length?",["+c.join(",")+"]":"")},key:function(a,b){return'ctx.get(["'+b[1]+'"], false)'},path:function(a,b){for(var c=b[1],d=b[2],e=[],h=0,l=d.length;h<l;h++)m(d[h])?
e.push(f.compileNode(a,d[h])):e.push('"'+d[h]+'"');return"ctx.getPath("+c+", ["+e.join(",")+"])"},literal:function(a,b){return x(b[1])},raw:function(a,b){return".write("+x(b[1])+")"}};var p=/\\/g,v=/"/g,B=/\f/g,t=/\n/g,I=/\r/g,z=/\t/g,x="undefined"===typeof JSON?function(a){return'"'+a.replace(p,"\\\\").replace(v,'\\"').replace(B,"\\f").replace(t,"\\n").replace(I,"\\r").replace(z,"\\t")+'"'}:JSON.stringify;a.compile=f.compile;a.filterNode=f.filterNode;a.optimizers=f.optimizers;a.pragmas=f.pragmas;
a.compileNode=f.compileNode;a.nodes=f.nodes;return f});(function(b){"true"===function(){var a=b.localStorage,c=b.sessionStorage;return{getValue:function(b){var h;(h=c&&c.getItem(b))||(h=a&&a.getItem(b));return h}}}().getValue("com.roox.cm.Common.App.Properties.unit.IsLogEnabled")&&b.dust&&(dust.debugLevel="DEBUG")})(this);
(function(b){function a(a){a=a.current();return"object"===typeof a&&!0===a.isSelect}function c(a,b){return"function"===typeof b?b.toString().replace(/(^\s+|\s+$)/mg,"").replace(/\n/mg,"").replace(/,\s*/mg,", ").replace(/\)\{/mg,") {"):b}function e(c,e,m,s,p){s=s||{};var v=m.block,B,t,I=s.filterOpType||"";if("undefined"!==typeof s.key)B=b.helpers.tap(s.key,c,e);else if(a(e))B=e.current().selectKey,e.current().isResolved&&(p=function(){return!1});else return l.log("No key specified for filter in:"+
I+" helper "),c;t=b.helpers.tap(s.value,c,e);if(p(h(t,s.type,e),h(B,s.type,e))){a(e)&&(e.current().isResolved=!0);if(v)return c.render(v,e);l.log("Missing body block in the "+I+" helper ")}else if(m["else"])return c.render(m["else"],e);return c}function h(a,b,c){if(a)switch(b||typeof a){case "number":return+a;case "string":return String(a);case "boolean":return Boolean("false"===a?!1:a);case "date":return new Date(a);case "context":return c.get(a)}return a}var l="undefined"!==typeof console?console:
{log:function(){}};b.helpers={tap:function(a,b,c){if("function"!==typeof a)return a;var e="";a=b.tap(function(a){e+=a;return""}).render(a,c);b.untap();return a.constructor!==b.constructor?a:""===e?!1:e},sep:function(a,b,c){return b.stack.index===b.stack.of-1?a:c.block?c.block(a,b):a},idx:function(a,b,c){return c.block?c.block(a,b.push(b.stack.index)):a},contextDump:function(a,e,h,s){s=s||{};h=s.to||"output";s=s.key||"current";h=b.helpers.tap(h,a,e);s=b.helpers.tap(s,a,e);e="full"===s?JSON.stringify(e.stack,
c,2):JSON.stringify(e.stack.head,c,2);return"console"===h?(l.log(e),a):a.write(e)},"if":function(a,c,e,h){var p=e.block,v=e["else"];if(h&&h.cond){h=h.cond;h=b.helpers.tap(h,a,c);if(eval(h)){if(p)return a.render(e.block,c);l.log("Missing body block in the if helper!");return a}if(v)return a.render(e["else"],c)}else l.log("No condition given in the if helper!");return a},math:function(a,c,e,h){if(h&&"undefined"!==typeof h.key&&h.method){var p=h.key,v=h.method,B=h.operand;h=h.round;var t=null,p=b.helpers.tap(p,
a,c),B=b.helpers.tap(B,a,c);switch(v){case "mod":(0===B||-0===B)&&l.log("operand for divide operation is 0/-0: expect Nan!");t=parseFloat(p)%parseFloat(B);break;case "add":t=parseFloat(p)+parseFloat(B);break;case "subtract":t=parseFloat(p)-parseFloat(B);break;case "multiply":t=parseFloat(p)*parseFloat(B);break;case "divide":(0===B||-0===B)&&l.log("operand for divide operation is 0/-0: expect Nan/Infinity!");t=parseFloat(p)/parseFloat(B);break;case "ceil":t=Math.ceil(parseFloat(p));break;case "floor":t=
Math.floor(parseFloat(p));break;case "round":t=Math.round(parseFloat(p));break;case "abs":t=Math.abs(parseFloat(p));break;default:l.log("method passed is not supported")}if(null!==t)return h&&(t=Math.round(t)),e&&e.block?a.render(e.block,c.push({isSelect:!0,isResolved:!1,selectKey:t})):a.write(t)}else l.log("Key is a required parameter for math helper along with method/operand!");return a},select:function(a,c,e,h){var p=e.block;if(h&&"undefined"!==typeof h.key){h=b.helpers.tap(h.key,a,c);if(p)return a.render(e.block,
c.push({isSelect:!0,isResolved:!1,selectKey:h}));l.log("Missing body block in the select helper ")}else l.log("No key given in the select helper!");return a},eq:function(a,b,c,h){h&&(h.filterOpType="eq");return e(a,b,c,h,function(a,b){return b===a})},ne:function(a,b,c,h){return h?(h.filterOpType="ne",e(a,b,c,h,function(a,b){return b!==a})):a},lt:function(a,b,c,h){if(h)return h.filterOpType="lt",e(a,b,c,h,function(a,b){return b<a})},lte:function(a,b,c,h){return h?(h.filterOpType="lte",e(a,b,c,h,function(a,
b){return b<=a})):a},gt:function(a,b,c,h){return h?(h.filterOpType="gt",e(a,b,c,h,function(a,b){return b>a})):a},gte:function(a,b,c,h){return h?(h.filterOpType="gte",e(a,b,c,h,function(a,b){return b>=a})):a},"default":function(a,b,c,h){h&&(h.filterOpType="default");return e(a,b,c,h,function(a,b){return!0})},size:function(a,c,e,h){c=0;var l;h=h||{};h=h.key;if(!h||!0===h)c=0;else if(b.isArray(h))c=h.length;else if(!isNaN(parseFloat(h))&&isFinite(h))c=h;else if("object"===typeof h)for(l in c=0,h)Object.hasOwnProperty.call(h,
l)&&c++;else c=(h+"").length;return a.write(c)}}})("undefined"!==typeof exports?module.exports=require("dustjs-linkedin"):dust);com.rooxteam.templates.nameWithModuleId=function(b,a){return a?a.toString()+"::"+b:b};dust.makeAlias=function(b,a){dust.cache[b]&&b!==a&&(dust.cache[a]=dust.cache[b])};
if("undefined"!==typeof dust&&dust.compile){var dustCompileOrig=dust.compile;dust.compile=function(b,a,c){return c?dustCompileOrig(b,com.rooxteam.templates.nameWithModuleId(a,c))+" dust.makeAlias('"+com.rooxteam.templates.nameWithModuleId(a,c)+"', '"+a+"');":dustCompileOrig(b,a)}}var dustRenderOrig=dust.render;dust.render=function(b,a,c,e){var h=dust.makeBase({moduleId:e});return dustRenderOrig(com.rooxteam.templates.nameWithModuleId(b,e),h.push(a),c)};com=com||{};com.rooxteam=com.rooxteam||{};
com.rooxteam.templates=com.rooxteam.templates||{};com.rooxteam.templates.render=function(b,a,c,e,h){return(new com.rooxteam.deferred.Deferred(function(l){dust.render(b,a,function(a,b){"function"===typeof c&&c.apply(h,arguments);if(null!==a)return gadgets.warn(a),l.rejectWith(h,[a]),!1;l.resolveWith(h,[b])},e)})).promise()};com.rooxteam.templates.compileTemplate=function(b,a,c){return dust.compile(b,a,c)};com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.i18n=com.rooxteam.i18n||{};
com.rooxteam.i18n._locales={};com.rooxteam.i18n._lang="*";com.rooxteam.i18n._defaultLang="ru_ru";com.rooxteam.i18n._updatedFromStorage=!1;
com.rooxteam.i18n.init=function(){function b(){if(com&&com.rooxteam&&com.rooxteam.sharedcontext){var b=com.rooxteam.sharedcontext.getDataContext().getDataSet(a)||com.rooxteam.i18n._defaultLang;com.rooxteam.i18n.setLanguage(b);com.rooxteam.i18n._updatedFromStorage=b!==com.rooxteam.i18n._defaultLang}}var a="com.roox.cm.Common.App.Properties.unit.LanguageName";b();gadgets.util.attachBrowserEvent(window,"storage",function(c){c.key===a&&b()},!1)};
com.rooxteam.i18n.updateLanguageFromUrl=function(b){var a,c={};if(window.widgetUrls&&window.widgetUrls.length){a=0;for(var e=window.widgetUrls.length;a<e;++a){var h=window.widgetUrls[a],c=[],l=void 0,d={},l=h?h.indexOf("?"):-1;-1!==l&&(c=h.substr(l+1).split("\x26"));for(var h=0,f=c.length;h<f;++h)l=c[h].split("\x3d"),d[l[0]]=l[1];c=d}}a=c;if(a.lang&&b)for(var m in b)b.hasOwnProperty(m)&&a.lang===m.substr(0,2)&&com.rooxteam.i18n.setLanguage(m)};
com.rooxteam.i18n.setLang=function(b){com.rooxteam.i18n._lang=b};com.rooxteam.i18n.getLanguage=function(){return com.rooxteam.i18n._lang};com.rooxteam.i18n.setLanguage=function(b){b=b.toLowerCase();b=(com.rooxteam.i18n._lang=b)&&b.substring(0,2);"undefined"!==typeof numeral&&numeral.language(b);"undefined"!==typeof moment&&moment.lang(b)};com.rooxteam.i18n.setLocales=function(b,a){com.rooxteam.i18n._locales[a]=b;com.rooxteam.i18n._updatedFromStorage||com.rooxteam.i18n.updateLanguageFromUrl(b)};
com.rooxteam.i18n.getLocales=function(b){return com.rooxteam.i18n._locales[b]};
com.rooxteam.i18n.compileLegacyProcessor=function(b){function a(a){$(b).each(function(){var b=$(this).attr("lang").toLowerCase();a===b&&$(this).children().each(function(){var a=$(this).attr("name");c.push({regexp:RegExp("__MSG_"+a+"__","gi"),replace:this.text||this.innerText||this.textContent})})})}var c=[],e=com.rooxteam.i18n.getLanguage().substring(0,2);a(e,c);c.length||a("all",c);return function(a){for(var b=0;b<c.length;b++)a=a.replace(c[b].regexp,c[b].replace);return a}};
com.rooxteam.i18n.compile=function(b,a,c){var e=[];b.children().each(function(){var a=$(this).attr("lang").toLowerCase(),b=$(this).attr("messages"),d=this.text||this.innerText||this.textContent;b?e.push($.ajax(c+b,{dataType:"json"}).pipe(function(b){return[b,a]})):d&&e.push($.Deferred(function(b){b.resolve(JSON.parse(d),a)}))});return $.when.apply(null,e).pipe(function(){for(var b={},c=Array.prototype.slice.call(arguments,0),d=0,e=c.length;d<e;d++)arguments[d][0]?b[c[d][1]]=c[d][0]:b["*"]=c[d][0];
return"\x3cscript type\x3d'text/javascript'\x3e com.rooxteam.i18n.setLocales("+JSON.stringify(b)+", '"+a+"');\x3c/script\x3e"})};
com.rooxteam.i18n.getTranslation=function(b,a,c){"undefined"===typeof c&&(c=0);return"undefined"!==typeof a&&"undefined"!==typeof com.rooxteam.i18n._locales[c]&&"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang]&&"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][a]&&"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][a][b]?com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][a][b]:"undefined"!==typeof com.rooxteam.i18n._locales[c]&&
"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang]&&"undefined"!==typeof com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][b]?com.rooxteam.i18n._locales[c][com.rooxteam.i18n._lang][b]:b};
com.rooxteam.i18n.getTranslationNoun=function(b,a,c,e){return"ru_ru"===com.rooxteam.i18n._lang?com.rooxteam.i18n.getTranslationNounRu.call(this,b,com.rooxteam.i18n.getTranslation(a+"_one",c,e),com.rooxteam.i18n.getTranslation(a+"_two",c,e),com.rooxteam.i18n.getTranslation(a+"_five",c,e)):com.rooxteam.i18n.getTranslationNounUs.call(this,b,com.rooxteam.i18n.getTranslation(a+"_one",c,e),com.rooxteam.i18n.getTranslation(a+"_many",c,e))};
com.rooxteam.i18n.getTranslationNounUs=function(b,a,c){b=Math.abs(b);return 1<b?c:a};com.rooxteam.i18n.getTranslationNounRu=function(b,a,c,e){b=Math.abs(b);b%=100;if(5<=b&&20>=b)return e;b%=10;return 1===b?a:2<=b&&4>=b?c:e};com.rooxteam.i18n.init();
"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.i18n=function(b,a,c,e){a=a.get("moduleId");return b.write(com.rooxteam.i18n.getTranslation(e.key,e.namespace,a))},dust.helpers.i18noun=function(b,a,c,e){a=a.get("moduleId");return b.write(com.rooxteam.i18n.getTranslationNoun(e.number,e.prefix,e.namespace,a))});
gadgets.pubsubrouter=function(){function b(b,f,m){var s=this.f,p=".."===s?"container":a(s);if(p)switch(b){case "subscribe":if(e&&e(s,f))break;c[f]||(c[f]={});c[f][s]=!0;break;case "unsubscribe":if(h&&h(s,f))break;c[f]&&delete c[f][s];break;case "publish":if(l&&l(s,f,m))break;if(b=c[f])for(var v in b)b.hasOwnProperty(v)&&gadgets.rpc.call(v,"pubsub",null,f,p,m);break;default:throw Error("Unknown pubsub command");}}var a,c={},e,h,l;return{init:function(c,f){if("function"!==typeof c)throw Error("Invalid handler");
"object"===typeof f&&(e=f.onSubscribe,h=f.onUnsubscribe,l=f.onPublish);a=c;gadgets.rpc.register("pubsub",b)},publish:function(a,c){b.call({f:".."},"publish",a,c)}}}();gadgets.window=gadgets.window||{};
(function(){gadgets.window.getViewportDimensions=function(){var b=0,a=0;self.innerHeight?(b=self.innerWidth,a=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(b=document.documentElement.clientWidth,a=document.documentElement.clientHeight):document.body&&(b=document.body.clientWidth,a=document.body.clientHeight);return{width:b,height:a}}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.window,"getViewportDimensions"]])});
gadgets.window=gadgets.window||{};(function(){gadgets.window.getWidth=function(){var b=gadgets.window.getViewportDimensions().width,a=document.body,c=document.documentElement;if("CSS1Compat"===document.compatMode&&c&&c.scrollWidth)return c.scrollWidth!==b?c.scrollWidth:c.offsetWidth;if(a)return c=a.scrollWidth,a=a.offsetWidth,c>b&&c>a?c:a}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.window,"getWidth"]])});gadgets.window=gadgets.window||{};
(function(){function b(a,b){window.getComputedStyle(a,"").getPropertyValue(b).match(/^([0-9]+)/);return parseInt(RegExp.$1,10)}gadgets.window.getHeight=function(){var a=gadgets.window.getViewportDimensions().height,c=document.body,e=document.documentElement;if("CSS1Compat"===document.compatMode&&e.scrollHeight)return e.scrollHeight!==a?e.scrollHeight:e.offsetHeight;if(0<=navigator.userAgent.indexOf("AppleWebKit")){a=0;for(c=[document.body];0<c.length;){var h=c.shift(),e=h.childNodes;if("undefined"!==
typeof h.style){var l=h.style.overflowY;l||(l=(l=document.defaultView.getComputedStyle(h,null))?l.overflowY:null);if("visible"!=l&&"inherit"!=l&&(l=h.style.height,l||(l=(l=document.defaultView.getComputedStyle(h,null))?l.height:""),0<l.length&&"auto"!=l))continue}for(h=0;h<e.length;h++){l=e[h];if("undefined"!==typeof l.offsetTop&&"undefined"!==typeof l.offsetHeight)var d=l.offsetTop+l.offsetHeight+b(l,"margin-bottom"),a=Math.max(a,d);c.push(l)}}return a+b(document.body,"border-bottom")+b(document.body,
"margin-bottom")+b(document.body,"padding-bottom")}if(c&&e)return h=e.scrollHeight,l=e.offsetHeight,e.clientHeight!==l&&(h=c.scrollHeight,l=c.offsetHeight),h>a?h>l?h:l:h<l?h:l}})();tamings___.push(function(b){caja___.whitelistFuncs([[gadgets.window,"getHeight"]])});
gadgets.json.xml=function(){function b(h,l){for(var d=0;d<h.length;d++){var f=h[d];if(f.nodeType==e){var m=f.nodeName,s=l[m];l[m]=null!=s?a(s,f.nodeValue):f.nodeValue}else if(0==f.childNodes.length)if(null!=f.attributes&&0!=f.attributes.length)if(m=f,f=l,s=f[m.nodeName],null==s)f[m.nodeName]={},c(m.attributes,f[m.nodeName]);else{var p={};c(m.attributes,p);f[m.nodeName]=a(s,p)}else l[f.nodeName]=null;else 1==f.childNodes.length&&f.firstChild.nodeType==e&&(null==f.attributes||0==f.attributes.length)?
(m=f.nodeName,f=f.firstChild,s=l[m],l[m]=null!=s?a(s,f.nodeValue):f.nodeValue):(m=l,s=m[f.nodeName],null==s?(m[f.nodeName]={},null!=f.attributes&&0!=f.attributes.length&&c(f.attributes,m[f.nodeName]),b(f.childNodes,m[f.nodeName])):(p={},null!=f.attributes&&0!=f.attributes.length&&c(f.attributes,p),b(f.childNodes,p),m[f.nodeName]=a(s,p)))}}function a(a,b){return a instanceof Array?(a[a.length]=b,a):[a,b]}function c(a,b){for(var c=null,e=0;e<a.length;e++)c=a[e],b["@"+c.nodeName]=c.nodeValue}var e=3;
return{convertXmlToJson:function(a){var c={};b(a.childNodes,c);return c}}}();com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.sso=com.rooxteam.sso||{};com.rooxteam.sso.postToSeamlessLink=function(b,a){var c=jQuery(a).attr("target")||"_blank",e=jQuery(a).attr("href");return com.rooxteam.sso.postToSeamlessLinkRaw(b,e,c)};
com.rooxteam.sso.postToSeamlessLinkRaw=function(b,a,c){b={ForceAuth:!0,service:(new gadgets.Prefs(b)).getString("service"),org:"users",arg:"newsession",IDToken1:"application",IDToken2:(new gadgets.Prefs(b)).getString("IDToken2"),"goto":a};var e=jQuery("\x3cform\x3e",{action:com.rooxteam.sso.getSSOUrl(),target:c,method:"post"});jQuery.each(b,function(a,b){e.append(jQuery("\x3cinput\x3e",{name:a,value:b,type:"hidden"}))});e.appendTo($("body"));e.submit();return!1};
com.rooxteam.sso.getSeamlessUrlParams=function(b){if(null!=b){b="";var a=com.rooxteam.sharedcontext.getDataContext().getDataSet("com.roox.cm.Common.App.Properties.unit.InstallationId"),c=com.rooxteam.sharedcontext.getDataContext().getDataSet("com.roox.cm.Common.App.Properties.unit.UserInstallationId");"undefined"!==typeof a&&(null!=a&&"undefined"!==typeof c&&null!=c)&&(b=a+"-"+c);return"service\x3d"+gadgets.config.get("com.rooxteam.sso").service+"\x26org\x3d"+gadgets.config.get("com.rooxteam.sso").realm+
"\x26IDToken1\x3d"+b}return""};com.rooxteam.sso.getSSOUrl=function(){return gadgets.config.get("com.rooxteam.sso").ssoUrl};com.rooxteam.sso.getSSOLogoutUrl=function(){return gadgets.config.get("com.rooxteam.sso").ssoLogoutUrl};com.rooxteam.sso.getDartItRedirectUrl=function(){return gadgets.config.get("com.rooxteam.sso").dartItRedirectUrl};com.rooxteam.sso.getPortalBaseUrl=function(){return gadgets.config.get("com.rooxteam.sso").portalBaseUrl};com.rooxteam.sso.getForceAuthUsingLogout=function(){return gadgets.config.get("com.rooxteam.sso").forceAuthUsingLogout};
com.rooxteam.sso.getSeamlessUrl=function(b,a,c){var e=com.rooxteam.sso.getDartItRedirectUrl();return e?"true"==com.rooxteam.sso.getForceAuthUsingLogout()?com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOLogoutUrl()).param("goto",com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOUrl()+"?"+com.rooxteam.sso.getSeamlessUrlParams(b)).param("goto",com.rooxteam.sso.URLBuilder(e).param("goto",com.rooxteam.sso.URLBuilder(a).params(c).build()).build()).build()).build():com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOUrl()+
"?arg\x3dnewsession\x26"+com.rooxteam.sso.getSeamlessUrlParams(b)).param("goto",com.rooxteam.sso.URLBuilder(e).param("goto",com.rooxteam.sso.URLBuilder(a).params(c).build()).build()).build():"true"==com.rooxteam.sso.getForceAuthUsingLogout()?com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOLogoutUrl()).param("goto",com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOUrl()+"?"+com.rooxteam.sso.getSeamlessUrlParams(b)).param("goto",com.rooxteam.sso.URLBuilder(a).params(c).build()).build()).build():
com.rooxteam.sso.URLBuilder(com.rooxteam.sso.getSSOUrl()+"?arg\x3dnewsession\x26"+com.rooxteam.sso.getSeamlessUrlParams(b)).param("goto",com.rooxteam.sso.URLBuilder(a).params(c).build()).build()};
com.rooxteam.sso.URLBuilder=function(b){return new function(){var a={},c="";this.param=function(b,c){a[b]=com.rooxteam.sso.urlencode(c);return this};this.params=function(a){c=""==c?a:c+("\x26"+a);return this};this.build=function(){var e=b,e=-1==e.indexOf("?")?e+"?":e+"\x26",h;for(h in a)e+=h+"\x3d"+a[h]+"\x26";return""==c?e.substring(0,e.length-1):e.indexOf("?")==e.length-1?e+c:e+"\x26"+c};return this}};
com.rooxteam.sso.JSONBuilder=function(){return new function(){var b={};this.child=function(a,c){b[a]=c;return this};this.toJSON=function(){return b};return this}};com.rooxteam.sso.urlencode=function(b){return encodeURIComponent((b+"").toString()).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")};
"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.ssoSeamlessUrl=function(b,a,c,e){a=a.get("moduleId");return gadgets.util.hasFeature("com.rooxteam.sso")?(e=com.rooxteam.sso.getSeamlessUrl(a,e.url,""),b.write(e)):b.write("There is no com.rooxteam.sso feature")});gadgets.i18n=gadgets.i18n||{};gadgets.i18n.dtFormatter_=null;gadgets.i18n.dtParser_=null;gadgets.i18n.numFormatter_=null;
gadgets.i18n.formatDateTime=function(b,a){gadgets.i18n.dtFormatter_?gadgets.i18n.dtFormatter_.patternInUse_!=b&&("string"==typeof b?gadgets.i18n.dtFormatter_.applyPattern(b):gadgets.i18n.dtFormatter_.applyStandardPattern(b),gadgets.i18n.dtFormatter_.patternInUse_=b):(gadgets.i18n.dtFormatter_=new gadgets.i18n.DateTimeFormat(gadgets.i18n.DateTimeConstants),"string"==typeof b?gadgets.i18n.dtFormatter_.applyPattern(b):gadgets.i18n.dtFormatter_.applyStandardPattern(b),gadgets.i18n.dtFormatter_.patternInUse_=
b);return gadgets.i18n.dtFormatter_.format(a)};
gadgets.i18n.parseDateTime=function(b,a,c,e){gadgets.i18n.dtParser_?gadgets.i18n.dtParser_.patternInUse_!=b&&("string"==typeof b?gadgets.i18n.dtParser_.applyPattern(b):gadgets.i18n.dtParser_.applyStandardPattern(b),gadgets.i18n.dtParser_.patternInUse_=b):(gadgets.i18n.dtParser_=new gadgets.i18n.DateTimeParse(gadgets.i18n.DateTimeConstants),"string"==typeof b?gadgets.i18n.dtParser_.applyPattern(b):gadgets.i18n.dtParser_.applyStandardPattern(b),gadgets.i18n.dtParser_.patternInUse_=b);return gadgets.i18n.dtParser_.parse(a,
c,e)};
gadgets.i18n.formatNumber=function(b,a,c){gadgets.i18n.numFormatter_?gadgets.i18n.numFormatter_.patternInUse_!=b&&("string"==typeof b?gadgets.i18n.numFormatter_.applyPattern(b,c):gadgets.i18n.numFormatter_.applyStandardPattern(b,c),gadgets.i18n.numFormatter_.patternInUse_=b):(gadgets.i18n.numFormatter_=new gadgets.i18n.NumberFormat(gadgets.i18n.NumberFormatConstants),"string"==typeof b?gadgets.i18n.numFormatter_.applyPattern(b,c):gadgets.i18n.numFormatter_.applyStandardPattern(b,c),gadgets.i18n.numFormatter_.patternInUse_=b);
return gadgets.i18n.numFormatter_.format(a)};
gadgets.i18n.parseNumber=function(b,a,c,e){if(gadgets.i18n.numFormatter_){if(gadgets.i18n.numFormatter_.patternInUse_!=b||gadgets.i18n.numFormatter_.currencyCodeInUse_!=e)"string"==typeof b?gadgets.i18n.numFormatter_.applyPattern(b,e):gadgets.i18n.numFormatter_.applyStandardPattern(b,e),gadgets.i18n.numFormatter_.patternInUse_=b,gadgets.i18n.numFormatter_.currencyCodeInUse_=e}else gadgets.i18n.numFormatter_=new gadgets.i18n.NumberFormat,"string"==typeof b?gadgets.i18n.numFormatter_.applyPattern(b,
e):gadgets.i18n.numFormatter_.applyStandardPattern(b,e),gadgets.i18n.numFormatter_.patternInUse_=b,gadgets.i18n.numFormatter_.currencyCodeInUse_=e;return gadgets.i18n.numFormatter_.parse(a,c)};gadgets.i18n.FULL_DATE_FORMAT=0;gadgets.i18n.LONG_DATE_FORMAT=1;gadgets.i18n.MEDIUM_DATE_FORMAT=2;gadgets.i18n.SHORT_DATE_FORMAT=3;gadgets.i18n.FULL_TIME_FORMAT=4;gadgets.i18n.LONG_TIME_FORMAT=5;gadgets.i18n.MEDIUM_TIME_FORMAT=6;gadgets.i18n.SHORT_TIME_FORMAT=7;gadgets.i18n.FULL_DATETIME_FORMAT=8;
gadgets.i18n.LONG_DATETIME_FORMAT=9;gadgets.i18n.MEDIUM_DATETIME_FORMAT=10;gadgets.i18n.SHORT_DATETIME_FORMAT=11;gadgets.i18n.DECIMAL_PATTERN=1;gadgets.i18n.SCIENTIFIC_PATTERN=2;gadgets.i18n.PERCENT_PATTERN=3;gadgets.i18n.CURRENCY_PATTERN=4;gadgets.i18n=gadgets.i18n||{};gadgets.i18n.DateTimeFormat=function(b){this.symbols_=b};gadgets.i18n.DateTimeFormat.TOKENS_=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];
gadgets.i18n.DateTimeFormat.PartTypes={QUOTED_STRING:0,FIELD:1,LITERAL:2};gadgets.i18n.DateTimeFormat.padNumber_=function(b,a){var c=String(b),e=c.indexOf(".");-1==e&&(e=c.length);return Array(Math.max(0,a-e)+1).join("0")+c};
gadgets.i18n.DateTimeFormat.prototype.applyPattern=function(b){for(this.patternParts_=[];b;)for(var a=0;a<gadgets.i18n.DateTimeFormat.TOKENS_.length;++a){var c=b.match(gadgets.i18n.DateTimeFormat.TOKENS_[a]);if(c){c=c[0];b=b.substring(c.length);a==gadgets.i18n.DateTimeFormat.PartTypes.QUOTED_STRING&&("''"==c?c="'":(c=c.substring(1,c.length-1),c=c.replace(/\'\'/,"'")));this.patternParts_.push({text:c,type:a});break}}};
gadgets.i18n.DateTimeFormat.prototype.format=function(b){for(var a=[],c=0;c<this.patternParts_.length;++c){var e=this.patternParts_[c].text;gadgets.i18n.DateTimeFormat.PartTypes.FIELD==this.patternParts_[c].type?a.push(this.formatField_(e,b)):a.push(e)}return a.join("")};
gadgets.i18n.DateTimeFormat.prototype.applyStandardPattern=function(b){var a;4>b?a=this.symbols_.DATEFORMATS[b]:8>b?a=this.symbols_.TIMEFORMATS[b-4]:12>b?a=this.symbols_.DATEFORMATS[b-8]+" "+this.symbols_.TIMEFORMATS[b-8]:this.applyStandardPattern(gadgets.i18n.MEDIUM_DATETIME_FORMAT);return this.applyPattern(a)};gadgets.i18n.DateTimeFormat.prototype.formatEra_=function(b,a){var c=0<a.getFullYear()?1:0;return 4<=b?this.symbols_.ERANAMES[c]:this.symbols_.ERAS[c]};
gadgets.i18n.DateTimeFormat.prototype.formatYear_=function(b,a){var c=a.getFullYear();0>c&&(c=-c);return 2==b?gadgets.i18n.DateTimeFormat.padNumber_(c%100,2):String(c)};gadgets.i18n.DateTimeFormat.prototype.formatMonth_=function(b,a){var c=a.getMonth();switch(b){case 5:return this.symbols_.NARROWMONTHS[c];case 4:return this.symbols_.MONTHS[c];case 3:return this.symbols_.SHORTMONTHS[c];default:return gadgets.i18n.DateTimeFormat.padNumber_(c+1,b)}};
gadgets.i18n.DateTimeFormat.prototype.format24Hours_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getHours()||24,b)};gadgets.i18n.DateTimeFormat.prototype.formatFractionalSeconds_=function(b,a){return(a.getTime()%1E3/1E3).toFixed(Math.min(3,b)).substr(2)+(3<b?gadgets.i18n.DateTimeFormat.padNumber_(0,b-3):"")};gadgets.i18n.DateTimeFormat.prototype.formatDayOfWeek_=function(b,a){var c=a.getDay();return 4<=b?this.symbols_.WEEKDAYS[c]:this.symbols_.SHORTWEEKDAYS[c]};
gadgets.i18n.DateTimeFormat.prototype.formatAmPm_=function(b,a){var c=a.getHours();return this.symbols_.AMPMS[12<=c&&24>c?1:0]};gadgets.i18n.DateTimeFormat.prototype.format1To12Hours_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getHours()%12||12,b)};gadgets.i18n.DateTimeFormat.prototype.format0To11Hours_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getHours()%12,b)};
gadgets.i18n.DateTimeFormat.prototype.format0To23Hours_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getHours(),b)};gadgets.i18n.DateTimeFormat.prototype.formatStandaloneDay_=function(b,a){var c=a.getDay();switch(b){case 5:return this.symbols_.STANDALONENARROWWEEKDAYS[c];case 4:return this.symbols_.STANDALONEWEEKDAYS[c];case 3:return this.symbols_.STANDALONESHORTWEEKDAYS[c];default:return gadgets.i18n.DateTimeFormat.padNumber_(c,1)}};
gadgets.i18n.DateTimeFormat.prototype.formatStandaloneMonth_=function(b,a){var c=a.getMonth();switch(b){case 5:return this.symbols_.STANDALONENARROWMONTHS[c];case 4:return this.symbols_.STANDALONEMONTHS[c];case 3:return this.symbols_.STANDALONESHORTMONTHS[c];default:return gadgets.i18n.DateTimeFormat.padNumber_(c+1,b)}};gadgets.i18n.DateTimeFormat.prototype.formatQuarter_=function(b,a){var c=Math.floor(a.getMonth()/3);return 4>b?this.symbols_.SHORTQUARTERS[c]:this.symbols_.QUARTERS[c]};
gadgets.i18n.DateTimeFormat.prototype.formatDate_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getDate(),b)};gadgets.i18n.DateTimeFormat.prototype.formatMinutes_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getMinutes(),b)};gadgets.i18n.DateTimeFormat.prototype.formatSeconds_=function(b,a){return gadgets.i18n.DateTimeFormat.padNumber_(a.getSeconds(),b)};
gadgets.i18n.DateTimeFormat.prototype.formatTimeZoneRFC_=function(b,a){if(4>b){var c=a.getTimezoneOffset(),e="-";0>c&&(c=-c,e="+");return e+gadgets.i18n.DateTimeFormat.padNumber_(5*(c/3)+c%60,4)}return this.formatGMT_(b,a)};gadgets.i18n.DateTimeFormat.prototype.formatGMT_=function(b,a){var c=a.getTimezoneOffset(),e=[];0<c?e.push("GMT-"):(c=-c,e.push("GMT+"));e.push(gadgets.i18n.DateTimeFormat.padNumber_(c/60,2));e.push(":");e.push(gadgets.i18n.DateTimeFormat.padNumber_(c%60,2));return e.join("")};
gadgets.i18n.DateTimeFormat.prototype.formatField_=function(b,a){var c=b.length;switch(b.charAt(0)){case "G":return this.formatEra_(c,a);case "y":return this.formatYear_(c,a);case "M":return this.formatMonth_(c,a);case "k":return this.format24Hours_(c,a);case "S":return this.formatFractionalSeconds_(c,a);case "E":return this.formatDayOfWeek_(c,a);case "a":return this.formatAmPm_(c,a);case "h":return this.format1To12Hours_(c,a);case "K":return this.format0To11Hours_(c,a);case "H":return this.format0To23Hours_(c,
a);case "c":return this.formatStandaloneDay_(c,a);case "L":return this.formatStandaloneMonth_(c,a);case "Q":return this.formatQuarter_(c,a);case "d":return this.formatDate_(c,a);case "m":return this.formatMinutes_(c,a);case "s":return this.formatSeconds_(c,a);case "v":return this.formatGMT_(c,a);case "z":return this.formatGMT_(c,a);case "Z":return this.formatTimeZoneRFC_(c,a);default:return""}};gadgets.i18n=gadgets.i18n||{};gadgets.i18n.DateTimeParse=function(b){this.symbols_=b};
gadgets.i18n.DateTimeParse.prototype.year=0;gadgets.i18n.DateTimeParse.prototype.month=0;gadgets.i18n.DateTimeParse.prototype.dayOfMonth=0;gadgets.i18n.DateTimeParse.prototype.hours=0;gadgets.i18n.DateTimeParse.prototype.minutes=0;gadgets.i18n.DateTimeParse.prototype.seconds=0;gadgets.i18n.DateTimeParse.prototype.milliseconds=0;gadgets.i18n.DateTimeParse.ambiguousYearCenturyStart=80;
gadgets.i18n.DateTimeParse.prototype.applyPattern=function(b){this.patternParts_=[];for(var a=!1,c="",e=0;e<b.length;e++){var h=b.charAt(e);if(" "==h){0<c.length&&(this.patternParts_.push({text:c,count:0,abutStart:!1}),c="");for(this.patternParts_.push({text:" ",count:0,abutStart:!1});e+1<b.length&&" "==b.charAt(e+1);)e++}else if(a)"'"==h?e+1<b.length&&"'"==b.charAt(e+1)?(c+=h,++e):a=!1:c+=h;else if(0<=gadgets.i18n.DateTimeParse.PATTERN_CHARS_.indexOf(h)){0<c.length&&(this.patternParts_.push({text:c,
count:0,abutStart:!1}),c="");var l=this.getNextCharCount_(b,e);this.patternParts_.push({text:h,count:l,abutStart:!1});e+=l-1}else"'"==h?e+1<b.length&&"'"==b.charAt(e+1)?(c+="'",e++):a=!0:c+=h}0<c.length&&this.patternParts_.push({text:c,count:0,abutStart:!1});this.markAbutStart_()};
gadgets.i18n.DateTimeParse.prototype.applyStandardPattern=function(b){var a;if(4>b)a=this.symbols_.DATEFORMATS[b];else if(8>b)a=this.symbols_.TIMEFORMATS[b-4];else if(12>b)a=this.symbols_.DATEFORMATS[b-8],a=a+" "+this.symbols_.TIMEFORMATS[b-8];else return this.applyStandardPattern(gadgets.i18n.MEDIUM_DATETIME_FORMAT);return this.applyPattern(a)};gadgets.i18n.DateTimeParse.prototype.parse=function(b,a,c){return this.internalParse_(b,a,c,!1)};
gadgets.i18n.DateTimeParse.prototype.internalParse_=function(b,a,c,e){for(var h=new gadgets.i18n.DateTimeParse.MyDate_,l=[a],d=-1,f=0,m=0,s=0;s<this.patternParts_.length;++s)if(0<this.patternParts_[s].count)if(0>d&&this.patternParts_[s].abutStart&&(d=s,f=a,m=0),0<=d){var p=this.patternParts_[s].count;if(s==d&&(p-=m,m++,0==p))return 0;this.subParse_(b,l,this.patternParts_[s],p,h)||(s=d-1,l[0]=f)}else{if(d=-1,!this.subParse_(b,l,this.patternParts_[s],0,h))return 0}else{d=-1;if(" "==this.patternParts_[s].text.charAt(0)){if(p=
l[0],this.skipSpace_(b,l),l[0]>p)continue}else if(b.indexOf(this.patternParts_[s].text,l[0])==l[0]){l[0]+=this.patternParts_[s].text.length;continue}return 0}return h.calcDate_(c,e)?l[0]-a:0};gadgets.i18n.DateTimeParse.prototype.getNextCharCount_=function(b,a){for(var c=b.charAt(a),e=a+1;e<b.length&&b.charAt(e)==c;)++e;return e-a};gadgets.i18n.DateTimeParse.PATTERN_CHARS_="GyMdkHmsSEDahKzZv";gadgets.i18n.DateTimeParse.NUMERIC_FORMAT_CHARS_="MydhHmsSDkK";
gadgets.i18n.DateTimeParse.prototype.isNumericField_=function(b){if(0>=b.count)return!1;var a=gadgets.i18n.DateTimeParse.NUMERIC_FORMAT_CHARS_.indexOf(b.text.charAt(0));return 0<a||0==a&&3>b.count};gadgets.i18n.DateTimeParse.prototype.markAbutStart_=function(){for(var b=!1,a=0;a<this.patternParts_.length;a++)this.isNumericField_(this.patternParts_[a])?!b&&(a+1<this.patternParts_.length&&this.isNumericField_(this.patternParts_[a+1]))&&(b=!0,this.patternParts_[a].abutStart=!0):b=!1};
gadgets.i18n.DateTimeParse.prototype.skipSpace_=function(b,a){var c=b.substring(a[0]).match(/^\s+/);c&&(a[0]+=c[0].length)};
gadgets.i18n.DateTimeParse.prototype.subParse_=function(b,a,c,e,h){this.skipSpace_(b,a);var l=a[0],d=c.text.charAt(0),f=-1;if(this.isNumericField_(c))if(0<e){if(l+e>b.length)return!1;f=this.parseInt_(b.substring(0,l+e),a)}else f=this.parseInt_(b,a);switch(d){case "G":return h.era=this.matchString_(b,a,this.symbols_.ERAS),!0;case "M":return this.subParseMonth_(b,a,h,f);case "E":return this.subParseDayOfWeek_(b,a,h);case "a":return h.ampm=this.matchString_(b,a,this.symbols_.AMPMS),!0;case "y":return this.subParseYear_(b,
a,l,f,c,h);case "d":return h.day=f,!0;case "S":return this.subParseFractionalSeconds_(f,a,l,h);case "h":12==f&&(f=0);case "K":case "H":case "k":return h.hours=f,!0;case "m":return h.minutes=f,!0;case "s":return h.seconds=f,!0;case "z":case "Z":case "v":return this.subparseTimeZoneInGMT_(b,a,h);default:return!1}};
gadgets.i18n.DateTimeParse.prototype.subParseYear_=function(b,a,c,e,h,l){var d;if(0>e){d=b.charAt(a[0]);if("+"!=d&&"-"!=d)return!1;a[0]++;e=this.parseInt_(b,a);if(0>e)return!1;"-"==d&&(e=-e)}null==d&&2==a[0]-c&&2==h.count?l.setTwoDigitYear_(e):l.year=e;return!0};gadgets.i18n.DateTimeParse.prototype.subParseMonth_=function(b,a,c,e){if(0>e){e=this.matchString_(b,a,this.symbols_.MONTHS);0>e&&(e=this.matchString_(b,a,this.symbols_.SHORTMONTHS));if(0>e)return!1;c.month=e}else c.month=e-1;return!0};
gadgets.i18n.DateTimeParse.prototype.subParseDayOfWeek_=function(b,a,c){var e=this.matchString_(b,a,this.symbols_.WEEKDAYS);0>e&&(e=this.matchString_(b,a,this.symbols_.SHORTWEEKDAYS));if(0>e)return!1;c.dayOfWeek=e;return!0};gadgets.i18n.DateTimeParse.prototype.subParseFractionalSeconds_=function(b,a,c,e){a=a[0]-c;e.milliseconds=3>a?b*Math.pow(10,3-a):Math.round(b/Math.pow(10,a-3));return!0};
gadgets.i18n.DateTimeParse.prototype.subparseTimeZoneInGMT_=function(b,a,c){b.indexOf("GMT",a[0])==a[0]&&(a[0]+=3);return this.parseTimeZoneOffset_(b,a,c)};
gadgets.i18n.DateTimeParse.prototype.parseTimeZoneOffset_=function(b,a,c){if(a[0]>=b.length)return c.tzOffset=0,!0;var e=1;switch(b.charAt(a[0])){case "-":e=-1;case "+":a[0]++}var h=a[0],l=this.parseInt_(b,a);if(0==l&&a[0]==h)return!1;var d;if(a[0]<b.length&&":"==b.charAt(a[0])){d=60*l;a[0]++;h=a[0];l=this.parseInt_(b,a);if(0==l&&a[0]==h)return!1;d+=l}else d=l,24>d&&2>=a[0]-h&&(d*=60),d=d%100+60*(d/100);c.tzOffset=-(d*e);return!0};
gadgets.i18n.DateTimeParse.prototype.parseInt_=function(b,a){var c=b.substring(a[0]).match(/^\d+/);if(!c)return-1;a[0]+=c[0].length;return parseInt(c[0],10)};gadgets.i18n.DateTimeParse.prototype.matchString_=function(b,a,c){var e=0,h=-1;b=b.substring(a[0]).toLowerCase();for(var l=0;l<c.length;++l){var d=c[l].length;d>e&&0==b.indexOf(c[l].toLowerCase())&&(h=l,e=d)}0<=h&&(a[0]+=e);return h};gadgets.i18n.DateTimeParse.MyDate_=function(){};
gadgets.i18n.DateTimeParse.MyDate_.prototype.setTwoDigitYear_=function(b){var a=(new Date).getFullYear()-gadgets.i18n.DateTimeParse.ambiguousYearCenturyStart,c=a%100;this.ambiguousYear=b==c;return this.year=b+=100*Math.floor(a/100)+(b<c?100:0)};
gadgets.i18n.DateTimeParse.MyDate_.prototype.calcDate_=function(b,a){void 0!=this.era&&(void 0!=this.year&&0==this.era&&0<this.year)&&(this.year=-(this.year-1));void 0!=this.year&&b.setFullYear(this.year);var c=b.getDate();b.setDate(1);void 0!=this.month&&b.setMonth(this.month);void 0!=this.day?b.setDate(this.day):b.setDate(c);void 0==this.hours&&(this.hours=b.getHours());void 0!=this.ampm&&0<this.ampm&&12>this.hours&&(this.hours+=12);b.setHours(this.hours);void 0!=this.minutes&&b.setMinutes(this.minutes);
void 0!=this.seconds&&b.setSeconds(this.seconds);void 0!=this.milliseconds&&b.setMilliseconds(this.milliseconds);if(a&&(void 0!=this.year&&this.year!=b.getFullYear()||void 0!=this.month&&this.month!=b.getMonth()||void 0!=this.dayOfMonth&&this.dayOfMonth!=b.getDate()||24<=this.hours||60<=this.minutes||60<=this.seconds||1E3<=this.milliseconds))return!1;void 0!=this.tzOffset&&(c=b.getTimezoneOffset(),b.setTime(b.getTime()+6E4*(this.tzOffset-c)));this.ambiguousYear&&(c=new Date,c.setFullYear(c.getFullYear()-
gadgets.i18n.DateTimeParse.ambiguousYearCenturyStart),b.getTime()<c.getTime()&&b.setFullYear(c.getFullYear()+100));if(void 0!=this.dayOfWeek)if(void 0==this.day){c=(7+this.dayOfWeek-b.getDay())%7;3<c&&(c-=7);var e=b.getMonth();b.setDate(b.getDate()+c);b.getMonth()!=e&&b.setDate(b.getDate()+(0<c?-7:7))}else if(this.dayOfWeek!=b.getDay())return!1;return!0};gadgets.i18n=gadgets.i18n||{};gadgets.i18n.NumberFormat=function(b){this.symbols_=b};
gadgets.i18n.NumberFormat.prototype.applyStandardPattern=function(b,a){switch(b){case gadgets.i18n.DECIMAL_PATTERN:this.applyPattern(this.symbols_.DECIMAL_PATTERN,a);break;case gadgets.i18n.SCIENTIFIC_PATTERN:this.applyPattern(this.symbols_.SCIENTIFIC_PATTERN,a);break;case gadgets.i18n.PERCENT_PATTERN:this.applyPattern(this.symbols_.PERCENT_PATTERN,a);break;case gadgets.i18n.CURRENCY_PATTERN:this.applyPattern(this.symbols_.CURRENCY_PATTERN,a);break;default:throw Error("Unsupported pattern type.");
}};
gadgets.i18n.NumberFormat.prototype.applyPattern=function(b,a){this.pattern_=b;this.intlCurrencyCode_=a||this.symbols_.DEF_CURRENCY_CODE;this.currencySymbol_=gadgets.i18n.CurrencyCodeMap[this.intlCurrencyCode_];this.maximumIntegerDigits_=40;this.minimumIntegerDigits_=1;this.maximumFractionDigits_=3;this.minExponentDigits_=this.minimumFractionDigits_=0;this.positiveSuffix_=this.positivePrefix_="";this.negativePrefix_="-";this.negativeSuffix_="";this.multiplier_=1;this.groupingSize_=3;this.useExponentialNotation_=this.isCurrencyFormat_=
this.decimalSeparatorAlwaysShown_=!1;this.parsePattern_(this.pattern_)};
gadgets.i18n.NumberFormat.prototype.parse=function(b,a){var c=a||[0],e=c[0],h=0,l=b.indexOf(this.positivePrefix_,c[0])==c[0],d=b.indexOf(this.negativePrefix_,c[0])==c[0];l&&d&&(this.positivePrefix_.length>this.negativePrefix_.length?d=!1:this.positivePrefix_.length<this.negativePrefix_.length&&(l=!1));l?c[0]+=this.positivePrefix_.length:d&&(c[0]+=this.negativePrefix_.length);b.indexOf(this.symbols_.INFINITY,c[0])==c[0]?(c[0]+=this.symbols_.INFINITY.length,h=Infinity):h=this.parseNumber_(b,c);if(l){if(b.indexOf(this.positiveSuffix_,
c[0])!=c[0])return c[0]=e,0;c[0]+=this.positiveSuffix_.length}else if(d){if(b.indexOf(this.negativeSuffix_,c[0])!=c[0])return c[0]=e,0;c[0]+=this.negativeSuffix_.length}return d?-h:h};
gadgets.i18n.NumberFormat.prototype.parseNumber_=function(b,a){for(var c=!1,e=!1,h=!1,l=1,d=this.isCurrencyFormat_?this.symbols_.MONETARY_SEP:this.symbols_.DECIMAL_SEP,f=this.isCurrencyFormat_?this.symbols_.MONETARY_GROUP_SEP:this.symbols_.GROUP_SEP,m=this.symbols_.EXP_SYMBOL,s="";a[0]<b.length;a[0]++){var p=b.charAt(a[0]),v=this.getDigit_(p);if(0<=v&&9>=v)s+=v,h=!0;else if(p==d.charAt(0)){if(c||e)break;s+=".";c=!0}else if(p==f.charAt(0)||" "==f.charAt(0)&&" "==p&&a[0]+1<b.length&&0<=this.getDigit_(b.charAt(a[0]+
1))){if(c||e)break}else if(p==m.charAt(0)){if(e)break;s+="E";e=!0}else if("+"==p||"-"==p)s+=p;else if(p==this.symbols_.PERCENT.charAt(0)){if(1!=l)break;l=100;if(h){a[0]++;break}}else if(p==this.symbols_.PERMILL.charAt(0)){if(1!=l)break;l=1E3;if(h){a[0]++;break}}else break}return parseFloat(s)/l};
gadgets.i18n.NumberFormat.prototype.format=function(b){if(isNaN(b))return this.symbols_.NAN;var a=[],c=0>b||0==b&&0>1/b;a.push(c?this.negativePrefix_:this.positivePrefix_);isFinite(b)?(b=b*(c?-1:1)*this.multiplier_,this.useExponentialNotation_?this.subformatExponential_(b,a):this.subformatFixed_(b,this.minimumIntegerDigits_,a)):a.push(this.symbols_.INFINITY);a.push(c?this.negativeSuffix_:this.positiveSuffix_);return a.join("")};
gadgets.i18n.NumberFormat.prototype.subformatFixed_=function(b,a,c){var e=Math.pow(10,this.maximumFractionDigits_);b=Math.round(b*e);var h=Math.floor(b/e),l=Math.floor(b-h*e),d=0<this.minimumFractionDigits_||0<l,f="";for(b=h;1E20<b;)f="0"+f,b=Math.round(b/10);var f=b+f,m=this.isCurrencyFormat_?this.symbols_.MONETARY_SEP:this.symbols_.DECIMAL_SEP,s=this.isCurrencyFormat_?this.symbols_.MONETARY_GROUP_SEP:this.symbols_.GROUP_SEP;b=this.symbols_.ZERO_DIGIT.charCodeAt(0);var p=f.length;if(0<h||0<a){for(h=
p;h<a;h++)c.push(this.symbols_.ZERO_DIGIT);for(h=0;h<p;h++)c.push(String.fromCharCode(b+1*f.charAt(h))),1<p-h&&(0<this.groupingSize_&&1==(p-h)%this.groupingSize_)&&c.push(s)}else d||c.push(this.symbols_.ZERO_DIGIT);(this.decimalSeparatorAlwaysShown_||d)&&c.push(m);a=""+(l+e);for(e=a.length;"0"==a.charAt(e-1)&&e>this.minimumFractionDigits_+1;)e--;for(h=1;h<e;h++)c.push(String.fromCharCode(b+1*a.charAt(h)))};
gadgets.i18n.NumberFormat.prototype.addExponentPart_=function(b,a){a.push(this.symbols_.EXP_SYMBOL);0>b&&(b=-b,a.push(this.symbols_.MINUS_SIGN));for(var c=""+b,e=c.length;e<this.minExponentDigits_;e++)a.push(this.symbols_.ZERO_DIGIT);a.push(c)};
gadgets.i18n.NumberFormat.prototype.subformatExponential_=function(b,a){if(0==b)this.subformatFixed_(b,this.minimumIntegerDigits_,a),this.addExponentPart_(0,a);else{var c=Math.floor(Math.log(b)/Math.log(10));b/=Math.pow(10,c);var e=this.minimumIntegerDigits_;if(1<this.maximumIntegerDigits_&&this.maximumIntegerDigits_>this.minimumIntegerDigits_){for(;0!=c%this.maximumIntegerDigits_;)b*=10,c--;e=1}else 1>this.minimumIntegerDigits_?(c++,b/=10):(c-=this.minimumIntegerDigits_-1,b*=Math.pow(10,this.minimumIntegerDigits_-
1));this.subformatFixed_(b,e,a);this.addExponentPart_(c,a)}};gadgets.i18n.NumberFormat.prototype.getDigit_=function(b){b=b.charCodeAt(0);if(48<=b&&58>b)return b-48;var a=this.symbols_.ZERO_DIGIT.charCodeAt(0);return a<=b&&b<a+10?b-a:-1};gadgets.i18n.NumberFormat.PATTERN_ZERO_DIGIT_="0";gadgets.i18n.NumberFormat.PATTERN_GROUPING_SEPARATOR_=",";gadgets.i18n.NumberFormat.PATTERN_DECIMAL_SEPARATOR_=".";gadgets.i18n.NumberFormat.PATTERN_PER_MILLE_="‰";gadgets.i18n.NumberFormat.PATTERN_PERCENT_="%";
gadgets.i18n.NumberFormat.PATTERN_DIGIT_="#";gadgets.i18n.NumberFormat.PATTERN_SEPARATOR_=";";gadgets.i18n.NumberFormat.PATTERN_EXPONENT_="E";gadgets.i18n.NumberFormat.PATTERN_MINUS_="-";gadgets.i18n.NumberFormat.PATTERN_CURRENCY_SIGN_="¤";gadgets.i18n.NumberFormat.QUOTE_="'";
gadgets.i18n.NumberFormat.prototype.parseAffix_=function(b,a){for(var c="",e=!1,h=b.length;a[0]<h;a[0]++){var l=b.charAt(a[0]);if(l==gadgets.i18n.NumberFormat.QUOTE_)a[0]+1<h&&b.charAt(a[0]+1)==gadgets.i18n.NumberFormat.QUOTE_?(a[0]++,c+="'"):e=!e;else if(e)c+=l;else switch(l){case gadgets.i18n.NumberFormat.PATTERN_DIGIT_:case gadgets.i18n.NumberFormat.PATTERN_ZERO_DIGIT_:case gadgets.i18n.NumberFormat.PATTERN_GROUPING_SEPARATOR_:case gadgets.i18n.NumberFormat.PATTERN_DECIMAL_SEPARATOR_:case gadgets.i18n.NumberFormat.PATTERN_SEPARATOR_:return c;
case gadgets.i18n.NumberFormat.PATTERN_CURRENCY_SIGN_:this.isCurrencyFormat_=!0;a[0]+1<h&&b.charAt(a[0]+1)==gadgets.i18n.NumberFormat.PATTERN_CURRENCY_SIGN_?(a[0]++,c+=this.intlCurrencyCode_):c+=this.currencySymbol_;break;case gadgets.i18n.NumberFormat.PATTERN_PERCENT_:if(1!=this.multiplier_)throw Error("Too many percent/permill");this.multiplier_=100;c+=this.symbols_.PERCENT;break;case gadgets.i18n.NumberFormat.PATTERN_PER_MILLE_:if(1!=this.multiplier_)throw Error("Too many percent/permill");this.multiplier_=
1E3;c+=this.symbols_.PERMILL;break;default:c+=l}}return c};
gadgets.i18n.NumberFormat.prototype.parseTrunk_=function(b,a){for(var c=-1,e=0,h=0,l=0,d=-1,f=b.length,m=!0;a[0]<f&&m;a[0]++)switch(b.charAt(a[0])){case gadgets.i18n.NumberFormat.PATTERN_DIGIT_:0<h?l++:e++;0<=d&&0>c&&d++;break;case gadgets.i18n.NumberFormat.PATTERN_ZERO_DIGIT_:if(0<l)throw Error('Unexpected "0" in pattern "'+b+'"');h++;0<=d&&0>c&&d++;break;case gadgets.i18n.NumberFormat.PATTERN_GROUPING_SEPARATOR_:d=0;break;case gadgets.i18n.NumberFormat.PATTERN_DECIMAL_SEPARATOR_:if(0<=c)throw Error('Multiple decimal separators in pattern "'+
b+'"');c=e+h+l;break;case gadgets.i18n.NumberFormat.PATTERN_EXPONENT_:if(this.useExponentialNotation_)throw Error('Multiple exponential symbols in pattern "'+b+'"');this.useExponentialNotation_=!0;for(this.minExponentDigits_=0;a[0]+1<f&&b.charAt(a[0]+1)==this.symbols_.ZERO_DIGIT.charAt(0);)a[0]++,this.minExponentDigits_++;if(1>e+h||1>this.minExponentDigits_)throw Error('Malformed exponential pattern "'+b+'"');m=!1;break;default:a[0]--,m=!1}0==h&&(0<e&&0<=c)&&(h=c,0==h&&h++,l=e-h,e=h-1,h=1);if(0>c&&
0<l||0<=c&&(c<e||c>e+h)||0==d)throw Error('Malformed pattern "'+b+'"');l=e+h+l;this.maximumFractionDigits_=0<=c?l-c:0;0<=c&&(this.minimumFractionDigits_=e+h-c,0>this.minimumFractionDigits_&&(this.minimumFractionDigits_=0));this.minimumIntegerDigits_=(0<=c?c:l)-e;this.useExponentialNotation_&&(this.maximumIntegerDigits_=e+this.minimumIntegerDigits_,0==this.maximumFractionDigits_&&0==this.minimumIntegerDigits_&&(this.minimumIntegerDigits_=1));this.groupingSize_=Math.max(0,d);this.decimalSeparatorAlwaysShown_=
0==c||c==l};gadgets.i18n.NumberFormat.prototype.parsePattern_=function(b){var a=[0];this.positivePrefix_=this.parseAffix_(b,a);var c=a[0];this.parseTrunk_(b,a);c=a[0]-c;this.positiveSuffix_=this.parseAffix_(b,a);a[0]<b.length&&b.charAt(a[0])==gadgets.i18n.NumberFormat.PATTERN_SEPARATOR_&&(a[0]++,this.negativePrefix_=this.parseAffix_(b,a),a[0]+=c,this.negativeSuffix_=this.parseAffix_(b,a))};gadgets.i18n=gadgets.i18n||{};
gadgets.i18n.CurrencyCodeMap={USD:"$",ARS:"$",AWG:"ƒ",AUD:"$",BSD:"$",BBD:"$",BEF:"₣",BZD:"$",BMD:"$",BOB:"$",BRL:"R$",BRC:"₢",GBP:"£",BND:"$",KHR:"៛",CAD:"$",KYD:"$",CLP:"$",CNY:"¥",COP:"₱",CRC:"₡",CUP:"₱",CYP:"£",DKK:"kr",DOP:"₱",XCD:"$",EGP:"£",SVC:"₡",EUR:"€",XEU:"₠",FKP:"£",FJD:"$",FRF:"₣",GIP:"£",GRD:"₯",GGP:"£",GYD:"$",NLG:"ƒ",HKD:"$",INR:"₨",IRR:"﷼",IEP:"£",IMP:"£",ILS:"₪",ITL:"₤",JMD:"$",JPY:"¥",JEP:"£",KPW:"₩",KRW:"₩",LAK:"₭",LBP:"£",LRD:"$",LUF:"₣",MTL:"₤",MUR:"₨",MXN:"$",MNT:"₮",NAD:"$",
NPR:"₨",ANG:"ƒ",NZD:"$",OMR:"﷼",PKR:"₨",PEN:"S/.",PHP:"₱",QAR:"﷼",RUB:"руб",SHP:"£",SAR:"﷼",SCR:"₨",SGD:"$",SBD:"$",ZAR:"R",ESP:"₧",LKR:"₨",SEK:"kr",SRD:"$",SYP:"£",TWD:"元",THB:"฿",TTD:"$",TRY:"₤",TRL:"₤",TVD:"$",UYU:"₱",VAL:"₤",VND:"₫",YER:"﷼",ZWD:"$"};
(function(){function b(a){this._value=a}function a(a,b,c,d){var e=Math.pow(10,b);a=(c(a*e)/e).toFixed(b);d&&(d=RegExp("0{1,"+d+"}$"),a=a.replace(d,""));return a}function c(b,c,e){var h=!1,l=!1,s=!1,x="",E=!1,G=!1,K=!1,H=!1,M=!1,R="",Q="",w=Math.abs(b),r="B KB MB GB TB PB EB ZB YB".split(" "),u="",N=!1;if(0===b&&null!==m)return m;-1<c.indexOf("(")?(h=!0,c=c.slice(1,-1)):-1<c.indexOf("+")&&(l=!0,c=c.replace(/\+/g,""));if(-1<c.indexOf("a"))if(E=0<=c.indexOf("aK"),G=0<=c.indexOf("aM"),K=0<=c.indexOf("aB"),
H=0<=c.indexOf("aT"),M=E||G||K||H,-1<c.indexOf(" a")?(x=" ",c=c.replace(" a","")):c=c.replace("a",""),w>=Math.pow(10,12)&&!M||H)x+=d[f].abbreviations.trillion,b/=Math.pow(10,12);else if(w<Math.pow(10,12)&&w>=Math.pow(10,9)&&!M||K)x+=d[f].abbreviations.billion,b/=Math.pow(10,9);else if(w<Math.pow(10,9)&&w>=Math.pow(10,6)&&!M||G)x+=d[f].abbreviations.million,b/=Math.pow(10,6);else if(w<Math.pow(10,6)&&w>=Math.pow(10,3)&&!M||E)x+=d[f].abbreviations.thousand,b/=Math.pow(10,3);if(-1<c.indexOf("b")){-1<
c.indexOf(" b")?(R=" ",c=c.replace(" b","")):c=c.replace("b","");for(K=0;K<=r.length;K++)if(E=Math.pow(1024,K),G=Math.pow(1024,K+1),b>=E&&b<G){R+=r[K];0<E&&(b/=E);break}}-1<c.indexOf("o")&&(-1<c.indexOf(" o")?(Q=" ",c=c.replace(" o","")):c=c.replace("o",""),Q+=d[f].ordinal(b));-1<c.indexOf("[.]")&&(s=!0,c=c.replace("[.]","."));b.toString().split(".");E=c.split(".")[1];r=c.indexOf(",");E?(-1<E.indexOf("[")?(E=E.replace("]",""),E=E.split("["),u=a(b,E[0].length+E[1].length,e,E[1].length)):u=a(b,E.length,
e),b=u.split(".")[0],u=u.split(".")[1].length?d[f].delimiters.decimal+u.split(".")[1]:"",s&&0===Number(u.slice(1))&&(u="")):b=a(b,null,e);-1<b.indexOf("-")&&(b=b.slice(1),N=!0);-1<r&&(b=b.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d[f].delimiters.thousands));0===c.indexOf(".")&&(b="");return(h&&N?"(":"")+(!h&&N?"-":"")+(!N&&l?"+":"")+b+u+(Q?Q:"")+(x?x:"")+(R?R:"")+(h&&N?")":"")}function e(a){a=a.toString().split(".");return 2>a.length?1:Math.pow(10,a[1].length)}function h(){return Array.prototype.slice.call(arguments).reduce(function(a,
b){var c=e(a),d=e(b);return c>d?c:d},-Infinity)}var l,d={},f="en",m=null,s="0,0";l=function(a){l.isNumeral(a)?a=a.value():0===a||"undefined"===typeof a?a=0:Number(a)||(a=l.fn.unformat(a));return new b(Number(a))};l.version="1.5.3";l.isNumeral=function(a){return a instanceof b};l.language=function(a,b){if(!a)return f;if(a&&!b){if(!d[a])throw Error("Unknown language : "+a);f=a}if(b||!d[a])d[a]=b;return l};l.languageData=function(a){if(!a)return d[f];if(!d[a])throw Error("Unknown language : "+a);return d[a]};
l.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}});l.zeroFormat=function(a){m="string"===typeof a?a:null};l.defaultFormat=function(a){s="string"===typeof a?a:"0.0"};"function"!==typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){if(null===this||"undefined"===typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");
if("function"!==typeof a)throw new TypeError(a+" is not a function");var c,d,e=this.length>>>0,f=!1;1<arguments.length&&(d=b,f=!0);for(c=0;e>c;++c)this.hasOwnProperty(c)&&(f?d=a(d,this[c],c,this):(d=this[c],f=!0));if(!f)throw new TypeError("Reduce of empty array with no initial value");return d});l.fn=b.prototype={clone:function(){return l(this)},format:function(a,b){var e=a?a:s,h=void 0!==b?b:Math.round;if(-1<e.indexOf("$")){var l=e,e=l.indexOf("$"),m=l.indexOf("("),x=l.indexOf("-"),E="";-1<l.indexOf(" $")?
(E=" ",l=l.replace(" $","")):-1<l.indexOf("$ ")?(E=" ",l=l.replace("$ ","")):l=l.replace("$","");l=c(this._value,l,h);if(1>=e)if(-1<l.indexOf("(")||-1<l.indexOf("-")){l=l.split("");h=1;if(e<m||e<x)h=0;l.splice(h,0,d[f].currency.symbol+E);l=l.join("")}else l=d[f].currency.symbol+E+l;else-1<l.indexOf(")")?(l=l.split(""),l.splice(-1,0,E+d[f].currency.symbol),l=l.join("")):l=l+E+d[f].currency.symbol;h=l}else-1<e.indexOf("%")?(m=e,e="",x=100*this._value,-1<m.indexOf(" %")?(e=" ",m=m.replace(" %","")):
m=m.replace("%",""),h=c(x,m,h),-1<h.indexOf(")")?(h=h.split(""),h.splice(-1,0,e+"%"),h=h.join("")):h=h+e+"%"):-1<e.indexOf(":")?(h=Math.floor(this._value/60/60),e=Math.floor((this._value-3600*h)/60),m=Math.round(this._value-3600*h-60*e),h=h+":"+(10>e?"0"+e:e)+":"+(10>m?"0"+m:m)):h=c(this._value,e,h);return h},unformat:function(a){if("[object Number]"===Object.prototype.toString.call(a))return a;var b=a=a?a:s,c,e,h,l,x="KB MB GB TB PB EB ZB YB".split(" "),E=!1,G;if(-1<a.indexOf(":"))a=a.split(":"),
b=0,3===a.length?(b+=3600*Number(a[0]),b+=60*Number(a[1]),b+=Number(a[2])):2===a.length&&(b+=60*Number(a[0]),b+=Number(a[1])),this._value=Number(b);else if(a===m)this._value=0;else{"."!==d[f].delimiters.decimal&&(a=a.replace(/\./g,"").replace(d[f].delimiters.decimal,"."));c=RegExp("[^a-zA-Z]"+d[f].abbreviations.thousand+"(?:\\)|(\\"+d[f].currency.symbol+")?(?:\\))?)?$");e=RegExp("[^a-zA-Z]"+d[f].abbreviations.million+"(?:\\)|(\\"+d[f].currency.symbol+")?(?:\\))?)?$");h=RegExp("[^a-zA-Z]"+d[f].abbreviations.billion+
"(?:\\)|(\\"+d[f].currency.symbol+")?(?:\\))?)?$");l=RegExp("[^a-zA-Z]"+d[f].abbreviations.trillion+"(?:\\)|(\\"+d[f].currency.symbol+")?(?:\\))?)?$");for(G=0;G<=x.length&&!(E=-1<a.indexOf(x[G])?Math.pow(1024,G+1):!1);G++);this._value=(E?E:1)*(b.match(c)?Math.pow(10,3):1)*(b.match(e)?Math.pow(10,6):1)*(b.match(h)?Math.pow(10,9):1)*(b.match(l)?Math.pow(10,12):1)*(-1<a.indexOf("%")?0.01:1)*((a.split("-").length+Math.min(a.split("(").length-1,a.split(")").length-1))%2?1:-1)*Number(a.replace(/[^0-9\.]+/g,
""));this._value=E?Math.ceil(this._value):this._value}return this._value},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){this._value=Number(a);return this},add:function(a){var b=h.call(null,this._value,a);this._value=[this._value,a].reduce(function(a,c,d,e){return a+b*c},0)/b;return this},subtract:function(a){var b=h.call(null,this._value,a);this._value=[a].reduce(function(a,c,d,e){return a-b*c},this._value*b)/b;return this},multiply:function(a){this._value=
[this._value,a].reduce(function(a,b,c,d){c=h(a,b);return a*c*b*c/(c*c)},1);return this},divide:function(a){this._value=[this._value,a].reduce(function(a,b,c,d){c=h(a,b);return a*c/(b*c)});return this},difference:function(a){return Math.abs(l(this._value).subtract(a).value())}};"undefined"===typeof ender&&(this.numeral=l)}).call(this);
(function(){var b={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"руб."}};"undefined"!==typeof window&&(this.numeral&&this.numeral.language)&&this.numeral.language("ru",b)})();
(function(b){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var c=function(){c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0]));return c.format.call(null,c.cache[arguments[0]],arguments)};c.format=function(b,h){var l=1,d=b.length,f="",m=[],s,p,v,B;for(s=0;s<d;s++)if(f=a(b[s]),"string"===f)m.push(b[s]);else if("array"===f){v=b[s];if(v[2]){f=h[l];for(p=0;p<v[2].length;p++){if(!f.hasOwnProperty(v[2][p]))throw c('[sprintf] property "%s" does not exist',
v[2][p]);f=f[v[2][p]]}}else f=v[1]?h[v[1]]:h[l++];if(/[^s]/.test(v[8])&&"number"!=a(f))throw c("[sprintf] expecting number but found %s",a(f));switch(v[8]){case "b":f=f.toString(2);break;case "c":f=String.fromCharCode(f);break;case "d":f=parseInt(f,10);break;case "e":f=v[7]?f.toExponential(v[7]):f.toExponential();break;case "f":f=v[7]?parseFloat(f).toFixed(v[7]):parseFloat(f);break;case "o":f=f.toString(8);break;case "s":f=(f=String(f))&&v[7]?f.substring(0,v[7]):f;break;case "u":f>>>=0;break;case "x":f=
f.toString(16);break;case "X":f=f.toString(16).toUpperCase()}f=/[def]/.test(v[8])&&v[3]&&0<=f?"+"+f:f;p=v[4]?"0"==v[4]?"0":v[4].charAt(1):" ";B=v[6]-String(f).length;if(v[6]){for(var t=[];0<B;t[--B]=p);p=t.join("")}else p="";m.push(v[5]?f+p:p+f)}return m.join("")};c.cache={};c.parse=function(a){for(var b=[],c=[],d=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){var d=
d|1,f=[],m=b[2],s=[];if(null!==(s=/^([a-z_][a-z_\d]*)/i.exec(m)))for(f.push(s[1]);""!==(m=m.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(m)))f.push(s[1]);else if(null!==(s=/^\[(\d+)\]/.exec(m)))f.push(s[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=f}else d|=2;if(3===d)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return c};b.sprintf=c;b.vsprintf=function(a,b,l){l=
b.slice(0);l.splice(0,0,a);return c.apply(null,l)}})("undefined"!=typeof exports?exports:window);com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.numeraljs=com.rooxteam.numeraljs||{};com.rooxteam.numeraljs.numeral=numeral;com.rooxteam.numeraljs.sprintf=sprintf;com.rooxteam.numeraljs.vsprintf=vsprintf;
com.rooxteam.numeraljs.digits=function(b,a){var c=b||"",e=(a||"").replace(/[^0-9]/g,"").split(""),h=e.length,l="";-1<c.indexOf("#")?(h=c.match(/#/g).length,c=c.replace(/#/g,"%s")):-1<c.indexOf("0")&&(h=c.match(/0/g).length,c=c.replace(/0/g,"%s"),l="0");if(e.length<h){for(var d=[],h=h-e.length;h--;)d[h]=l;e=e.concat(d)}return vsprintf(c,e)};
"undefined"!==typeof dust&&dust.helpers&&(dust.helpers.numeral=function(b,a,c,e){c=dust.helpers.tap(e.value,b,a);a=dust.helpers.tap(e.format,b,a);return b.write(numeral(c).format(a))},dust.helpers.sprintf=function(b,a,c,e){var h=dust.helpers.tap(e.format,b,a);return c.block&&!h?b.capture(c.block,a,function(a,b){b.end(sprintf(a,e))}):b.write(sprintf(h,e))},dust.helpers.digits=function(b,a,c,e){c=dust.helpers.tap(e.value,b,a);a=dust.helpers.tap(e.format,b,a);return b.write(com.rooxteam.numeraljs.digits(a,
c))});com=com||{};com.rooxteam=com.rooxteam||{};com.rooxteam.lesscss=com.rooxteam.lesscss||{};var less={env:"development"};com.rooxteam.lesscss.reInit=function(){for(var b=document.getElementsByTagName("link"),a=/^text\/(x-)?less$/,c=0;c<b.length;c++)("stylesheet/less"===b[c].rel||b[c].rel.match(/stylesheet/)&&b[c].type.match(a))&&less.sheets.push(b[c]);less.refresh()};
(function(b,a){function c(a){return b.less[a.split("/")[1]]}function e(){"development"===z.env?(z.optimization=0,z.watchTimer=setInterval(function(){z.watchMode&&l(function(a,b,c,d,e){b&&p(b.toCSS(),d,e.lastModified)})},z.poll)):z.optimization=3}function h(){for(var a=document.getElementsByTagName("style"),b=0;b<a.length;b++)a[b].type.match(M)&&(new z.Parser({filename:document.location.href.replace(/#.*$/,""),dumpLineNumbers:z.dumpLineNumbers})).parse(a[b].innerHTML||"",function(c,d){var e=d.toCSS(),
g=a[b];g.type="text/css";g.styleSheet?g.styleSheet.cssText=e:g.innerHTML=e})}function l(a,b){for(var c=0;c<z.sheets.length;c++)m(z.sheets[c],a,b,z.sheets.length-(c+1))}function d(a,b){var c=f(a),d=f(b),e,g,h="";if(c.hostPart!==d.hostPart)return"";g=Math.max(d.directories.length,c.directories.length);for(e=0;e<g&&d.directories[e]===c.directories[e];e++);d=d.directories.slice(e);c=c.directories.slice(e);for(e=0;e<d.length-1;e++)h+="../";for(e=0;e<c.length-1;e++)h+=c[e]+"/";return h}function f(a,b){var c=
/^((?:[a-z-]+:)?\/\/(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/,d=a.match(c),e={},g=[];if(!d)throw Error("Could not parse sheet href - '"+a+"'");if(!d[1]||d[2]){c=b.match(c);if(!c)throw Error("Could not parse page url - '"+b+"'");d[1]=c[1];d[2]||(d[3]=c[3]+d[3])}if(d[3]){g=d[3].replace("\\","/").split("/");for(c=0;c<g.length;c++)".."===g[c]&&0<c&&(g.splice(c-1,2),c-=2)}e.hostPart=d[1];e.directories=g;e.path=d[1]+g.join("/");e.fileUrl=e.path+(d[4]||"");e.url=e.fileUrl+
(d[5]||"");return e}function m(a,c,e,h){var l=a.contents||{},g=a.files||{},m=f(a.href,b.location.href),t=m.url,x=K&&K.getItem(t),B=K&&K.getItem(t+":timestamp"),E={css:x,timestamp:B},U;U=z.relativeUrls?z.rootpath?a.entryPath?f(z.rootpath+d(m.path,a.entryPath)).path:z.rootpath:m.path:z.rootpath?z.rootpath:a.entryPath?a.entryPath:m.path;v(t,a.type,function(b,d){Q+=b.replace(/@import .+?;/ig,"");if(!e&&E&&d&&(new Date(d)).valueOf()===(new Date(E.timestamp)).valueOf())p(E.css,a),c(null,null,b,a,{local:!0,
remaining:h},t);else try{l[t]=b,(new z.Parser({optimization:z.optimization,paths:[m.path],entryPath:a.entryPath||m.path,mime:a.type,filename:t,rootpath:U,relativeUrls:a.relativeUrls,contents:l,files:g,dumpLineNumbers:z.dumpLineNumbers})).parse(b,function(e,g){if(e)return I(e,t);try{c(e,g,b,a,{local:!1,lastModified:d,remaining:h},t);var f=document.getElementById("less-error-message:"+s(t));f&&f.parentNode.removeChild(f)}catch(l){I(l,t)}})}catch(f){I(f,t)}},function(a,b){throw Error("Couldn't load "+
b+" ("+a+")");})}function s(a){return a.replace(/^[a-z]+:\/\/?[^\/]+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function p(a,b,c){var d,e=b.href||"",g="less:"+(b.title||s(e));if(null===(d=document.getElementById(g)))d=document.createElement("style"),d.type="text/css",b.media&&(d.media=b.media),d.id=g,b=b&&b.nextSibling||null,(b||document.getElementsByTagName("head")[0]).parentNode.insertBefore(d,b);if(d.styleSheet)try{d.styleSheet.cssText=a}catch(f){throw Error("Couldn't reassign styleSheet.cssText.");
}else b=document.createTextNode(a),0<d.childNodes.length?d.firstChild.nodeValue!==b.nodeValue&&d.replaceChild(b,d.firstChild):d.appendChild(b);if(c&&K){t("saving "+e+" to cache.");try{K.setItem(e,a),K.setItem(e+":timestamp",c)}catch(h){t("failed to save")}}}function v(a,b,c,d){function e(b,c,d){200<=b.status&&300>b.status?c(b.responseText,b.getResponseHeader("Last-Modified")):"function"===typeof d&&d(b.status,a)}var g=B(),f=E?z.fileAsync:z.async;"function"===typeof g.overrideMimeType&&g.overrideMimeType("text/css");
g.open("GET",a,f);g.setRequestHeader("Accept",b||"text/x-less, text/css; q\x3d0.9, */*; q\x3d0.5");g.send(null);E&&!z.fileAsync?0===g.status||200<=g.status&&300>g.status?c(g.responseText):d(g.status,a):f?g.onreadystatechange=function(){4==g.readyState&&e(g,c,d)}:e(g,c,d)}function B(){if(b.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(a){return t("browser doesn't support AJAX."),null}}function t(a){"development"==z.env&&"undefined"!==typeof console&&
console.log("less: "+a)}function I(a,b){var c="less-error-message:"+s(b),d=document.createElement("div"),e,g,f=[];g=a.filename||b;var h=g.match(/([^\/]+(\?.*)?)$/)[1];d.id=c;d.className="less-error-message";g="\x3ch3\x3e"+(a.message||"There is an error in your .less file")+'\x3c/h3\x3e\x3cp\x3ein \x3ca href\x3d"'+g+'"\x3e'+h+"\x3c/a\x3e ";h=function(a,b,c){a.extract[b]&&f.push('\x3cli\x3e\x3clabel\x3e{line}\x3c/label\x3e\x3cpre class\x3d"{class}"\x3e{content}\x3c/pre\x3e\x3c/li\x3e'.replace(/\{line\}/,
parseInt(a.line)+(b-1)).replace(/\{class\}/,c).replace(/\{content\}/,a.extract[b]))};a.stack?g+="\x3cbr/\x3e"+a.stack.split("\n").slice(1).join("\x3cbr/\x3e"):a.extract&&(h(a,0,""),h(a,1,"line"),h(a,2,""),g+="on line "+a.line+", column "+(a.column+1)+":\x3c/p\x3e\x3cul\x3e"+f.join("")+"\x3c/ul\x3e");d.innerHTML=g;p(".less-error-message ul, .less-error-message li {\nlist-style-type: none;\nmargin-right: 15px;\npadding: 4px 0;\nmargin: 0;\n}\n.less-error-message label {\nfont-size: 12px;\nmargin-right: 15px;\npadding: 4px 0;\ncolor: #cc7777;\n}\n.less-error-message pre {\ncolor: #dd6666;\npadding: 4px 0;\nmargin: 0;\ndisplay: inline-block;\n}\n.less-error-message pre.line {\ncolor: #ff0000;\n}\n.less-error-message h3 {\nfont-size: 20px;\nfont-weight: bold;\npadding: 15px 0 5px 0;\nmargin: 0;\n}\n.less-error-message a {\ncolor: #10a\n}\n.less-error-message .error {\ncolor: red;\nfont-weight: bold;\npadding-bottom: 2px;\nborder-bottom: 1px dashed red;\n}",
{title:"error-message"});d.style.cssText="font-family: Arial, sans-serif;border: 1px solid #e00;background-color: #eee;border-radius: 5px;-webkit-border-radius: 5px;-moz-border-radius: 5px;color: #e00;padding: 15px;margin-bottom: 15px";"development"==z.env&&(e=setInterval(function(){document.body&&(document.getElementById(c)?document.body.replaceChild(d,document.getElementById(c)):document.body.insertBefore(d,document.body.firstChild),clearInterval(e))},10))}Array.isArray||(Array.isArray=function(a){return"[object Array]"===
Object.prototype.toString.call(a)||a instanceof Array});Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this.length>>>0,d=0;d<c;d++)d in this&&a.call(b,this[d],d,this)});Array.prototype.map||(Array.prototype.map=function(a,b){for(var c=this.length>>>0,d=Array(c),e=0;e<c;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d});Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c=[],d=0;d<this.length;d++)a.call(b,this[d])&&c.push(this[d]);return c});Array.prototype.reduce||
(Array.prototype.reduce=function(a){var b=this.length>>>0,c=0;if(0===b&&1===arguments.length)throw new TypeError;if(2<=arguments.length)var d=arguments[1];else{do{if(c in this){d=this[c++];break}if(++c>=b)throw new TypeError;}while(1)}for(;c<b;c++)c in this&&(d=a.call(null,d,this[c],c,this));return d});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length,d=b||0;if(!c||d>=c)return-1;for(0>d&&(d+=c);d<c;d++)if(Object.prototype.hasOwnProperty.call(this,d)&&a===this[d])return d;
return-1});Object.keys||(Object.keys=function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b});String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var z,x;"object"===typeof environment&&"[object Environment]"==={}.toString.call(environment)?(z="undefined"===typeof b?{}:b.less={},x=z.tree={},z.mode="rhino"):"undefined"===typeof b?(z=exports,x=c("./tree"),z.mode="node"):("undefined"===typeof b.less&&
(b.less={}),z=b.less,x=b.less.tree={},z.mode="browser");z.Parser=function(a){function b(){E=A[B];H=I=F}function d(){A[B]=E;H=F=I}function e(){F>H&&(A[B]=A[B].slice(F-H),H=F)}function f(a){a=a.charCodeAt(0);return 32===a||10===a||9===a}function g(a){var b;if(a instanceof Function)return a.call(K.parsers);if("string"===typeof a)a=t.charAt(F)===a?a:null,b=1,e();else if(e(),a=a.exec(A[B]))b=a[0].length;else return null;if(a){for(var c=F+A[B].length,d=F+=b;F<c&&f(t.charAt(F));)F++;A[B]=A[B].slice(b+(F-
d));H=F;0===A[B].length&&B<A.length-1&&B++;return"string"===typeof a?a:1===a.length?a[0]:a}}function h(a,b){var c=g(a);if(c)return c;l(b||("string"===typeof a?"expected '"+a+"' got '"+t.charAt(F)+"'":"unexpected token"))}function l(a,b){var c=Error(a);c.index=F;c.type=b||"Syntax";throw c;}function m(a){return"string"===typeof a?t.charAt(F)===a:a.test(A[B])?!0:!1}function p(a,b){for(var c=a,d=-1;0<=c&&"\n"!==b.charAt(c);c--)d++;return{line:"number"===typeof a?(b.slice(0,a).match(/\n/g)||"").length:
null,column:d}}function s(a,b,d){a=p(a,b).line+1;d="browser"===z.mode||"rhino"===z.mode?d.filename:c("path").resolve(d.filename);return{lineNumber:a,fileName:d}}function v(a,b){var c;c=a.filename&&b.filename&&a.filename!==b.filename?K.imports.contents[a.filename]:t;var d=p(a.index,c),e=d.line,d=d.column,g=c.split("\n");this.type=a.type||"Syntax";this.message=a.message;this.filename=a.filename||b.filename;this.index=a.index;this.line="number"===typeof e?e+1:null;this.callLine=a.call&&p(a.call,c).line+
1;this.callExtract=g[p(a.call,c).line];this.stack=a.stack;this.column=d;this.extract=[g[e-1],g[e],g[e+1]]}var t,F,B,E,I,G,A,H,K;a=a||{};a.contents||(a.contents={});a.rootpath=a.rootpath||"";a.files||(a.files={});var n=function(){},y=this.imports={paths:a.paths||[],queue:[],files:a.files,contents:a.contents,mime:a.mime,error:null,push:function(b,c){var d=this;this.queue.push(b);z.Parser.importer(b,this.paths,function(a,e,g){d.queue.splice(d.queue.indexOf(b),1);var f=g in d.files;d.files[g]=e;a&&!d.error&&
(d.error=a);c(a,e,f);0===d.queue.length&&n(d.error)},a)}};this.env=a=a||{};this.optimization="optimization"in this.env?this.env.optimization:1;this.env.filename=this.env.filename||null;return K={imports:y,parse:function(b,d){var e,f,h,l=null;F=B=H=G=0;t=b.replace(/\r\n/g,"\n");t=t.replace(/^\uFEFF/,"");A=function(b){for(var c=0,d=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,e=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,g=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,f=0,h,r=b[0],m,n=0,
u,D;n<t.length;){d.lastIndex=n;if((h=d.exec(t))&&h.index===n)n+=h[0].length,r.push(h[0]);u=t.charAt(n);e.lastIndex=g.lastIndex=n;if((h=g.exec(t))&&h.index===n)n+=h[0].length,r.push(h[0]);else{if(!m&&"/"===u&&(D=t.charAt(n+1),"/"===D||"*"===D))if((h=e.exec(t))&&h.index===n){n+=h[0].length;r.push(h[0]);continue}switch(u){case "{":if(!m){f++;r.push(u);break}case "}":if(!m){f--;r.push(u);b[++c]=r=[];break}case "(":if(!m){m=!0;r.push(u);break}case ")":if(m){m=!1;r.push(u);break}default:r.push(u)}n++}}0!=
f&&(l=new v({index:n-1,type:"Parse",message:0<f?"missing closing `}`":"missing opening `{`",filename:a.filename},a));return b.map(function(a){return a.join("")})}([[]]);if(l)return d(l,a);try{e=new x.Ruleset([],g(this.parsers.primary)),e.root=!0}catch(r){return d(new v(r,a))}e.toCSS=function(b){return function(d,e){var g=[];d=d||{};"object"===typeof e&&!Array.isArray(e)&&(e=Object.keys(e).map(function(a){var b=e[a];b instanceof x.Value||(b instanceof x.Expression||(b=new x.Expression([b])),b=new x.Value([b]));
return new x.Rule("@"+a,b,!1,0)}),g=[new x.Ruleset(null,e)]);try{var f=b.call(this,{frames:g}).toCSS([],{compress:d.compress||!1,dumpLineNumbers:a.dumpLineNumbers})}catch(h){throw new v(h,a);}if(g=K.imports.error){if(g instanceof v)throw g;throw new v(g,a);}return d.yuicompress&&"node"===z.mode?c("ycssmin").cssmin(f):d.compress?f.replace(/(\s)+/g,"$1"):f}}(e.eval);if(F<t.length-1){F=G;h=t.split("\n");f=(t.slice(0,F).match(/\n/g)||"").length+1;for(var m=F,u=-1;0<=m&&"\n"!==t.charAt(m);m--)u++;l={type:"Parse",
message:"Syntax Error on line "+f,index:F,filename:a.filename,line:f,column:u,extract:[h[f-2],h[f-1],h[f]]}}0<this.imports.queue.length?n=function(a){(a=l||a)?d(a):d(null,e)}:d(l,e)},parsers:{primary:function(){for(var a,b=[];(a=g(this.mixin.definition)||g(this.rule)||g(this.ruleset)||g(this.mixin.call)||g(this.comment)||g(this.directive))||g(/^[\s\n]+/)||g(/^;+/);)a&&b.push(a);return b},comment:function(){var a;if("/"===t.charAt(F)){if("/"===t.charAt(F+1))return new x.Comment(g(/^\/\/.*/),!0);if(a=
g(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))return new x.Comment(a)}},entities:{quoted:function(){var a;a=F;var b;"~"===t.charAt(a)&&(a++,b=!0);if(!('"'!==t.charAt(a)&&"'"!==t.charAt(a))&&(b&&g("~"),a=g(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/)))return new x.Quoted(a[0],a[1]||a[2],b)},keyword:function(){var a;if(a=g(/^[_A-Za-z-][_A-Za-z0-9-]*/))return x.colors.hasOwnProperty(a)?new x.Color(x.colors[a].slice(1)):new x.Keyword(a)},call:function(){var b,c,d=F;if(b=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(A[B])){b=
b[1];c=b.toLowerCase();if("url"===c)return null;F+=b.length;if("alpha"===c&&(c=g(this.alpha),"undefined"!==typeof c))return c;g("(");c=g(this.entities.arguments);if(g(")")&&b)return new x.Call(b,c,d,a.filename)}},arguments:function(){for(var a=[],b;(b=g(this.entities.assignment)||g(this.expression))&&!(a.push(b),!g(",")););return a},literal:function(){return g(this.entities.ratio)||g(this.entities.dimension)||g(this.entities.color)||g(this.entities.quoted)||g(this.entities.unicodeDescriptor)},assignment:function(){var a,
b;if((a=g(/^\w+(?=\s?=)/i))&&g("\x3d")&&(b=g(this.entity)))return new x.Assignment(a,b)},url:function(){var b;if("u"===t.charAt(F)&&g(/^url\(/))return b=g(this.entities.quoted)||g(this.entities.variable)||g(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",h(")"),new x.URL(null!=b.value||b instanceof x.Variable?b:new x.Anonymous(b),a.rootpath)},variable:function(){var b,c=F;if("@"===t.charAt(F)&&(b=g(/^@@?[\w-]+/)))return new x.Variable(b,c,a.filename)},variableCurly:function(){var b,c=F;if("@"===t.charAt(F)&&
(b=g(/^@\{([\w-]+)\}/)))return new x.Variable("@"+b[1],c,a.filename)},color:function(){var a;if("#"===t.charAt(F)&&(a=g(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)))return new x.Color(a[1])},dimension:function(){var a;a=t.charCodeAt(F);if(!(57<a||43>a)&&!(47===a||44==a))if(a=g(/^([+-]?\d*\.?\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn|dpi|dpcm|dppx|rem|vw|vh|vmin|vm|ch)?/))return new x.Dimension(a[1],a[2])},ratio:function(){var a;a=t.charCodeAt(F);if(!(57<a||48>a))if(a=g(/^(\d+\/\d+)/))return new x.Ratio(a[1])},
unicodeDescriptor:function(){var a;if(a=g(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))return new x.UnicodeDescriptor(a[0])},javascript:function(){var a;a=F;var b;"~"===t.charAt(a)&&(a++,b=!0);if("`"===t.charAt(a)&&(b&&g("~"),a=g(/^`([^`]*)`/)))return new x.JavaScript(a[1],F,b)}},variable:function(){var a;if("@"===t.charAt(F)&&(a=g(/^(@[\w-]+)\s*:/)))return a[1]},shorthand:function(){var a,c;if(m(/^[@\w.%-]+\/[@\w.-]+/)){b();if((a=g(this.entity))&&g("/")&&(c=g(this.entity)))return new x.Shorthand(a,c);
d()}},mixin:{call:function(){var c=[],e,f,n=[],D=[],p,s,N,v=F;e=t.charAt(F);var y,z,A=!1;if(!("."!==e&&"#"!==e)){for(b();e=g(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);)c.push(new x.Element(f,e,F)),f=g("\x3e");if(g("(")){for(e=[];p=g(this.expression);)if(f=null,z=p,1==p.value.length&&(p=p.value[0],p instanceof x.Variable&&g(":")&&(0<e.length&&(s&&l("Cannot mix ; and , as delimiter types"),N=!0),z=h(this.expression),f=y=p.name)),e.push(z),D.push({name:f,value:z}),!g(",")&&(g(";")||s))N&&
l("Cannot mix ; and , as delimiter types"),s=!0,1<e.length&&(z=new x.Value(e)),n.push({name:y,value:z}),y=null,e=[],N=!1;h(")")}n=s?n:D;g(this.important)&&(A=!0);if(0<c.length&&(g(";")||m("}")))return new x.mixin.Call(c,n,v,a.filename,A);d()}},definition:function(){var a,c=[],e,f,l,n=!1;if(!("."!==t.charAt(F)&&"#"!==t.charAt(F)||m(/^[^{]*\}/)))if(b(),a=g(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){a=a[1];do if(g(this.comment),"."===t.charAt(F)&&g(/^\.{3}/)){n=!0;c.push({variadic:!0});
break}else if(e=g(this.entities.variable)||g(this.entities.literal)||g(this.entities.keyword))if(e instanceof x.Variable)if(g(":"))f=h(this.expression,"expected expression"),c.push({name:e.name,value:f});else if(g(/^\.{3}/)){c.push({name:e.name,variadic:!0});n=!0;break}else c.push({name:e.name});else c.push({value:e});else break;while(g(",")||g(";"));g(")")||(G=F,d());g(this.comment);g(/^when/)&&(l=h(this.conditions,"expected condition"));if(e=g(this.block))return new x.mixin.Definition(a,c,e,l,n);
d()}}},entity:function(){return g(this.entities.literal)||g(this.entities.variable)||g(this.entities.url)||g(this.entities.call)||g(this.entities.keyword)||g(this.entities.javascript)||g(this.comment)},end:function(){return g(";")||m("}")},alpha:function(){var a;if(g(/^\(opacity=/i)&&(a=g(/^\d+/)||g(this.entities.variable)))return h(")"),new x.Alpha(a)},element:function(){var a,b,c;b=g(this.combinator);a=g(/^(?:\d+\.\d+|\d+)%/)||g(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||
g("*")||g("\x26")||g(this.attribute)||g(/^\([^()@]+\)/)||g(/^[\.#](?=@)/)||g(this.entities.variableCurly);if(!a&&g("(")&&(c=g(this.entities.variableCurly)||g(this.entities.variable)||g(this.selector))&&g(")"))a=new x.Paren(c);if(a)return new x.Element(b,a,F)},combinator:function(){var a=t.charAt(F);if("\x3e"===a||"+"===a||"~"===a||"|"===a){for(F++;t.charAt(F).match(/\s/);)F++;return new x.Combinator(a)}return t.charAt(F-1).match(/\s/)?new x.Combinator(" "):new x.Combinator(null)},selector:function(){var a,
b=[],c;if(g("("))return a=g(this.entity),!g(")")?null:new x.Selector([new x.Element("",a,F)]);for(;(a=g(this.element))&&!(c=t.charAt(F),b.push(a),"{"===c||"}"===c||";"===c||","===c||")"===c););if(0<b.length)return new x.Selector(b)},attribute:function(){var a="",b,c,d;if(g("[")){if(b=g(/^(?:[_A-Za-z0-9-]|\\.)+/)||g(this.entities.quoted))a=(d=g(/^[|~*$^]?=/))&&(c=g(this.entities.quoted)||g(/^[\w-]+/))?[b,d,c.toCSS?c.toCSS():c].join(""):b;if(g("]")&&a)return"["+a+"]"}},block:function(){var a;if(g("{")&&
(a=g(this.primary))&&g("}"))return a},ruleset:function(){var c=[],e,f,h;b();for(a.dumpLineNumbers&&(h=s(F,t,a));e=g(this.selector);){c.push(e);g(this.comment);if(!g(","))break;g(this.comment)}if(0<c.length&&(f=g(this.block)))return c=new x.Ruleset(c,f,a.strictImports),a.dumpLineNumbers&&(c.debugInfo=h),c;G=F;d()},rule:function(){var a,c;a=t.charAt(F);var e;b();if(!("."===a||"#"===a||"\x26"===a))if(a=g(this.variable)||g(this.property)){"@"!=a.charAt(0)&&(c=/^([^@+\/'"*`(;{}-]*);/.exec(A[B]))?(F+=c[0].length-
1,c=new x.Anonymous(c[1])):c="font"===a?g(this.font):g(this.value);e=g(this.important);if(c&&g(this.end))return new x.Rule(a,c,e,I);G=F;d()}},"import":function(){var c,e,f=F;b();var h=g(/^@import(?:-(once))?\s+/);if(h&&(c=g(this.entities.quoted)||g(this.entities.url)))if(e=g(this.mediaFeatures),g(";"))return new x.Import(c,y,e,"once"===h[1],f,a.rootpath);d()},mediaFeature:function(){var a,b,c=[];do if(a=g(this.entities.keyword))c.push(a);else if(g("("))if(b=g(this.property),a=g(this.entity),g(")"))if(b&&
a)c.push(new x.Paren(new x.Rule(b,a,null,F,!0)));else if(a)c.push(new x.Paren(a));else return null;else return null;while(a);if(0<c.length)return new x.Expression(c)},mediaFeatures:function(){var a,b=[];do if(a=g(this.mediaFeature)){if(b.push(a),!g(","))break}else if(a=g(this.entities.variable))if(b.push(a),!g(","))break;while(a);return 0<b.length?b:null},media:function(){var b,c,d;a.dumpLineNumbers&&(d=s(F,t,a));if(g(/^@media/)&&(b=g(this.mediaFeatures),c=g(this.block)))return b=new x.Media(c,b),
a.dumpLineNumbers&&(b.debugInfo=d),b},directive:function(){var c,e,f,h,l;if("@"===t.charAt(F)){if(e=g(this["import"])||g(this.media))return e;b();if(c=g(/^@[a-z-]+/)){e=c;"-"==c.charAt(1)&&0<c.indexOf("-",2)&&(e="@"+c.slice(c.indexOf("-",2)+1));switch(e){case "@font-face":f=!0;break;case "@viewport":case "@top-left":case "@top-left-corner":case "@top-center":case "@top-right":case "@top-right-corner":case "@bottom-left":case "@bottom-left-corner":case "@bottom-center":case "@bottom-right":case "@bottom-right-corner":case "@left-top":case "@left-middle":case "@left-bottom":case "@right-top":case "@right-middle":case "@right-bottom":f=
!0;break;case "@page":case "@document":case "@supports":case "@keyframes":h=f=!0;break;case "@namespace":l=!0}h&&(c+=" "+(g(/^[^{]+/)||"").trim());if(f){if(f=g(this.block))return new x.Directive(c,f)}else if((e=l?g(this.expression):g(this.entity))&&g(";"))return c=new x.Directive(c,e),a.dumpLineNumbers&&(c.debugInfo=s(F,t,a)),c;d()}}},font:function(){for(var a=[],b=[],c;c=g(this.shorthand)||g(this.entity);)b.push(c);a.push(new x.Expression(b));if(g(","))for(;(c=g(this.expression))&&!(a.push(c),!g(",")););
return new x.Value(a)},value:function(){for(var a,b=[];(a=g(this.expression))&&!(b.push(a),!g(",")););if(0<b.length)return new x.Value(b)},important:function(){if("!"===t.charAt(F))return g(/^! *important/)},sub:function(){var a;if(g("(")&&(a=g(this.expression))&&g(")"))return a},multiplication:function(){var a,b,c,d;if(a=g(this.operand)){for(;!m(/^\/[*\/]/)&&(c=g("/")||g("*"))&&(b=g(this.operand));)d=new x.Operation(c,[d||a,b]);return d||a}},addition:function(){var a,b,c,d;if(a=g(this.multiplication)){for(;(c=
g(/^[-+]\s+/)||!f(t.charAt(F-1))&&(g("+")||g("-")))&&(b=g(this.multiplication));)d=new x.Operation(c,[d||a,b]);return d||a}},conditions:function(){var a,b,c=F,d;if(a=g(this.condition)){for(;g(",")&&(b=g(this.condition));)d=new x.Condition("or",d||a,b,c);return d||a}},condition:function(){var a,b,c,d,e=F,f=!1;g(/^not/)&&(f=!0);h("(");if(a=g(this.addition)||g(this.entities.keyword)||g(this.entities.quoted))return(d=g(/^(?:>=|=<|[<=>])/))?(b=g(this.addition)||g(this.entities.keyword)||g(this.entities.quoted))?
c=new x.Condition(d,a,b,e,f):l("expected expression"):c=new x.Condition("\x3d",a,new x.Keyword("true"),e,f),h(")"),g(/^and/)?new x.Condition("and",c,g(this.condition)):c},operand:function(){var a,b=t.charAt(F+1);if("-"===t.charAt(F)&&("@"===b||"("===b))a=g("-");b=g(this.sub)||g(this.entities.dimension)||g(this.entities.color)||g(this.entities.variable)||g(this.entities.call);return a?new x.Operation("*",[new x.Dimension(-1),b]):b},expression:function(){for(var a,b=[];a=g(this.addition)||g(this.entity);)b.push(a);
if(0<b.length)return new x.Expression(b)},property:function(){var a;if(a=g(/^(\*?-?[_a-z0-9-]+)\s*:/))return a[1]}}}};if("browser"===z.mode||"rhino"===z.mode)z.Parser.importer=function(a,b,c,d){!/^([a-z-]+:)?\//.test(a)&&0<b.length&&(a=b[0]+a);m({href:a,title:a,type:d.mime,contents:d.contents,files:d.files,rootpath:d.rootpath,entryPath:d.entryPath,relativeUrls:d.relativeUrls},function(a,e,f,h,l,m){a&&"function"===typeof d.errback?d.errback.call(null,m,b,c,d):c.call(null,a,e,m)},!0)};(function(a){function b(c){return a.functions.hsla(c.h,
c.s,c.l,c.a)}function c(b){if(b instanceof a.Dimension)return parseFloat("%"==b.unit?b.value/100:b.value);if("number"===typeof b)return b;throw{error:"RuntimeError",message:"color functions take numbers as parameters"};}function d(a){return Math.min(1,Math.max(0,a))}a.functions={rgb:function(a,b,c){return this.rgba(a,b,c,1)},rgba:function(b,d,e,f){b=[b,d,e].map(function(b){b=b instanceof a.Dimension&&"%"==b.unit?parseFloat(256*b.value/100):c(b);return b});f=c(f);return new a.Color(b,f)},hsl:function(a,
b,c){return this.hsla(a,b,c,1)},hsla:function(a,b,d,e){function f(a){a=0>a?a+1:1<a?a-1:a;return 1>6*a?l+6*(h-l)*a:1>2*a?h:2>3*a?l+6*(h-l)*(2/3-a):l}a=c(a)%360/360;b=c(b);d=c(d);e=c(e);var h=0.5>=d?d*(b+1):d+b-d*b,l=2*d-h;return this.rgba(255*f(a+1/3),255*f(a),255*f(a-1/3),e)},hsv:function(a,b,c){return this.hsva(a,b,c,1)},hsva:function(a,b,d,e){a=360*(c(a)%360/360);b=c(b);d=c(d);e=c(e);var f;f=Math.floor(a/60%6);a=a/60-f;b=[d,d*(1-b),d*(1-a*b),d*(1-(1-a)*b)];d=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,
1,0],[0,1,2]];return this.rgba(255*b[d[f][0]],255*b[d[f][1]],255*b[d[f][2]],e)},hue:function(b){return new a.Dimension(Math.round(b.toHSL().h))},saturation:function(b){return new a.Dimension(Math.round(100*b.toHSL().s),"%")},lightness:function(b){return new a.Dimension(Math.round(100*b.toHSL().l),"%")},red:function(b){return new a.Dimension(b.rgb[0])},green:function(b){return new a.Dimension(b.rgb[1])},blue:function(b){return new a.Dimension(b.rgb[2])},alpha:function(b){return new a.Dimension(b.toHSL().a)},
luma:function(b){return new a.Dimension(Math.round(100*(0.2126*(b.rgb[0]/255)+0.7152*(b.rgb[1]/255)+0.0722*(b.rgb[2]/255))*b.alpha),"%")},saturate:function(a,c){var e=a.toHSL();e.s+=c.value/100;e.s=d(e.s);return b(e)},desaturate:function(a,c){var e=a.toHSL();e.s-=c.value/100;e.s=d(e.s);return b(e)},lighten:function(a,c){var e=a.toHSL();e.l+=c.value/100;e.l=d(e.l);return b(e)},darken:function(a,c){var e=a.toHSL();e.l-=c.value/100;e.l=d(e.l);return b(e)},fadein:function(a,c){var e=a.toHSL();e.a+=c.value/
100;e.a=d(e.a);return b(e)},fadeout:function(a,c){var e=a.toHSL();e.a-=c.value/100;e.a=d(e.a);return b(e)},fade:function(a,c){var e=a.toHSL();e.a=c.value/100;e.a=d(e.a);return b(e)},spin:function(a,c){var d=a.toHSL(),e=(d.h+c.value)%360;d.h=0>e?360+e:e;return b(d)},mix:function(b,c,d){d||(d=new a.Dimension(50));d=d.value/100;var e=2*d-1,f=b.toHSL().a-c.toHSL().a,e=((-1==e*f?e:(e+f)/(1+e*f))+1)/2,f=1-e;return new a.Color([b.rgb[0]*e+c.rgb[0]*f,b.rgb[1]*e+c.rgb[1]*f,b.rgb[2]*e+c.rgb[2]*f],b.alpha*d+
c.alpha*(1-d))},greyscale:function(b){return this.desaturate(b,new a.Dimension(100))},contrast:function(a,b,c,d){if(!a.rgb)return null;"undefined"===typeof c&&(c=this.rgba(255,255,255,1));"undefined"===typeof b&&(b=this.rgba(0,0,0,1));d="undefined"===typeof d?0.43:d.value;return(0.2126*(a.rgb[0]/255)+0.7152*(a.rgb[1]/255)+0.0722*(a.rgb[2]/255))*a.alpha<d?c:b},e:function(b){return new a.Anonymous(b instanceof a.JavaScript?b.evaluated:b)},escape:function(b){return new a.Anonymous(encodeURI(b.value).replace(/=/g,
"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},"%":function(b){for(var c=Array.prototype.slice.call(arguments,1),d=b.value,e=0;e<c.length;e++)d=d.replace(/%[sda]/i,function(a){var b=a.match(/s/i)?c[e].value:c[e].toCSS();return a.match(/[A-Z]$/)?encodeURIComponent(b):b});d=d.replace(/%%/g,"%");return new a.Quoted('"'+d+'"',d)},unit:function(b,c){return new a.Dimension(b.value,c?c.toCSS():"")},round:function(a,b){var c="undefined"===typeof b?
0:b.value;return this._math(function(a){return a.toFixed(c)},a)},ceil:function(a){return this._math(Math.ceil,a)},floor:function(a){return this._math(Math.floor,a)},_math:function(b,c){if(c instanceof a.Dimension)return new a.Dimension(b(parseFloat(c.value)),c.unit);if("number"===typeof c)return b(c);throw{type:"Argument",message:"argument must be a number"};},argb:function(b){return new a.Anonymous(b.toARGB())},percentage:function(b){return new a.Dimension(100*b.value,"%")},color:function(b){if(b instanceof
a.Quoted)return new a.Color(b.value.slice(1));throw{type:"Argument",message:"argument must be a string"};},iscolor:function(b){return this._isa(b,a.Color)},isnumber:function(b){return this._isa(b,a.Dimension)},isstring:function(b){return this._isa(b,a.Quoted)},iskeyword:function(b){return this._isa(b,a.Keyword)},isurl:function(b){return this._isa(b,a.URL)},ispixel:function(b){return b instanceof a.Dimension&&"px"===b.unit?a.True:a.False},ispercentage:function(b){return b instanceof a.Dimension&&"%"===
b.unit?a.True:a.False},isem:function(b){return b instanceof a.Dimension&&"em"===b.unit?a.True:a.False},_isa:function(b,c){return b instanceof c?a.True:a.False},multiply:function(a,b){return this.rgb(a.rgb[0]*b.rgb[0]/255,a.rgb[1]*b.rgb[1]/255,a.rgb[2]*b.rgb[2]/255)},screen:function(a,b){return this.rgb(255-(255-a.rgb[0])*(255-b.rgb[0])/255,255-(255-a.rgb[1])*(255-b.rgb[1])/255,255-(255-a.rgb[2])*(255-b.rgb[2])/255)},overlay:function(a,b){return this.rgb(128>a.rgb[0]?2*a.rgb[0]*b.rgb[0]/255:255-2*
(255-a.rgb[0])*(255-b.rgb[0])/255,128>a.rgb[1]?2*a.rgb[1]*b.rgb[1]/255:255-2*(255-a.rgb[1])*(255-b.rgb[1])/255,128>a.rgb[2]?2*a.rgb[2]*b.rgb[2]/255:255-2*(255-a.rgb[2])*(255-b.rgb[2])/255)},softlight:function(a,b){var c=b.rgb[0]*a.rgb[0]/255,d=c+a.rgb[0]*(255-(255-a.rgb[0])*(255-b.rgb[0])/255-c)/255,c=b.rgb[1]*a.rgb[1]/255,e=c+a.rgb[1]*(255-(255-a.rgb[1])*(255-b.rgb[1])/255-c)/255,c=b.rgb[2]*a.rgb[2]/255;return this.rgb(d,e,c+a.rgb[2]*(255-(255-a.rgb[2])*(255-b.rgb[2])/255-c)/255)},hardlight:function(a,
b){return this.rgb(128>b.rgb[0]?2*b.rgb[0]*a.rgb[0]/255:255-2*(255-b.rgb[0])*(255-a.rgb[0])/255,128>b.rgb[1]?2*b.rgb[1]*a.rgb[1]/255:255-2*(255-b.rgb[1])*(255-a.rgb[1])/255,128>b.rgb[2]?2*b.rgb[2]*a.rgb[2]/255:255-2*(255-b.rgb[2])*(255-a.rgb[2])/255)},difference:function(a,b){var c=Math.abs(a.rgb[0]-b.rgb[0]),d=Math.abs(a.rgb[1]-b.rgb[1]),e=Math.abs(a.rgb[2]-b.rgb[2]);return this.rgb(c,d,e)},exclusion:function(a,b){return this.rgb(a.rgb[0]+b.rgb[0]*(255-a.rgb[0]-a.rgb[0])/255,a.rgb[1]+b.rgb[1]*(255-
a.rgb[1]-a.rgb[1])/255,a.rgb[2]+b.rgb[2]*(255-a.rgb[2]-a.rgb[2])/255)},average:function(a,b){return this.rgb((a.rgb[0]+b.rgb[0])/2,(a.rgb[1]+b.rgb[1])/2,(a.rgb[2]+b.rgb[2])/2)},negation:function(a,b){var c=255-Math.abs(255-b.rgb[0]-a.rgb[0]),d=255-Math.abs(255-b.rgb[1]-a.rgb[1]),e=255-Math.abs(255-b.rgb[2]-a.rgb[2]);return this.rgb(c,d,e)},tint:function(a,b){return this.mix(this.rgb(255,255,255),a,b)},shade:function(a,b){return this.mix(this.rgb(0,0,0),a,b)}}})(c("./tree"));(function(a){a.colors=
{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",
darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",
gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",
lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",
navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",
sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(c("./tree"));(function(a){a.Alpha=function(a){this.value=a};a.Alpha.prototype={toCSS:function(){return"alpha(opacity\x3d"+(this.value.toCSS?
this.value.toCSS():this.value)+")"},eval:function(a){this.value.eval&&(this.value=this.value.eval(a));return this}}})(c("../tree"));(function(a){a.Anonymous=function(a){this.value=a.value||a};a.Anonymous.prototype={toCSS:function(){return this.value},eval:function(){return this},compare:function(a){if(!a.toCSS)return-1;var b=this.toCSS();a=a.toCSS();return b===a?0:b<a?-1:1}}})(c("../tree"));(function(a){a.Assignment=function(a,b){this.key=a;this.value=b};a.Assignment.prototype={toCSS:function(){return this.key+
"\x3d"+(this.value.toCSS?this.value.toCSS():this.value)},eval:function(b){return this.value.eval?new a.Assignment(this.key,this.value.eval(b)):this}}})(c("../tree"));(function(a){a.Call=function(a,b,c,d){this.name=a;this.args=b;this.index=c;this.filename=d};a.Call.prototype={eval:function(b){var c=this.args.map(function(a){return a.eval(b)}),d;if(this.name in a.functions)try{if(d=a.functions[this.name].apply(a.functions,c),null!=d)return d}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+
this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.filename};}return new a.Anonymous(this.name+"("+c.map(function(a){return a.toCSS(b)}).join(", ")+")")},toCSS:function(a){return this.eval(a).toCSS()}}})(c("../tree"));(function(a){a.Color=function(a,b){Array.isArray(a)?this.rgb=a:this.rgb=6==a.length?a.match(/.{2}/g).map(function(a){return parseInt(a,16)}):a.split("").map(function(a){return parseInt(a+a,16)});this.alpha="number"===typeof b?b:1};a.Color.prototype={eval:function(){return this},
toCSS:function(){return 1>this.alpha?"rgba("+this.rgb.map(function(a){return Math.round(a)}).concat(this.alpha).join(", ")+")":"#"+this.rgb.map(function(a){a=Math.round(a);a=(255<a?255:0>a?0:a).toString(16);return 1===a.length?"0"+a:a}).join("")},operate:function(b,c){var d=[];c instanceof a.Color||(c=c.toColor());for(var e=0;3>e;e++)d[e]=a.operate(b,this.rgb[e],c.rgb[e]);return new a.Color(d,this.alpha+c.alpha)},toHSL:function(){var a=this.rgb[0]/255,b=this.rgb[1]/255,c=this.rgb[2]/255,d=this.alpha,
e=Math.max(a,b,c),f=Math.min(a,b,c),h,l=(e+f)/2,m=e-f;if(e===f)h=f=0;else{f=0.5<l?m/(2-e-f):m/(e+f);switch(e){case a:h=(b-c)/m+(b<c?6:0);break;case b:h=(c-a)/m+2;break;case c:h=(a-b)/m+4}h/=6}return{h:360*h,s:f,l:l,a:d}},toARGB:function(){return"#"+[Math.round(255*this.alpha)].concat(this.rgb).map(function(a){a=Math.round(a);a=(255<a?255:0>a?0:a).toString(16);return 1===a.length?"0"+a:a}).join("")},compare:function(a){return!a.rgb?-1:a.rgb[0]===this.rgb[0]&&a.rgb[1]===this.rgb[1]&&a.rgb[2]===this.rgb[2]&&
a.alpha===this.alpha?0:-1}}})(c("../tree"));(function(a){a.Comment=function(a,b){this.value=a;this.silent=!!b};a.Comment.prototype={toCSS:function(a){return a.compress?"":this.value},eval:function(){return this}}})(c("../tree"));(function(a){a.Condition=function(a,b,c,d,e){this.op=a.trim();this.lvalue=b;this.rvalue=c;this.index=d;this.negate=e};a.Condition.prototype.eval=function(a){var b=this.lvalue.eval(a),c=this.rvalue.eval(a),d=this.index,e;e=function(a){switch(a){case "and":return b&&c;case "or":return b||
c;default:if(b.compare)e=b.compare(c);else if(c.compare)e=c.compare(b);else throw{type:"Type",message:"Unable to perform comparison",index:d};switch(e){case -1:return"\x3c"===a||"\x3d\x3c"===a;case 0:return"\x3d"===a||"\x3e\x3d"===a||"\x3d\x3c"===a;case 1:return"\x3e"===a||"\x3e\x3d"===a}}}(this.op);return this.negate?!e:e}})(c("../tree"));(function(a){a.Dimension=function(a,b){this.value=parseFloat(a);this.unit=b||null};a.Dimension.prototype={eval:function(){return this},toColor:function(){return new a.Color([this.value,
this.value,this.value])},toCSS:function(){return this.value+this.unit},operate:function(b,c){return new a.Dimension(a.operate(b,this.value,c.value),this.unit||c.unit)},compare:function(b){return b instanceof a.Dimension?b.value>this.value?-1:b.value<this.value?1:b.unit&&this.unit!==b.unit?-1:0:-1}}})(c("../tree"));(function(a){a.Directive=function(b,c){this.name=b;Array.isArray(c)?(this.ruleset=new a.Ruleset([],c),this.ruleset.allowImports=!0):this.value=c};a.Directive.prototype={toCSS:function(a,
b){return this.ruleset?(this.ruleset.root=!0,this.name+(b.compress?"{":" {\n  ")+this.ruleset.toCSS(a,b).trim().replace(/\n/g,"\n  ")+(b.compress?"}":"\n}\n")):this.name+" "+this.value.toCSS()+";\n"},eval:function(b){var c=this;this.ruleset&&(b.frames.unshift(this),c=new a.Directive(this.name),c.ruleset=this.ruleset.eval(b),b.frames.shift());return c},variable:function(b){return a.Ruleset.prototype.variable.call(this.ruleset,b)},find:function(){return a.Ruleset.prototype.find.apply(this.ruleset,arguments)},
rulesets:function(){return a.Ruleset.prototype.rulesets.apply(this.ruleset)}}})(c("../tree"));(function(a){a.Element=function(b,c,d){this.combinator=b instanceof a.Combinator?b:new a.Combinator(b);this.value="string"===typeof c?c.trim():c?c:"";this.index=d};a.Element.prototype.eval=function(b){return new a.Element(this.combinator,this.value.eval?this.value.eval(b):this.value,this.index)};a.Element.prototype.toCSS=function(a){var b=this.value.toCSS?this.value.toCSS(a):this.value;return""==b&&"\x26"==
this.combinator.value.charAt(0)?"":this.combinator.toCSS(a||{})+b};a.Combinator=function(a){this.value=" "===a?" ":a?a.trim():""};a.Combinator.prototype.toCSS=function(a){return{"":""," ":" ",":":" :","+":a.compress?"+":" + ","~":a.compress?"~":" ~ ","\x3e":a.compress?"\x3e":" \x3e ","|":a.compress?"|":" | "}[this.value]}})(c("../tree"));(function(a){a.Expression=function(a){this.value=a};a.Expression.prototype={eval:function(b){return 1<this.value.length?new a.Expression(this.value.map(function(a){return a.eval(b)})):
1===this.value.length?this.value[0].eval(b):this},toCSS:function(a){return this.value.map(function(b){return b.toCSS?b.toCSS(a):""}).join(" ")}}})(c("../tree"));(function(a){a.Import=function(b,c,d,e,g,f){var h=this;this.once=e;this.index=g;this._path=b;this.features=d&&new a.Value(d);this.rootpath=f;this.path=b instanceof a.Quoted?/(\.[a-z]*$)|([\?;].*)$/.test(b.value)?b.value:b.value+".less":b.value.value||b.value;(this.css=/css([\?;].*)?$/.test(this.path))||c.push(this.path,function(b,c,d){b&&
(b.index=g);d&&h.once&&(h.skip=d);h.root=c||new a.Ruleset([],[])})};a.Import.prototype={toCSS:function(a){a=this.features?" "+this.features.toCSS(a):"";return this.css?("string"===typeof this._path.value&&!/^(?:[a-z-]+:|\/)/.test(this._path.value)&&(this._path.value=this.rootpath+this._path.value),"@import "+this._path.toCSS()+a+";\n"):""},eval:function(b){var c;this.features&&this.features.eval(b);if(this.skip)return[];if(this.css)return this;c=new a.Ruleset([],this.root.rules.slice(0));c.evalImports(b);
return this.features?new a.Media(c.rules,this.features.value):c.rules}}})(c("../tree"));(function(a){a.JavaScript=function(a,b,c){this.escaped=c;this.expression=a;this.index=b};a.JavaScript.prototype={eval:function(b){var c,d=this,e={},g=this.expression.replace(/@\{([\w-]+)\}/g,function(c,e){return a.jsify((new a.Variable("@"+e,d.index)).eval(b))});try{g=new Function("return ("+g+")")}catch(f){throw{message:"JavaScript evaluation error: `"+g+"`",index:this.index};}for(var h in b.frames[0].variables())e[h.slice(1)]=
{value:b.frames[0].variables()[h].value,toJS:function(){return this.value.eval(b).toCSS()}};try{c=g.call(e)}catch(l){throw{message:"JavaScript evaluation error: '"+l.name+": "+l.message+"'",index:this.index};}return"string"===typeof c?new a.Quoted('"'+c+'"',c,this.escaped,this.index):Array.isArray(c)?new a.Anonymous(c.join(", ")):new a.Anonymous(c)}}})(c("../tree"));(function(a){a.Keyword=function(a){this.value=a};a.Keyword.prototype={eval:function(){return this},toCSS:function(){return this.value},
compare:function(b){return b instanceof a.Keyword?b.value===this.value?0:1:-1}};a.True=new a.Keyword("true");a.False=new a.Keyword("false")})(c("../tree"));(function(a){a.Media=function(b,c){var d=this.emptySelectors();this.features=new a.Value(c);this.ruleset=new a.Ruleset(d,b);this.ruleset.allowImports=!0};a.Media.prototype={toCSS:function(a,b){var c=this.features.toCSS(b);this.ruleset.root=0===a.length||a[0].multiMedia;return"@media "+c+(b.compress?"{":" {\n  ")+this.ruleset.toCSS(a,b).trim().replace(/\n/g,
"\n  ")+(b.compress?"}":"\n}\n")},eval:function(b){b.mediaBlocks||(b.mediaBlocks=[],b.mediaPath=[]);var c=new a.Media([],[]);this.debugInfo&&(this.ruleset.debugInfo=this.debugInfo,c.debugInfo=this.debugInfo);c.features=this.features.eval(b);b.mediaPath.push(c);b.mediaBlocks.push(c);b.frames.unshift(this.ruleset);c.ruleset=this.ruleset.eval(b);b.frames.shift();b.mediaPath.pop();return 0===b.mediaPath.length?c.evalTop(b):c.evalNested(b)},variable:function(b){return a.Ruleset.prototype.variable.call(this.ruleset,
b)},find:function(){return a.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return a.Ruleset.prototype.rulesets.apply(this.ruleset)},emptySelectors:function(){var b=new a.Element("","\x26",0);return[new a.Selector([b])]},evalTop:function(b){var c=this;1<b.mediaBlocks.length&&(c=this.emptySelectors(),c=new a.Ruleset(c,b.mediaBlocks),c.multiMedia=!0);delete b.mediaBlocks;delete b.mediaPath;return c},evalNested:function(b){var c,d=b.mediaPath.concat([this]);for(c=0;c<d.length;c++)b=
d[c].features instanceof a.Value?d[c].features.value:d[c].features,d[c]=Array.isArray(b)?b:[b];this.features=new a.Value(this.permute(d).map(function(b){b=b.map(function(b){return b.toCSS?b:new a.Anonymous(b)});for(c=b.length-1;0<c;c--)b.splice(c,0,new a.Anonymous("and"));return new a.Expression(b)}));return new a.Ruleset([],[])},permute:function(a){if(0===a.length)return[];if(1===a.length)return a[0];for(var b=[],c=this.permute(a.slice(1)),d=0;d<c.length;d++)for(var e=0;e<a[0].length;e++)b.push([a[0][e]].concat(c[d]));
return b},bubbleSelectors:function(b){this.ruleset=new a.Ruleset(b.slice(0),[this.ruleset])}}})(c("../tree"));(function(a){a.mixin={};a.mixin.Call=function(b,c,d,e,g){this.selector=new a.Selector(b);this.arguments=c;this.index=d;this.filename=e;this.important=g};a.mixin.Call.prototype={eval:function(b){var c,d,e,g=[],f=!1,h,l,m,p,s;e=this.arguments&&this.arguments.map(function(a){return{name:a.name,value:a.value.eval(b)}});for(h=0;h<b.frames.length;h++)if(0<(c=b.frames[h].find(this.selector)).length){s=
!0;for(l=0;l<c.length;l++){d=c[l];p=!1;for(m=0;m<b.frames.length;m++)if(!(d instanceof a.mixin.Definition)&&d===(b.frames[m].originalRuleset||b.frames[m])){p=!0;break}if(!p&&d.matchArgs(e,b)){if(!d.matchCondition||d.matchCondition(e,b))try{Array.prototype.push.apply(g,d.eval(b,e,this.important).rules)}catch(t){throw{message:t.message,index:this.index,filename:this.filename,stack:t.stack};}f=!0}}if(f)return g}if(s)throw{type:"Runtime",message:"No matching definition was found for `"+this.selector.toCSS().trim()+
"("+(e?e.map(function(a){var b="";a.name&&(b+=a.name+":");return b=a.value.toCSS?b+a.value.toCSS():b+"???"}).join(", "):"")+")`",index:this.index,filename:this.filename};throw{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.filename};}};a.mixin.Definition=function(b,c,d,e,g){this.name=b;this.selectors=[new a.Selector([new a.Element(null,b)])];this.params=c;this.condition=e;this.variadic=g;this.arity=c.length;this.rules=d;this._lookups={};this.required=
c.reduce(function(a,b){return!b.name||b.name&&!b.value?a+1:a},0);this.parent=a.Ruleset.prototype;this.frames=[]};a.mixin.Definition.prototype={toCSS:function(){return""},variable:function(a){return this.parent.variable.call(this,a)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(b,c,d,e){var g=new a.Ruleset(null,[]),f,h=this.params.slice(0),
l,m,p,s;if(d){d=d.slice(0);for(l=0;l<d.length;l++)if(p=(f=d[l])&&f.name){s=!1;for(m=0;m<h.length;m++)if(!e[m]&&p===h[m].name){e[m]=f.value.eval(b);g.rules.unshift(new a.Rule(p,f.value.eval(b)));s=!0;break}if(s)d.splice(l,1),l--;else throw{type:"Runtime",message:"Named argument for "+this.name+" "+d[l].name+" not found"};}}for(l=s=0;l<h.length;l++)if(!e[l]){f=d&&d[s];if(p=h[l].name)if(h[l].variadic&&d){f=[];for(m=s;m<d.length;m++)f.push(d[m].value.eval(b));g.rules.unshift(new a.Rule(p,(new a.Expression(f)).eval(b)))}else{if(m=
f&&f.value)m=m.eval(b);else if(h[l].value)m=h[l].value.eval(c);else throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+d.length+" for "+this.arity+")"};g.rules.unshift(new a.Rule(p,m));e[l]=m}if(h[l].variadic&&d)for(m=s;m<d.length;m++)e[m]=d[m].value.eval(b);s++}return g},eval:function(b,c,d){var e=[],g=this.frames.concat(b.frames);c=this.evalParams(b,{frames:g},c,e);c.rules.unshift(new a.Rule("@arguments",(new a.Expression(e)).eval(b)));b=d?this.parent.makeImportant.apply(this).rules:
this.rules.slice(0);g=(new a.Ruleset(null,b)).eval({frames:[this,c].concat(g)});g.originalRuleset=this;return g},matchCondition:function(a,b){return this.condition&&!this.condition.eval({frames:[this.evalParams(b,{frames:this.frames.concat(b.frames)},a,[])].concat(b.frames)})?!1:!0},matchArgs:function(a,b){var c=a&&a.length||0;if(!this.variadic&&(c<this.required||c>this.params.length||0<this.required&&c>this.params.length))return!1;for(var c=Math.min(c,this.arity),d=0;d<c;d++)if(!this.params[d].name&&
!this.params[d].variadic&&a[d].value.eval(b).toCSS()!=this.params[d].value.eval(b).toCSS())return!1;return!0}}})(c("../tree"));(function(a){a.Operation=function(a,b){this.op=a.trim();this.operands=b};a.Operation.prototype.eval=function(b){var c=this.operands[0].eval(b);b=this.operands[1].eval(b);var d;if(c instanceof a.Dimension&&b instanceof a.Color)if("*"===this.op||"+"===this.op)d=b,b=c,c=d;else throw{name:"OperationError",message:"Can't substract or divide a color from a number"};if(!c.operate)throw{name:"OperationError",
message:"Operation on an invalid type"};return c.operate(this.op,b)};a.operate=function(a,b,c){switch(a){case "+":return b+c;case "-":return b-c;case "*":return b*c;case "/":return b/c}}})(c("../tree"));(function(a){a.Paren=function(a){this.value=a};a.Paren.prototype={toCSS:function(a){return"("+this.value.toCSS(a)+")"},eval:function(b){return new a.Paren(this.value.eval(b))}}})(c("../tree"));(function(a){a.Quoted=function(a,b,c,d){this.escaped=c;this.value=b||"";this.quote=a.charAt(0);this.index=
d};a.Quoted.prototype={toCSS:function(){return this.escaped?this.value:this.quote+this.value+this.quote},eval:function(b){var c=this,d=this.value.replace(/`([^`]+)`/g,function(d,e){return(new a.JavaScript(e,c.index,!0)).eval(b).value}).replace(/@\{([\w-]+)\}/g,function(d,e){var f=(new a.Variable("@"+e,c.index)).eval(b);return f instanceof a.Quoted?f.value:f.toCSS()});return new a.Quoted(this.quote+d+this.quote,d,this.escaped,this.index)},compare:function(a){if(!a.toCSS)return-1;var b=this.toCSS();
a=a.toCSS();return b===a?0:b<a?-1:1}}})(c("../tree"));(function(a){a.Ratio=function(a){this.value=a};a.Ratio.prototype={toCSS:function(a){return this.value},eval:function(){return this}}})(c("../tree"));(function(a){a.Rule=function(b,c,d,e,g){this.name=b;this.value=c instanceof a.Value?c:new a.Value([c]);this.important=d?" "+d.trim():"";this.index=e;this.inline=g||!1;"@"===b.charAt(0)?this.variable=!0:this.variable=!1};a.Rule.prototype.toCSS=function(a){return this.variable?"":this.name+(a.compress?
":":": ")+this.value.toCSS(a)+this.important+(this.inline?"":";")};a.Rule.prototype.eval=function(b){return new a.Rule(this.name,this.value.eval(b),this.important,this.index,this.inline)};a.Rule.prototype.makeImportant=function(){return new a.Rule(this.name,this.value,"!important",this.index,this.inline)};a.Shorthand=function(a,b){this.a=a;this.b=b};a.Shorthand.prototype={toCSS:function(a){return this.a.toCSS(a)+"/"+this.b.toCSS(a)},eval:function(){return this}}})(c("../tree"));(function(a){a.Ruleset=
function(a,b,c){this.selectors=a;this.rules=b;this._lookups={};this.strictImports=c};a.Ruleset.prototype={eval:function(b){var c=this.selectors&&this.selectors.map(function(a){return a.eval(b)}),d=new a.Ruleset(c,this.rules.slice(0),this.strictImports),e;d.originalRuleset=this;d.root=this.root;d.allowImports=this.allowImports;this.debugInfo&&(d.debugInfo=this.debugInfo);b.frames.unshift(d);(d.root||d.allowImports||!d.strictImports)&&d.evalImports(b);for(var g=0;g<d.rules.length;g++)d.rules[g]instanceof
a.mixin.Definition&&(d.rules[g].frames=b.frames.slice(0));for(var f=b.mediaBlocks&&b.mediaBlocks.length||0,g=0;g<d.rules.length;g++)d.rules[g]instanceof a.mixin.Call&&(e=d.rules[g].eval(b),d.rules.splice.apply(d.rules,[g,1].concat(e)),g+=e.length-1,d.resetCache());for(g=0;g<d.rules.length;g++)e=d.rules[g],e instanceof a.mixin.Definition||(d.rules[g]=e.eval?e.eval(b):e);b.frames.shift();if(b.mediaBlocks)for(g=f;g<b.mediaBlocks.length;g++)b.mediaBlocks[g].bubbleSelectors(c);return d},evalImports:function(b){var c,
d;for(c=0;c<this.rules.length;c++)this.rules[c]instanceof a.Import&&(d=this.rules[c].eval(b),"number"===typeof d.length?(this.rules.splice.apply(this.rules,[c,1].concat(d)),c+=d.length-1):this.rules.splice(c,1,d),this.resetCache())},makeImportant:function(){return new a.Ruleset(this.selectors,this.rules.map(function(a){return a.makeImportant?a.makeImportant():a}),this.strictImports)},matchArgs:function(a){return!a||0===a.length},resetCache:function(){this._variables=this._rulesets=null;this._lookups=
{}},variables:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(b,c){c instanceof a.Rule&&!0===c.variable&&(b[c.name]=c);return b},{})},variable:function(a){return this.variables()[a]},rulesets:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(b){return b instanceof a.Ruleset||b instanceof a.mixin.Definition})},find:function(b,c){c=c||this;var d=[],e=b.toCSS();if(e in this._lookups)return this._lookups[e];this.rulesets().forEach(function(e){if(e!==
c)for(var f=0;f<e.selectors.length;f++)if(b.match(e.selectors[f])){b.elements.length>e.selectors[f].elements.length?Array.prototype.push.apply(d,e.find(new a.Selector(b.elements.slice(1)),c)):d.push(e);break}});return this._lookups[e]=d},toCSS:function(b,c){var d=[],e=[],f=[],h=[],l=[],m;this.root||this.joinSelectors(l,b,this.selectors);for(var p=0;p<this.rules.length;p++)if(m=this.rules[p],m.rules||m instanceof a.Media)h.push(m.toCSS(l,c));else if(m instanceof a.Directive){var s=m.toCSS(l,c);if("@charset"===
m.name){if(c.charset){m.debugInfo&&(h.push(a.debugInfo(c,m)),h.push((new a.Comment("/* "+s.replace(/\n/g,"")+" */\n")).toCSS(c)));continue}c.charset=!0}h.push(s)}else m instanceof a.Comment?m.silent||(this.root?h.push(m.toCSS(c)):e.push(m.toCSS(c))):m.toCSS&&!m.variable?e.push(m.toCSS(c)):m.value&&!m.variable&&e.push(m.value.toString());h=h.join("");if(this.root)d.push(e.join(c.compress?"":"\n"));else if(0<e.length){m=a.debugInfo(c,this);l=l.map(function(a){return a.map(function(a){return a.toCSS(c)}).join("").trim()}).join(c.compress?
",":",\n");for(p=e.length-1;0<=p;p--)-1===f.indexOf(e[p])&&f.unshift(e[p]);d.push(m+l+(c.compress?"{":" {\n  ")+f.join(c.compress?"":"\n  ")+(c.compress?"}":"\n}\n"))}d.push(h);return d.join("")+(c.compress?"\n":"")},joinSelectors:function(a,b,c){for(var d=0;d<c.length;d++)this.joinSelector(a,b,c[d])},joinSelector:function(b,c,d){var e,f,h,l,m,p,s,t,v,x,z,B;for(e=0;e<d.elements.length;e++)m=d.elements[e],"\x26"===m.value&&(l=!0);if(l){f=[];l=[[]];for(e=0;e<d.elements.length;e++)if(m=d.elements[e],
"\x26"!==m.value)f.push(m);else{B=[];0<f.length&&this.mergeElementsOnToSelectors(f,l);for(f=0;f<l.length;f++)if(p=l[f],0==c.length)0<p.length&&(p[0].elements=p[0].elements.slice(0),p[0].elements.push(new a.Element(m.combinator,"",0))),B.push(p);else for(h=0;h<c.length;h++)s=c[h],t=[],v=[],z=!0,0<p.length?(t=p.slice(0),x=t.pop(),x=new a.Selector(x.elements.slice(0)),z=!1):x=new a.Selector([]),1<s.length&&(v=v.concat(s.slice(1))),0<s.length&&(z=!1,x.elements.push(new a.Element(m.combinator,s[0].elements[0].value,
0)),x.elements=x.elements.concat(s[0].elements.slice(1))),z||t.push(x),t=t.concat(v),B.push(t);l=B;f=[]}0<f.length&&this.mergeElementsOnToSelectors(f,l);for(e=0;e<l.length;e++)b.push(l[e])}else if(0<c.length)for(e=0;e<c.length;e++)b.push(c[e].concat(d));else b.push([d])},mergeElementsOnToSelectors:function(b,c){var d,e;if(0==c.length)c.push([new a.Selector(b)]);else for(d=0;d<c.length;d++)e=c[d],0<e.length?e[e.length-1]=new a.Selector(e[e.length-1].elements.concat(b)):e.push(new a.Selector(b))}}})(c("../tree"));
(function(a){a.Selector=function(a){this.elements=a};a.Selector.prototype.match=function(a){var b=this.elements,c=b.length,d,e;a=a.elements.slice(a.elements.length&&"\x26"===a.elements[0].value?1:0);d=a.length;e=Math.min(c,d);if(0===d||c<d)return!1;for(c=0;c<e;c++)if(b[c].value!==a[c].value)return!1;return!0};a.Selector.prototype.eval=function(b){return new a.Selector(this.elements.map(function(a){return a.eval(b)}))};a.Selector.prototype.toCSS=function(a){if(this._css)return this._css;this._css=
""===this.elements[0].combinator.value?" ":"";return this._css+=this.elements.map(function(b){return"string"===typeof b?" "+b.trim():b.toCSS(a)}).join("")}})(c("../tree"));(function(a){a.UnicodeDescriptor=function(a){this.value=a};a.UnicodeDescriptor.prototype={toCSS:function(a){return this.value},eval:function(){return this}}})(c("../tree"));(function(a){a.URL=function(a,b){this.value=a;this.rootpath=b};a.URL.prototype={toCSS:function(){return"url("+this.value.toCSS()+")"},eval:function(b){b=this.value.eval(b);
var c;"string"===typeof b.value&&!/^(?:[a-z-]+:|\/)/.test(b.value)&&(c=this.rootpath,b.quote||(c=c.replace(/[\(\)'"\s]/g,function(a){return"\\"+a})),b.value=c+b.value);return new a.URL(b,this.rootpath)}}})(c("../tree"));(function(a){a.Value=function(a){this.value=a;this.is="value"};a.Value.prototype={eval:function(b){return 1===this.value.length?this.value[0].eval(b):new a.Value(this.value.map(function(a){return a.eval(b)}))},toCSS:function(a){return this.value.map(function(b){return b.toCSS(a)}).join(a.compress?
",":", ")}}})(c("../tree"));(function(a){a.Variable=function(a,b,c){this.name=a;this.index=b;this.file=c};a.Variable.prototype={eval:function(b){var c,d,e=this.name;0==e.indexOf("@@")&&(e="@"+(new a.Variable(e.slice(1))).eval(b).value);if(this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+e,filename:this.file,index:this.index};this.evaluating=!0;if(c=a.find(b.frames,function(a){if(d=a.variable(e))return d.value.eval(b)}))return this.evaluating=!1,c;throw{type:"Name",message:"variable "+
e+" is undefined",filename:this.file,index:this.index};}}})(c("../tree"));(function(a){a.debugInfo=function(b,c){var d="";if(b.dumpLineNumbers&&!b.compress)switch(b.dumpLineNumbers){case "comments":d=a.debugInfo.asComment(c);break;case "mediaquery":d=a.debugInfo.asMediaQuery(c);break;case "all":d=a.debugInfo.asComment(c)+a.debugInfo.asMediaQuery(c)}return d};a.debugInfo.asComment=function(a){return"/* line "+a.debugInfo.lineNumber+", "+a.debugInfo.fileName+" */\n"};a.debugInfo.asMediaQuery=function(a){return"@media -sass-debug-info{filename{font-family:"+
("file://"+a.debugInfo.fileName).replace(/[\/:.]/g,"\\$\x26")+"}line{font-family:\\00003"+a.debugInfo.lineNumber+"}}\n"};a.find=function(a,b){for(var c=0,d;c<a.length;c++)if(d=b.call(a,a[c]))return d;return null};a.jsify=function(a){return Array.isArray(a.value)&&1<a.value.length?"["+a.value.map(function(a){return a.toCSS(!1)}).join(", ")+"]":a.toCSS(!1)}})(c("./tree"));var E=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);z.env=z.env||("127.0.0.1"==location.hostname||"0.0.0.0"==
location.hostname||"localhost"==location.hostname||0<location.port.length||E?"development":"production");z.async=z.async||!1;z.fileAsync=z.fileAsync||!1;z.poll=z.poll||(E?1E3:1500);if(z.functions)for(var G in z.functions)z.tree.functions[G]=z.functions[G];if(G=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash))z.dumpLineNumbers=G[1];z.watch=function(){z.watchMode||(z.env="development",e());return this.watchMode=!0};z.unwatch=function(){clearInterval(z.watchTimer);return this.watchMode=
!1};/!watch/.test(location.hash)&&z.watch();var K=null;if("development"!=z.env)try{K="undefined"===typeof b.localStorage?null:b.localStorage}catch(H){}G=document.getElementsByTagName("link");var M=/^text\/(x-)?less$/;z.sheets=[];for(var R=0;R<G.length;R++)("stylesheet/less"===G[R].rel||G[R].rel.match(/stylesheet/)&&G[R].type.match(M))&&z.sheets.push(G[R]);var Q="";z.modifyVars=function(a){var b=Q;for(name in a)b+=("@"===name.slice(0,1)?"":"@")+name+": "+(";"===a[name].slice(-1)?a[name]:a[name]+";");
(new z.Parser).parse(b,function(a,b){p(b.toCSS(),z.sheets[z.sheets.length-1])})};z.refresh=function(a){var b,c;b=c=new Date;l(function(a,d,e,f,h){h.local?t("loading "+f.href+" from cache."):(t("parsed "+f.href+" successfully."),p(d.toCSS(),f,h.lastModified));t("css for "+f.href+" generated in "+(new Date-c)+"ms");0===h.remaining&&t("css generated in "+(new Date-b)+"ms");c=new Date},a);h()};z.refreshStyles=h;z.refresh("development"===z.env);"function"===typeof define&&define.amd&&define("less",[],
function(){return z})})(window);